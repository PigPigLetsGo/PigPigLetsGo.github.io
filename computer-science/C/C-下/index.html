<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="Dkx の Java小窝" href="https://pigpigletsgo.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="Dkx の Java小窝" href="https://pigpigletsgo.github.io/atom.xml"><link rel="alternate" type="application/json" title="Dkx の Java小窝" href="https://pigpigletsgo.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="计算机学科,C,基础"><link rel="canonical" href="https://pigpigletsgo.github.io/computer-science/C/C-%E4%B8%8B/"><title>C 语言 - 下 - C - 计算机学科 | Dou的个人博客 = Dkx の Java 小窝 = 别怕路长梦远</title><meta name="generator" content="Hexo 5.4.2"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">C 语言 - 下</h1><div class="meta"><span class="item" title="创建时间：2024-01-05 13:59:05"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2024-01-05T13:59:05+08:00">2024-01-05</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>55k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>50 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Dou的个人博客</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/5651daf17bf5de77514e658264d7cccc.jpg"></li><li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/5da180f23a92b4141ea87338ac84c765.jpg"></li><li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/666b3077b407f3c0ce9c10c00b861abe.jpg"></li><li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/560306a4274d1fc26eb475dd52237387.jpg"></li><li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/6c7f469735b99a6a04773240429dc7e0.jpg"></li><li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/5da180f23a92b4141ea87338ac84c765.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/" itemprop="item" rel="index" title="分类于 计算机学科"><span itemprop="name">计算机学科</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/C/" itemprop="item" rel="index" title="分类于 C"><span itemprop="name">C</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://pigpigletsgo.github.io/computer-science/C/C-%E4%B8%8B/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Dkx"><meta itemprop="description" content="别怕路长梦远, 欢迎来我的博客空间"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Dkx の Java 小窝"></span><div class="body md" itemprop="articleBody"><h2 id="7-指针"><a class="anchor" href="#7-指针">#</a> 7 指针🎄</h2><h3 id="71-概述"><a class="anchor" href="#71-概述">#</a> 7.1 概述🌳</h3><h4 id="711-内存"><a class="anchor" href="#711-内存">#</a> 7.1.1 内存🌲</h4><p><strong>内存含义</strong>：</p><ul><li><strong>存储器</strong>：计算机的组成中，用来存储<mark>程序</mark>和<mark>数据</mark>，<mark>辅助 CPU 进行运算处理</mark>的重要部分</li><li><strong>内存</strong>：<mark>内部存储器</mark>，暂存程序 / 数据 ——<mark> 断电丢失</mark> SRAM，DRAM，DDR，DDR2，DDR3</li><li><strong>外存</strong>：<mark>外部存储器</mark>，长时间保存程序 / 数据 ——<mark> 断点不丢失</mark> ROM ，ERROM，FLASH (NAND，NOR)，硬盘，光盘。</li></ul><p><strong>内存是沟通 CPU 与硬盘的桥梁</strong>：</p><ul><li>暂存放，CPU 中的运算数据</li><li>暂存放，与硬盘等外部存储器交换的数据</li></ul><h4 id="712-物理存储器和存储地址空间"><a class="anchor" href="#712-物理存储器和存储地址空间">#</a> 7.1.2 物理存储器和存储地址空间🌲</h4><p><strong>有关内存的两个概念</strong>：<mark>物理存储器</mark>和<mark>存储地址空间</mark>.</p><p><strong>物理存储器</strong>：实际存在的具体存储器芯片</p><ul><li>主板上装插的内存条</li><li>显示卡上的显示 RAM 芯片</li><li>各种适配卡上的 RAM 芯片和 ROM 芯片</li></ul><p><strong>存储地址空间</strong>：对存储器编码的范围。我们在软件上常说的内存是指这一层含义</p><ul><li><mark>编码</mark>：对每个物理存储单元 (一个字节) 分配一个号码</li><li><mark>寻址</mark>：可以根据分配的号码找到对应的存储单元，完成数据的读写</li></ul><h4 id="713-内存地址"><a class="anchor" href="#713-内存地址">#</a> 7.1.3 内存地址🌲</h4><ul><li>将内存抽象成一个很大的一维字符数组</li><li>编码就是对内存的每一个字节分配一个 32 位或 64 位的编号 (与 32 位或者 64 位处理器相关)</li><li>这个内存编号我们称之为内存地址。</li></ul><p>内存中的每一个数据都会分配一个地址：</p><ul><li>char：占一个字节分配一个地址</li><li>int：占四个字节分配四个地址</li><li>float，struct，函数，数组等</li></ul><p>编写一段代码：</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>   <span class="token comment">// 使用十六进制的数据 查看内存的时候不会被转换</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0xaabbccdd</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>在 getchar () 位置打断点然后进行 debug，从终端复制一下 a 变量的地址，到调试的内存中进行查询</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309242016365.png" alt="image-20230924201641000"></p><p>当我们对这个内存地址进行一下修改访问 000000F0470FF7B5 呢</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309242017862.png" alt="image-20230924201731912"></p><p>访问 000000F0470FF7B6 呢</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309242018216.png" alt="image-20230924201803904"></p><p>终端输出的是 a 变量内存地址的首地址，一个 int 类型 4 个字节 8 个比特。首地址与其它的三个内存地址是连续的一个内存空间</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309242059565.png" alt="image-20230924205949831"></p><h4 id="714-指针和指针变量"><a class="anchor" href="#714-指针和指针变量">#</a> 7.1.4 指针和指针变量🌲</h4><ul><li>&lt;font color='red'&gt; 内存区的每一个字节都有一个编号，这就是 “地址”&lt;/font&gt;.</li><li>如果在程序中定义了一个变量，在对程序进行编译或运行时，系统就会给这个变量分配内存单元，并确定它的内存地址 (编号)</li><li>指针的实质就是内存 “地址” ，指针就是地址，地址就是指针</li><li>&lt;font color='red'&gt; 指针是内存单元的编号，指针变量是存放地址的变量 &lt;/font&gt;.</li><li>通常我们叙述时会把指针变量简称为指针，实际它们含义并不一样</li></ul><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309251119753.png" alt="image-20230925111922033"></p><h3 id="72-指针的基础知识"><a class="anchor" href="#72-指针的基础知识">#</a> 7.2 指针的基础知识🌳</h3><h4 id="721-指针变量的定义和使用"><a class="anchor" href="#721-指针变量的定义和使用">#</a> 7.2.1 指针变量的定义和使用🌲</h4><ul><li>指针也是一种<mark>数据类型</mark>，指针变量也是一种<mark>变量</mark>.</li><li>指针变量指向谁，就把谁的地址赋值给指针变量</li><li>‘*’ 操作符操作的是指针变量指向的内存空间</li></ul><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token comment">// 定义指针变量存储变量地址  指针类型 -> 数据类型 *</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> p<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token comment">// 取出 a 对应的地址赋值给 指针变量 p</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"----------------\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token comment">//---------------------- 运行结果 ----------------------</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token number">000000</span>A2548FFCB4</pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token number">000000</span>A2548FFCB4</pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token number">10</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token number">10</span></pre></td></tr><tr><td data-num="23"></td><td><pre></pre></td></tr><tr><td data-num="24"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\x64\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">18928</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="25"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309242121778.png" alt="image-20230924212109809"></p><h4 id="722-通过指针间接修改变量的值"><a class="anchor" href="#722-通过指针间接修改变量的值">#</a> 7.2.2 通过指针间接修改变量的值🌲</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token comment">// 定义指针变量存储变量地址  指针类型 -> 数据类型 *</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> p<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token comment">// 取出 a 对应的地址赋值给 指针变量 p</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token comment">// 通过指针间接改变 变量的值</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment">//--------------------- 运行结果 ---------------------</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token number">100</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token number">100</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">15900</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="21"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h4 id="723-指针大小"><a class="anchor" href="#723-指针大小">#</a> 7.2.3 指针大小🌲</h4><ul><li>&lt;font color='red'&gt; 使用 sizeof () 测量指针的大小，得到的总是：4 或 8&lt;/font&gt;.</li><li>sizeof () 测的是指针变量指向存储地址的大小</li><li>在 32 位平台，所有的指针 (地址) 都是 32 位 (4 字节)</li><li>在 64 位平台， 所有的指针 (地址) 都是 64 位 (8 字节)</li></ul><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token comment">// 指针类型的内存空间根据操作系统位的不同而不同</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"int %d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// x86: 4 | x64: 8</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"char %d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// x86: 4| x64: 8</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"short %d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">short</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// x86: 4| x64: 8</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"long %d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">long</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// x86: 4| x64: 8</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"long long %d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">long</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// x86: 4| x64: 8</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"float %d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">float</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// x86: 4| x64: 8</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"double %d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// x86: 4| x64: 8</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">//--------------------- 运行结果 ---------------------</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">int</span> <span class="token number">4</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">char</span> <span class="token number">4</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">short</span> <span class="token number">4</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">long</span> <span class="token number">4</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token keyword">long</span> <span class="token keyword">long</span> <span class="token number">4</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token keyword">float</span> <span class="token number">4</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token keyword">double</span> <span class="token number">4</span></pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">17352</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="23"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309242156170.png" alt="image-20230924215613591"></p><h4 id="724-强制类型转换"><a class="anchor" href="#724-强制类型转换">#</a> 7.2.4 强制类型转换🌲</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token comment">// &amp; 是取地址运算符 是升维度的。普通变量加 & amp; 变一级指针。</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">// * 是取值运算符 是降维度的。如果是一级指针前面加 * 就是普通变量，</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token comment">// 如果是二级指针前面加 * 就是一级指针，二级指针前面两 * 就是普通变量。</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">int</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token comment">// 强制类型转换</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span>p <span class="token operator">=</span> a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="725-指针类型与变量类型"><a class="anchor" href="#725-指针类型与变量类型">#</a> 7.2.5 指针类型与变量类型🌲</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token char">'a'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>ch<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"--------------------内存地址--------------------\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> ch<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"------------------------------------------------\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token comment">//*p = 123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token comment">//printf ("% d\n", ch);   error：程序报错</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> ch<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 97</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -858993567</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token comment">//------------------------- 运行结果 -------------------------</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>内存地址<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token number">00000061</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token number">0113F</span>CD7</pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token number">97</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token operator">-</span><span class="token number">858993567</span></pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">12412</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="27"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309250856513.png" alt="image-20230925085653260"></p><h4 id="726-野指针和空指针"><a class="anchor" href="#726-野指针和空指针">#</a> 7.2.6 野指针和空指针🌲</h4><p>指针变量也是变量，是变量就可以任意赋值，不要越界即可 (32 位为 4 字节，64 位为 8 字节)，但是，&lt;font color='red'&gt; 任意数值赋值给指针变量没有意义，因为这样的指针就成了野指针 &lt;/font&gt;，此指针指向的区域是未知 (操作系统不允许此指针指向的内存区域)。所以，&lt;font color='red'&gt; 野指针不会直接引起错误，操作野指针的内存区域才会出问题 &lt;/font&gt;。</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token comment">// 不建议将一个变量的值或者值赋值给指针否则就是野指针</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token comment">// 野指针 -> 指针变量指向一个未知的内存空间</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">// 未知内存空间 并不是这个地址，这个地址的内存空间是未知的</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token number">255</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token comment">// 操作野指针对应的内存空间可能报错 (也不会报错)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"p = %d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">//----------------------- 运行结果 -----------------------</span></pre></td></tr><tr><td data-num="14"></td><td><pre>啥也没有</pre></td></tr></table></figure><p>查看内存情况 debug</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309250906543.png" alt="image-20230925090607279"></p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309250906103.png" alt="image-20230925090633936"></p><p>这块地址是不允许访问的</p><p>但是，野指针和有效指针变量保存的都是数值，为了标志此指针变量没有指向任何变量 (空闲可用) ，C 语言中，可以把 NULL 赋值给此指针，这样就标志此指针为空指针，没有任何指针。</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token comment">// #define NULL ((void *)0)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token comment">// 空指针是指内存地址编号为 0 的空间</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>NULL 是一个值为 0 的宏常量：</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">NULL</span> <span class="token expression"><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token number">0</span><span class="token punctuation">)</span></span></span></pre></td></tr></table></figure><h4 id="727-万能指针-void"><a class="anchor" href="#727-万能指针-void">#</a> 7.2.7 万能指针 void*🌲</h4><p>void* 指针可以指向任意变量的内存空间：</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token comment">// int* p = &amp;a;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">// 万能指针可以接收任意类型的变量内存地址</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">void</span><span class="token operator">*</span> v <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token comment">// 在通过万能指针修改变量的值时，需要找到变量对应的指针类型</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span>v <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"a = %d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token comment">// 万能指针在取地址变量时也需要强制类型转换为对应的指针类型</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*(int*)v = %d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"v = %d\n"</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token comment">// 万能指针也是 64 位占 8 字节 84 位占 4 字节，但是指针类型是不确定的</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"sizeof(v)万能指针占内存大小：%d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment">//--------------------- 运行结果 ---------------------</span></pre></td></tr><tr><td data-num="20"></td><td><pre>a <span class="token operator">=</span> <span class="token number">200</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span>v <span class="token operator">=</span> <span class="token number">200</span></pre></td></tr><tr><td data-num="22"></td><td><pre>v <span class="token operator">=</span> <span class="token number">5897636</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token keyword">sizeof</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>万能指针占内存大小：<span class="token number">4</span></pre></td></tr><tr><td data-num="24"></td><td><pre></pre></td></tr><tr><td data-num="25"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">13120</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="26"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><p>将其 void* 类型指针赋值给其它任何类型的指针不需要强制类型转换</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">void</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> p1 <span class="token operator">=</span> p<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">//--------------------- 运行结果 ---------------------</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token number">10</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">6992</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="15"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h4 id="728-const修饰的指针变量"><a class="anchor" href="#728-const修饰的指针变量">#</a> 7.2.8 const 修饰的指针变量🌲</h4><p>在编辑程序时，指针作为函数参数，如果不想修改指针对应内存空间的值，需要使用 const 修饰指针数据类型。</p><p>基本语法：</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">// 或者</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span><span class="token operator">*</span> <span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span></pre></td></tr></table></figure><h5 id="const-修饰的指针-到底是约束了指针自己还是内存空间呢"><a class="anchor" href="#const-修饰的指针-到底是约束了指针自己还是内存空间呢">#</a> const 修饰的指针 到底是约束了指针自己还是内存空间呢？🎋</h5><h5 id="7281-常量指针"><a class="anchor" href="#7281-常量指针">#</a> 7.2.8.1 常量指针🌴</h5><p><code>const int* p = &amp;a;</code></p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token comment">// 常量 指针</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token comment">// 将常量指针存储的地址改为了 20.</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token comment">// p = 20;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>   <span class="token comment">// 修改常量指针中存储的 a 变量地址的值</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">// ERROR ， 表达式必须是可修改的左值， 常量不可被修改</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"变量a的值：%d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"常量指针存储的值：%d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10 如果 p = 20; 修改地址值 则为野指针 值不允许访问</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"常量指针内存地址：%p\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0053F9D4 如果 p = 20; 修改地址值 则为野指针 值不允许访问</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h5 id="7282-指针常量"><a class="anchor" href="#7282-指针常量">#</a> 7.2.8.2 指针常量🌴</h5><p><code>int* const p = &amp;a;</code></p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token comment">// 常量 指针</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> <span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token comment">// 将常量指针存储的地址改为了 20.</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	p <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">// ERROR ， 表达式必须是可修改的左值， 常量不可被修改</span></pre></td></tr><tr><td data-num="10"></td><td><pre>   <span class="token comment">// 修改常量指针中存储的 a 变量地址的值</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token comment">// *p = 20;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"变量a的值：%d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 20</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"常量指针存储的值：%d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 20</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"常量指针内存地址：%p\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0053F9D4</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309251019976.png" alt="image-20230925101929685"></p><h5 id="7283-常量指针常量"><a class="anchor" href="#7283-常量指针常量">#</a> 7.2.8.3 常量指针常量🌴</h5><p><code>const int* const p = &amp;a;</code> 指针类型和变量都被 const 修饰了就不能直接使用 p 或者 * p 来进行修改了否则报错。</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token comment">// 常量 指针</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">// 修饰指针类型，修饰指针变量</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">*</span> <span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token comment">// 将常量指针存储的地址改为了 20.</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	p <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">// ERROR ， 表达式必须是可修改的左值， 常量不可被修改</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token comment">// 修改常量指针中存储的 a 变量地址的值</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">// ERROR ， 表达式必须是可修改的左值， 常量不可被修改</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h5 id="7284-通过二级指针修改常量指针常量"><a class="anchor" href="#7284-通过二级指针修改常量指针常量">#</a> 7.2.8.4 通过二级指针修改常量指针常量🌴</h5><p>那还能不能修改呢？可以的！普通的常量修饰的变量我们可以使用一级指针进行修改，常量修饰的一级指针我们可以使用二级指针进行修改：</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">// 常量 指针</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token comment">// 修饰指针类型，修饰指针变量</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">*</span> <span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token comment">// 将常量指针存储的地址改为了 20.</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token comment">//p = 20; // ERROR ， 表达式必须是可修改的左值， 常量不可被修改</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token comment">// 修改常量指针中存储的 a 变量地址的值</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token comment">// *p = 20; // ERROR ， 表达式必须是可修改的左值， 常量不可被修改</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token comment">// 将一级指针 p 的地址赋值给二级指针</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span><span class="token operator">*</span> p1 <span class="token operator">=</span> <span class="token operator">&amp;</span>p<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token comment">// 修改二级指针存储的值</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token operator">*</span><span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token operator">*</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0000007B p1 变量存储的内存地址</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 00BCFC78 p 变量本身的内存地址</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 00BCFC84 p 变量中存储的内存地址</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 123  a 变量的值</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 123 a 变量的值</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 20 b 变量的值</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token comment">// *p1 是二级指针的一级指针 *p1 = *p 修改 指向地址为变量 b 的内存地址</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token operator">&amp;</span>b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*p1 = &amp;b：%d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 20  b 变量的值</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*p1 = &amp;b：%d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 123 a 变量的值</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token comment">// 已知 *p1 存储的是 &amp;b 的内存地址那么 一个 * 代表一个降级维度</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token comment">// 所以 **p1 就是 b 的变量值 对其进行修改 为 123</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token operator">*</span><span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token comment">// 上面将 * p1 赋值为了 b 变量的值为 20 然后又 通过 **p1 修改为 123</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*p1 = &amp;b：-> **p1 = 123：%d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 123  b 变量的值</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token comment">//a 变量的值在上面早已被修改</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*p1 = &amp;b：-> **p1 = 123：%d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 123 a 变量的值</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token comment">//-------------------------- 运行结果 --------------------------</span></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token number">0000007</span>B</pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token number">00</span>B3FC38</pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token number">00</span>B3FC50</pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token number">123</span></pre></td></tr><tr><td data-num="42"></td><td><pre><span class="token number">123</span></pre></td></tr><tr><td data-num="43"></td><td><pre><span class="token number">20</span></pre></td></tr><tr><td data-num="44"></td><td><pre><span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token operator">&amp;</span>b：<span class="token number">20</span></pre></td></tr><tr><td data-num="45"></td><td><pre><span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token operator">&amp;</span>b：<span class="token number">123</span></pre></td></tr><tr><td data-num="46"></td><td><pre><span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token operator">&amp;</span>b：<span class="token operator">-></span> <span class="token operator">*</span><span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token number">123</span>：<span class="token number">123</span></pre></td></tr><tr><td data-num="47"></td><td><pre><span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token operator">&amp;</span>b：<span class="token operator">-></span> <span class="token operator">*</span><span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token number">123</span>：<span class="token number">123</span></pre></td></tr><tr><td data-num="48"></td><td><pre></pre></td></tr><tr><td data-num="49"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">19116</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="50"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h4 id="729-指针修改常量的值"><a class="anchor" href="#729-指针修改常量的值">#</a> 7.2.9 指针修改常量的值🌲</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token comment">// 常量类型 a = 10;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">const</span> <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">//a = 100; // ERROR 常量数据类型不能进行修改否则报错。</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token comment">// 可以通过指针来间接性修改常量的值</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 100</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">//-------------------------- 运行结果 --------------------------</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token number">100</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">15728</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="18"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h3 id="73-指针和数组"><a class="anchor" href="#73-指针和数组">#</a> 7.3 指针和数组🌳</h3><h4 id="731-数组名"><a class="anchor" href="#731-数组名">#</a> 7.3.1 数组名🌲</h4><p>数组名字是数组的首元素地址，但它是一个常量：</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"a = %p\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"a[0]内存地址 = %p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token comment">//error 数组名只是常量地址，不能修改</span></pre></td></tr></table></figure><h4 id="732-指针操作数组元素"><a class="anchor" href="#732-指针操作数组元素">#</a> 7.3.2 指针操作数组元素🌲</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token comment">// 必须是相同类型集合，字符串和 int 不是同一个类型</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token comment">// 字符类型对应 ASCII 值为：97, 98, 99 是同一个类型 的</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1231</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token char">'a'</span><span class="token punctuation">,</span> <span class="token char">'b'</span><span class="token punctuation">,</span> <span class="token char">'c'</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token comment">// 数组名 是一个常量 不允许赋值</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token comment">// 数组名 是数组首元素地址</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token comment">// arr = 100; ERROR</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token comment">// 数组名 本事就是常量地址 不需要加 &amp; 取地址运算符</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> arr<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token comment">//arr 是一个数组 44 个字节大小</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 44</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token comment">//p 是一个指针变量 4 个字节大小</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"arr = %p\n"</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 00D3F7F0</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"p = %p\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 00D3F7F0</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*p = %d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 123</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token comment">// 已知 *p 可以直接取出 数组首地址的元素 1231 那么怎么取下一个索引的值呢</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token comment">// 答：*(p + 1) 给指针变量加上一个向后的偏移量就可以获取到下一个索引的值了</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*(p + 1) = %d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span>p <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>		<span class="token comment">//p 是变量，arr 是常量 所以循环是 p 可以使用 ++ 进行修改 + 1 而 arr 不行</span></pre></td></tr><tr><td data-num="28"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"arr[%d] = %d\t"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token comment">// 指针变量减去 arr 数组名首地址 循环中 p++ 指针到了数组的最后了</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token comment">// 所有指针类型相减结果都是 int 类型的。</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token keyword">int</span> step <span class="token operator">=</span> p <span class="token operator">-</span> arr<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"p - arr = %d\n"</span><span class="token punctuation">,</span> step<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 11</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token comment">//---------------------------- 运行结果 ----------------------------</span></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token number">44</span></pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token number">4</span></pre></td></tr><tr><td data-num="40"></td><td><pre>arr <span class="token operator">=</span> <span class="token number">00</span>DAF9D0</pre></td></tr><tr><td data-num="41"></td><td><pre>p <span class="token operator">=</span> <span class="token number">00</span>DAF9D0</pre></td></tr><tr><td data-num="42"></td><td><pre><span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">123</span></pre></td></tr><tr><td data-num="43"></td><td><pre><span class="token operator">*</span><span class="token punctuation">(</span>p <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">2</span></pre></td></tr><tr><td data-num="44"></td><td><pre>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">123</span>    arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span>      arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span>      arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">4</span>      arr<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">5</span>      arr<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">6</span>      arr<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">7</span>      arr<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">8</span>      arr<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">97</span>     arr<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">98</span>     arr<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">99</span></pre></td></tr><tr><td data-num="45"></td><td><pre>p <span class="token operator">-</span> arr <span class="token operator">=</span> <span class="token number">11</span></pre></td></tr><tr><td data-num="46"></td><td><pre></pre></td></tr><tr><td data-num="47"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">6372</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="48"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309251332309.png" alt="image-20230925133208960"></p><h4 id="733-数组当参数传入退化为指针"><a class="anchor" href="#733-数组当参数传入退化为指针">#</a> 7.3.3 数组当参数传入退化为指针🌲</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token function">sort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre> <span class="token comment">// 数组作为参数会退化为指针 丢失数组的精度</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>   <span class="token comment">// 指针是变量 4 个字节 arr [0] 获取数组中索引为 0 的元素 int 类型 4 个字节</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token comment">// 4 / 4 = 1</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"sizeof(arr)/ sizeof(arr[0])：%d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"sizeof(arr)：%d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment">//----------------------- 运行结果 -----------------------</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>：<span class="token number">1</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>：<span class="token number">4</span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">7912</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="24"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h5 id="7331-指针方式编写冒泡排序"><a class="anchor" href="#7331-指针方式编写冒泡排序">#</a> 7.3.3.1 指针方式编写冒泡排序🌴</h5><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">void</span> <span class="token function">sort1</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token function">sort1</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> arr<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"arr[%d] = %d\t"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span>p <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre> <span class="token comment">// 编写冒泡排序的算法</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token keyword">void</span> <span class="token function">sort1</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token keyword">int</span> flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>		<span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>j <span class="token operator">&lt;</span> len <span class="token operator">-</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="26"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span>arr <span class="token operator">+</span> j<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">*</span><span class="token punctuation">(</span>arr <span class="token operator">+</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="28"></td><td><pre>			<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>				flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>				<span class="token keyword">int</span> temp <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span>arr <span class="token operator">+</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>				<span class="token operator">*</span><span class="token punctuation">(</span>arr <span class="token operator">+</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span>arr <span class="token operator">+</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>				<span class="token operator">*</span><span class="token punctuation">(</span>arr <span class="token operator">+</span> j<span class="token punctuation">)</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="36"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>			<span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>		<span class="token keyword">else</span></pre></td></tr><tr><td data-num="40"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>			flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="44"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="45"></td><td><pre><span class="token comment">//--------------------- 运行结果 ---------------------</span></pre></td></tr><tr><td data-num="46"></td><td><pre>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">3</span>     arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span>     arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>     arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>      arr<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span>      arr<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span>      arr<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">4</span>      arr<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">5</span>      arr<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">6</span>      arr<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">7</span>      arr<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">8</span>     arr<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">9</span></pre></td></tr><tr><td data-num="47"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">20376</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="48"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h4 id="734-指针加减运算"><a class="anchor" href="#734-指针加减运算">#</a> 7.3.4 指针加减运算🌲</h4><h5 id="7341-加法运算"><a class="anchor" href="#7341-加法运算">#</a> 7.3.4.1 加法运算🌴</h5><ul><li>&lt;font color='red'&gt; 指针计算不是简单的整型相加 &lt;/font&gt;.</li><li>如果是一个 int* ，+1 的结果是增加一个 int (4 个字节) 的大小</li><li>如果是一个 char* ，+1 的结果是增加一个 char (一个字节) 的大小</li></ul><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//   00CFFBBC</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 00CFFBC8</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token comment">//p 跟 arr 相差了 3 步 一个 4 个字节</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token comment">//     将指针加 3 步</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token comment">//      00CFFBBC</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	p<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// 00CFFBC2</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	p<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// 00CFFBC4</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	p<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// 00CFFBC8</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token comment">// 此时的指针 p 与 arr 地址就相同了</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//   00CFFBC8</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 00CFFBC8</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token comment">//------------------- 运行结果 -------------------</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token number">003</span>CFE0C</pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token number">003</span>CFE18</pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token number">003</span>CFE18</pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token number">003</span>CFE18</pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">16040</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="27"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h5 id="7342-减法运算"><a class="anchor" href="#7342-减法运算">#</a> 7.3.4.2 减法运算🌴</h5><ul><li>&lt;font color='red'&gt; 指针计算不是简单的整型相减 &lt;/font&gt;.</li><li>如果是一个 int* ，-1 的结果是减少一个 int (4 个字节) 的大小</li><li>如果是一个 char* ，-1 的结果是减少一个 char (一个字节) 的大小</li></ul><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0097FE98</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0097FE8C</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">// 内存地址相差是 12 /sizeof (int) 4 个字节 = 偏移量</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">int</span> step <span class="token operator">=</span> p <span class="token operator">-</span> arr<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"step = %d\n"</span><span class="token punctuation">,</span> step<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 12 / 4 = 3</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"arr[-1] = %d\n"</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 下标越界</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token comment">// 指针操作数组时下标允许是负数</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"p[-2] = %d\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre>	p<span class="token operator">--</span><span class="token punctuation">;</span> <span class="token comment">// 0097FE94 指针的加减运算和指针的类型有关 int 类型 4 个字节</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	p<span class="token operator">--</span><span class="token punctuation">;</span> <span class="token comment">// 0097FE90</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	p<span class="token operator">--</span><span class="token punctuation">;</span> <span class="token comment">// 0097FE8C</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0097FE8C</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0097FE8C</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token comment">// 上面 p-- x3 就将偏移量去除了</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token keyword">int</span> stepp <span class="token operator">=</span> p <span class="token operator">-</span> arr<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"偏移量消除后step = %d\n"</span><span class="token punctuation">,</span> stepp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	</pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"------------------------------\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token keyword">int</span> arr1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> p1 <span class="token operator">=</span> arr<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	p1 <span class="token operator">=</span> <span class="token operator">&amp;</span>arr1<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> p1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0097FE98</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> arr1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0097FE8C</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token comment">// 指针内存地址相差 12 /sizeof (char) 1 个字节 = 偏移量</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token keyword">int</span> step1 <span class="token operator">=</span> p1 <span class="token operator">-</span> arr1<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> step1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 12 / 1 = 12</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	p1<span class="token operator">--</span><span class="token punctuation">;</span> <span class="token comment">// 0097FE97 指针的加减运算和指针的类型有关 char 类型 1 个字节</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	p1<span class="token operator">--</span><span class="token punctuation">;</span> <span class="token comment">// 0097FE96</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	p1<span class="token operator">--</span><span class="token punctuation">;</span> <span class="token comment">// 0097FE95</span></pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> p1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0097FE95</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> arr1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0097FE8C</span></pre></td></tr><tr><td data-num="38"></td><td><pre>	<span class="token comment">// 指针内存地址相差 12 - 3 = 9 /sizeof (char) 1 个字节 = 9</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	<span class="token keyword">int</span> stepp1 <span class="token operator">=</span> p1 <span class="token operator">-</span> arr1<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"偏移量消除后step = %d\n"</span><span class="token punctuation">,</span> stepp1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 9</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="43"></td><td><pre><span class="token comment">//--------------------------- 运行结果 ---------------------------</span></pre></td></tr><tr><td data-num="44"></td><td><pre><span class="token number">010FF</span>A90</pre></td></tr><tr><td data-num="45"></td><td><pre><span class="token number">010FF</span>A84</pre></td></tr><tr><td data-num="46"></td><td><pre>step <span class="token operator">=</span> <span class="token number">3</span></pre></td></tr><tr><td data-num="47"></td><td><pre>arr<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">858993460</span></pre></td></tr><tr><td data-num="48"></td><td><pre>p<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span></pre></td></tr><tr><td data-num="49"></td><td><pre><span class="token number">010FF</span>A84</pre></td></tr><tr><td data-num="50"></td><td><pre><span class="token number">010FF</span>A84</pre></td></tr><tr><td data-num="51"></td><td><pre>偏移量消除后step <span class="token operator">=</span> <span class="token number">0</span></pre></td></tr><tr><td data-num="52"></td><td><pre><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span></pre></td></tr><tr><td data-num="53"></td><td><pre><span class="token number">010FF</span>A40</pre></td></tr><tr><td data-num="54"></td><td><pre><span class="token number">010FF</span>A34</pre></td></tr><tr><td data-num="55"></td><td><pre><span class="token number">12</span></pre></td></tr><tr><td data-num="56"></td><td><pre><span class="token number">010FF</span>A3D</pre></td></tr><tr><td data-num="57"></td><td><pre><span class="token number">010FF</span>A34</pre></td></tr><tr><td data-num="58"></td><td><pre>偏移量消除后step <span class="token operator">=</span> <span class="token number">9</span></pre></td></tr><tr><td data-num="59"></td><td><pre></pre></td></tr><tr><td data-num="60"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">4800</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="61"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h4 id="7342-字符串的拷贝逐步简化版本"><a class="anchor" href="#7342-字符串的拷贝逐步简化版本">#</a> 7.3.4.2 字符串的拷贝逐步简化版本🌲</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">void</span> <span class="token function">my_strcopy</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 简化书写版</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">void</span> <span class="token function">my_strcopy2</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 简化书写版升级！</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">void</span> <span class="token function">my_strcopy3</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token comment">// 字符串拷贝操作</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token comment">//partone------------------------------------</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello world !"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">char</span> dest<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token function">my_strcopy</span><span class="token punctuation">(</span>dest<span class="token punctuation">,</span> ch<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"my_strcopy：%s\n"</span><span class="token punctuation">,</span> dest<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token comment">//parttwo------------------------------------</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token keyword">char</span> ch1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello world !"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token keyword">char</span> dest1<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token function">my_strcopy2</span><span class="token punctuation">(</span>dest1<span class="token punctuation">,</span> ch1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"my_strcopy2：%s\n"</span><span class="token punctuation">,</span> dest<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token comment">//partthree------------------------------------</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token keyword">char</span> ch2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello world !"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token keyword">char</span> dest2<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token function">my_strcopy3</span><span class="token punctuation">(</span>dest2<span class="token punctuation">,</span> ch2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"my_strcopy3：%s\n"</span><span class="token punctuation">,</span> dest<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="29"></td><td><pre></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token keyword">void</span> <span class="token function">my_strcopy</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> dest<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> ch<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token comment">// 如果字符串末尾 \0 也等同于 0 while 循环停止</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span>ch <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>		<span class="token operator">*</span><span class="token punctuation">(</span>dest <span class="token operator">+</span> i<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span>ch <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>		i<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	<span class="token operator">*</span><span class="token punctuation">(</span>dest <span class="token operator">+</span> i<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token comment">// 简化书写</span></pre></td></tr><tr><td data-num="42"></td><td><pre><span class="token keyword">void</span> <span class="token function">my_strcopy2</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> dest<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> ch<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="43"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>ch<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="45"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>		<span class="token operator">*</span>dest <span class="token operator">=</span> <span class="token operator">*</span>ch<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>		dest<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>		ch<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>	<span class="token operator">*</span>dest <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="51"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="52"></td><td><pre><span class="token comment">// 终极简化版本</span></pre></td></tr><tr><td data-num="53"></td><td><pre><span class="token keyword">void</span> <span class="token function">my_strcopy3</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> dest<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> ch<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="54"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span>dest<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span>ch<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>	<span class="token comment">/* 程序的执行流程 ->> 表达式拆分解析 & lt;&lt;- (分析运算符的优先级) * ， = > ++</span></pre></td></tr><tr><td data-num="57"></td><td><pre>	* 第一步： 先 * ch *dest 取出值 </pre></td></tr><tr><td data-num="58"></td><td><pre>	* 第二步： 执行 = 将 * ch 的值赋值给 *dest</pre></td></tr><tr><td data-num="59"></td><td><pre>	* -> 第三步： 进行 while 的条件判断，先赋值后判断 ，字符串的最后赋值 0 判断结束循环</pre></td></tr><tr><td data-num="60"></td><td><pre>	* 第四步： 执行 dest++ ，ch++</pre></td></tr><tr><td data-num="61"></td><td><pre>	*/</pre></td></tr><tr><td data-num="62"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="63"></td><td><pre><span class="token comment">//---------------------------- 运行结果 ----------------------------</span></pre></td></tr><tr><td data-num="64"></td><td><pre>my_strcopy：hello world <span class="token operator">!</span></pre></td></tr><tr><td data-num="65"></td><td><pre>my_strcopy2：hello world <span class="token operator">!</span></pre></td></tr><tr><td data-num="66"></td><td><pre>my_strcopy3：hello world <span class="token operator">!</span></pre></td></tr><tr><td data-num="67"></td><td><pre></pre></td></tr><tr><td data-num="68"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">18628</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="69"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h4 id="735-指针和运算符的操作"><a class="anchor" href="#735-指针和运算符的操作">#</a> 7.3.5 指针和运算符的操作🌲</h4><p>指针不能使用：加，乘，除，取余 可以使用 减，和其它的逻辑运算符和比较运算符</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 指针和运算符的操作</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token comment">// 两个指针相加就会报错 一定是一个 野指针</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token comment">//p = p + arr;  error C2110: “+”: 不能添加两个指针</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token comment">//p = p * arr; error C2297 : “*” : 无效，因为右操作数的类型为 “int * ”</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token comment">//p = p /arr; error C2296 : “/” : 无效，因为左操作数的类型为 “int * ”</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token comment">//p = p % arr; error C2296 : “%” : 无效，因为左操作数的类型为 “int * ”</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">></span> arr<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"真\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token keyword">else</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"假\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> p1 <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token keyword">int</span> res <span class="token operator">=</span> p1 <span class="token operator">-</span> arr<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token comment">// 野指针减去 arr 可以但是没有意义，证明指针可以使用减法</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -3620364</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token comment">//------------------------------- 运行结果 -------------------------------</span></pre></td></tr><tr><td data-num="28"></td><td><pre>真</pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token operator">-</span><span class="token number">1310548</span></pre></td></tr><tr><td data-num="30"></td><td><pre></pre></td></tr><tr><td data-num="31"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">19912</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="32"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h4 id="736-指针数组"><a class="anchor" href="#736-指针数组">#</a> 7.3.6 指针数组🌲</h4><p>指针数组，它是数组，数组的每个元素都是指针类型</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309251706258.png" alt="image-20230925170606645"></p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token comment">// 定义数组  数据类型  数据名 [元素个数] = &#123;值 1，值 2，...&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token comment">// 定义指针数组</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">,</span> <span class="token operator">&amp;</span>c<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 12</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token operator">*</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token operator">*</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token comment">//arr [0] 获取的是指针类型，84 位都是 4 字节 64 位都是 8 字节</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token operator">*</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"arr[%d] = %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token operator">*</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token comment">//----------------------------- 运行结果 -----------------------------</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token number">10</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token number">12</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token number">4</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token number">4</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token number">4</span></pre></td></tr><tr><td data-num="30"></td><td><pre>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">10</span></pre></td></tr><tr><td data-num="31"></td><td><pre>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">20</span></pre></td></tr><tr><td data-num="32"></td><td><pre>arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">30</span></pre></td></tr><tr><td data-num="33"></td><td><pre></pre></td></tr><tr><td data-num="34"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">19344</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="35"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><p>另一种格式</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309251751388.png" alt="image-20230925175142856"></p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token comment">// 指针数组里面元素存储的是指针</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">int</span> b<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">int</span> c<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token comment">// 指针数组对应与二级指针</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span><span class="token operator">*</span> p <span class="token operator">=</span> arr<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token comment">//arr 是指针数组的首地址</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0053F80C</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0053F80C</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0053F848</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0053F848</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token operator">*</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>		<span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>j <span class="token operator">&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token operator">*</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="22"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>			<span class="token comment">// printf("arr[%d] = %d\n", i, *arr[i] + j);</span></pre></td></tr><tr><td data-num="24"></td><td><pre>			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"arr[%d] = %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span>arr <span class="token operator">+</span> i<span class="token punctuation">)</span> <span class="token operator">+</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token comment">//------------------------------- 运行结果 -------------------------------</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token number">00</span>BCF8F4</pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token number">00</span>BCF8F4</pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token number">00</span>BCF930</pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token number">00</span>BCF930</pre></td></tr><tr><td data-num="34"></td><td><pre>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="35"></td><td><pre>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span></pre></td></tr><tr><td data-num="36"></td><td><pre>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span></pre></td></tr><tr><td data-num="37"></td><td><pre>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">4</span></pre></td></tr><tr><td data-num="38"></td><td><pre>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">5</span></pre></td></tr><tr><td data-num="39"></td><td><pre>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">6</span></pre></td></tr><tr><td data-num="40"></td><td><pre>arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">7</span></pre></td></tr><tr><td data-num="41"></td><td><pre>arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">8</span></pre></td></tr><tr><td data-num="42"></td><td><pre>arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">9</span></pre></td></tr><tr><td data-num="43"></td><td><pre></pre></td></tr><tr><td data-num="44"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">10292</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="45"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h4 id="737-指针数组和二级指针建立关系"><a class="anchor" href="#737-指针数组和二级指针建立关系">#</a> 7.3.7 指针数组和二级指针建立关系🌲</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">int</span> b<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">int</span> c<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token comment">// 指针数组和二级指针建立关系</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span><span class="token operator">*</span> p <span class="token operator">=</span> arr<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 006BFE74</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 006BFEB0</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 006BFE74</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 006BFEB0</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"---------------\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token comment">// 一级指针加偏移量 相当于跳过了一个一元素</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token comment">// 二级指针加偏移量 相当于跳过了一个一维数组大小</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>		<span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>j <span class="token operator">&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="26"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"arr[%d] = %d\t"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span>p <span class="token operator">+</span> i<span class="token punctuation">)</span> <span class="token operator">+</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token comment">//------------------------- 运行结果 -------------------------</span></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token number">006FF</span><span class="token number">9F</span>C</pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token number">006FF</span>A3C</pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token number">1</span></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token number">006FF</span><span class="token number">9F</span>C</pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token number">006FF</span>A3C</pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token number">1</span></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span></pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token number">2</span></pre></td></tr><tr><td data-num="42"></td><td><pre>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>      arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span>      arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span></pre></td></tr><tr><td data-num="43"></td><td><pre>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">4</span>      arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">5</span>      arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">6</span></pre></td></tr><tr><td data-num="44"></td><td><pre>arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">7</span>      arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">8</span>      arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">9</span></pre></td></tr><tr><td data-num="45"></td><td><pre></pre></td></tr><tr><td data-num="46"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">8740</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="47"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h3 id="74-多级指针"><a class="anchor" href="#74-多级指针">#</a> 7.4 多级指针🌳</h3><ul><li>C 语言允许有多级指针存在，在实际的程序中一级指针最常用，其次是二级指针。</li><li>二级指针就是指向一个一级指针变量地址的指针。</li></ul><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309252035539.png" alt="image-20230925203527968"></p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span><span class="token operator">*</span> pp <span class="token operator">=</span> <span class="token operator">&amp;</span>p<span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> ppp <span class="token operator">=</span> <span class="token operator">&amp;</span>pp<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token comment">/**</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	* *p = a</pre></td></tr><tr><td data-num="12"></td><td><pre>	* **pp = *p = a</pre></td></tr><tr><td data-num="13"></td><td><pre>	* ***ppp = **pp = *p = a</pre></td></tr><tr><td data-num="14"></td><td><pre>	*/</pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token operator">*</span>pp <span class="token operator">=</span> <span class="token operator">&amp;</span>b<span class="token punctuation">;</span> <span class="token comment">// 等价于 * p = &amp;b</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token operator">*</span><span class="token operator">*</span>pp <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span> <span class="token comment">// 这并不是野指针，等价于 *p = 100 也等价于 b = 100</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token comment">// *pp = 100; // ERROR 属于野指针，改变了 *p 的地址 造成了未知内存</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 100</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token operator">*</span><span class="token operator">*</span>ppp <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span> <span class="token comment">// 等价于 *p = &amp;a</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>ppp <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span> <span class="token comment">// 这并不是野指针，等价于 *p = 200 也等价于 a = 200</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>ppp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 200</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>ppp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 **pp 的内存地址：010FFE80</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token comment">//-------------------------- 运行结果 --------------------------</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token number">100</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token number">200</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token number">007</span>EF92C</pre></td></tr><tr><td data-num="29"></td><td><pre></pre></td></tr><tr><td data-num="30"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">1056</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="31"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h3 id="75-指针和函数"><a class="anchor" href="#75-指针和函数">#</a> 7.5 指针和函数🌳</h3><h4 id="751-函数形参改变实参的值"><a class="anchor" href="#751-函数形参改变实参的值">#</a> 7.5.1 函数形参改变实参的值🌲</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">void</span> <span class="token function">swap1</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token comment">// 值传递 形参不影响实现的值</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token function">swap</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"a = %d, b = %d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"------------------\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">int</span> a1 <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token keyword">int</span> b1 <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token comment">// 地址传递 形参的改变会影响到实参的值</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token function">swap1</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a1<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"a1 = %d, b1 = %d\n"</span><span class="token punctuation">,</span> a1<span class="token punctuation">,</span> b1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token keyword">int</span> temp <span class="token operator">=</span> a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	a <span class="token operator">=</span> b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	b <span class="token operator">=</span> temp<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token comment">// 指针作为函数参数</span></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token keyword">void</span> <span class="token function">swap1</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> b<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token keyword">int</span> temp <span class="token operator">=</span> <span class="token operator">*</span>a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token operator">*</span>a <span class="token operator">=</span> <span class="token operator">*</span>b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	<span class="token operator">*</span>b <span class="token operator">=</span> temp<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token comment">//--------------------------- 运行结果 ---------------------------</span></pre></td></tr><tr><td data-num="38"></td><td><pre>a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">20</span></pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span></pre></td></tr><tr><td data-num="40"></td><td><pre>a1 <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">,</span> b1 <span class="token operator">=</span> <span class="token number">10</span></pre></td></tr><tr><td data-num="41"></td><td><pre></pre></td></tr><tr><td data-num="42"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">16436</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="43"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309252111081.png" alt="image-20230925211143681"></p><h4 id="752-字符串拼接指针版"><a class="anchor" href="#752-字符串拼接指针版">#</a> 7.5.2 字符串拼接指针版🌲</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">void</span>  <span class="token function">my_strcat</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">char</span> ch1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"world !!!"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token function">my_strcat</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span> ch1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> ch<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">void</span> <span class="token function">my_strcat</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> ch1<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> ch2<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token comment">// 循环判断是否达到字符串的结尾 进行 ch1++ 访问到最后</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>ch1<span class="token punctuation">)</span>ch1<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token comment">// 这里比较特殊看似简单其实执行了四个步骤</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>ch1<span class="token operator">++</span> <span class="token operator">=</span> <span class="token operator">*</span>ch2<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token comment">/** 分析判断表达式的执行步骤 (>> 优先级 & lt;&lt;)</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	*   第一步：先取出 ch1 与 ch2 的值</pre></td></tr><tr><td data-num="22"></td><td><pre>	*   第二步：将 ch2 的值 赋值 给 ch1</pre></td></tr><tr><td data-num="23"></td><td><pre>	*   第三步：判断是否满足条件这里判断的是其中一个是否为 0</pre></td></tr><tr><td data-num="24"></td><td><pre>	*   第四步：各自进行 ++ 操作，因为这是后 ++，在第一次赋值时没有进行 ++ 直接</pre></td></tr><tr><td data-num="25"></td><td><pre>	*   赋值，第二次进行 ++，所以说最后一个多走一步将其赋值为 \0 这样防止了乱码</pre></td></tr><tr><td data-num="26"></td><td><pre>	*/</pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token comment">//----------------------- 运行结果 -----------------------</span></pre></td></tr><tr><td data-num="29"></td><td><pre>helloworld <span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span></pre></td></tr><tr><td data-num="30"></td><td><pre></pre></td></tr><tr><td data-num="31"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">10048</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="32"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h4 id="753-字符串去除空格"><a class="anchor" href="#753-字符串去除空格">#</a> 7.5.3 字符串去除空格🌲</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">remove_str_space</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">void</span> <span class="token function">remove_str_space1</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"      h   e   ll   o wr o  l   d ! ! "</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token function">remove_str_space</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"p = %s\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token comment">// 地址传递修改原 ch 的值</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token function">remove_str_space1</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ch = %s\n"</span><span class="token punctuation">,</span> ch<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">remove_str_space</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token keyword">char</span> str_new<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"str_new[0] 内存地址： %p\n"</span><span class="token punctuation">,</span> str_new<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> p <span class="token operator">=</span> str_new<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>str<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>str <span class="token operator">&lt;=</span> <span class="token number">122</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>str <span class="token operator">>=</span> <span class="token number">97</span> <span class="token operator">||</span> <span class="token operator">*</span>str <span class="token operator">&lt;=</span> <span class="token number">90</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>str <span class="token operator">>=</span> <span class="token number">65</span> <span class="token operator">||</span> <span class="token operator">*</span>str <span class="token operator">==</span> <span class="token number">33</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="25"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>			<span class="token operator">*</span>p<span class="token operator">++</span> <span class="token operator">=</span> <span class="token operator">*</span>str<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>		str<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*p 内存地址：%p\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token keyword">return</span> str_new<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="34"></td><td><pre></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token keyword">void</span> <span class="token function">remove_str_space1</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> first <span class="token operator">=</span> str<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> last <span class="token operator">=</span> str<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>last<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="40"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>last <span class="token operator">!=</span> <span class="token char">' '</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="42"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>			<span class="token operator">*</span>first <span class="token operator">=</span> <span class="token operator">*</span>last<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>			first<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>		last<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>	<span class="token operator">*</span>first <span class="token operator">=</span> <span class="token char">'\0'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="50"></td><td><pre><span class="token comment">//----------------------------- 运行结果 -----------------------------</span></pre></td></tr><tr><td data-num="51"></td><td><pre>str_new<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> 内存地址： <span class="token number">00000000</span></pre></td></tr><tr><td data-num="52"></td><td><pre><span class="token operator">*</span>p 内存地址：<span class="token number">00000000</span></pre></td></tr><tr><td data-num="53"></td><td><pre>p <span class="token operator">=</span> hellowrold<span class="token operator">!</span><span class="token operator">!</span></pre></td></tr><tr><td data-num="54"></td><td><pre>ch <span class="token operator">=</span> hellowrold<span class="token operator">!</span><span class="token operator">!</span></pre></td></tr><tr><td data-num="55"></td><td><pre></pre></td></tr><tr><td data-num="56"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">6388</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="57"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h4 id="754-指针作为函数的返回值"><a class="anchor" href="#754-指针作为函数的返回值">#</a> 7.5.4 指针作为函数的返回值🌲</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello world"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ch[3] = %p\n"</span><span class="token punctuation">,</span> ch<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token function">search</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span> <span class="token char">'l'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token comment">//printf ("% p\n", *p); //ERROR 如果返回值为 NULL 则取值就会报错 程序无法往下正常执行</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token comment">// 判断 p 是否为 NULL</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>p <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>		<span class="token comment">// 判断找到的字符的地址是否是我们想要的</span></pre></td></tr><tr><td data-num="15"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>p <span class="token operator">==</span> ch<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"p = %p\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>		<span class="token keyword">else</span></pre></td></tr><tr><td data-num="20"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"这是一个不符合规则的地址"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token keyword">else</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"没有找到\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token comment">// 查找字符数组中某个字符地址函数</span></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">,</span> <span class="token keyword">char</span> ch<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>str<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>str<span class="token operator">++</span> <span class="token operator">==</span> ch<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="36"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>			<span class="token keyword">return</span> <span class="token operator">&amp;</span><span class="token operator">*</span>str<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>	<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="42"></td><td><pre><span class="token comment">//--------------------------- 运行结果 ---------------------------</span></pre></td></tr><tr><td data-num="43"></td><td><pre>ch<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0000006</span>C</pre></td></tr><tr><td data-num="44"></td><td><pre>p <span class="token operator">=</span> <span class="token number">0000006</span>C</pre></td></tr><tr><td data-num="45"></td><td><pre></pre></td></tr><tr><td data-num="46"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">18712</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="47"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h4 id="755-字符串查找字符串"><a class="anchor" href="#755-字符串查找字符串">#</a> 7.5.5 字符串查找字符串🌲</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">my_strsearch</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"helle worldllo"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">char</span> dest<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"llo"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token function">my_strsearch</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span> dest<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">my_strsearch</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> dest<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> fsrc <span class="token operator">=</span> src<span class="token punctuation">;</span> <span class="token comment">// 遍历原字符串的指针</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> rsrc <span class="token operator">=</span> src<span class="token punctuation">;</span> <span class="token comment">// 记录每次相同字符串的首地址</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> tdest <span class="token operator">=</span> dest<span class="token punctuation">;</span> <span class="token comment">// 记录 dest 的指针，不满足时回滚</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>fsrc<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>		<span class="token comment">// 记录每次 fsrc 的指针地址</span></pre></td></tr><tr><td data-num="22"></td><td><pre>		rsrc <span class="token operator">=</span> fsrc<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>		<span class="token comment">// 这里的判断中不能缺少 单独判断 *fsrc 或 *tdest 否则就会越界返回错误信息</span></pre></td></tr><tr><td data-num="24"></td><td><pre>		<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>fsrc <span class="token operator">==</span> <span class="token operator">*</span>tdest <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>fsrc <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>tdest<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="25"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>			<span class="token comment">// 每次相同指针后移判断下一个</span></pre></td></tr><tr><td data-num="27"></td><td><pre>			fsrc<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>			tdest<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>		<span class="token comment">// 判断 * tdest 指针是否走到了最后了</span></pre></td></tr><tr><td data-num="31"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>tdest <span class="token operator">==</span> <span class="token char">'\0'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="32"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>			<span class="token comment">// 返回 rsrc 指针位置往后的字符串</span></pre></td></tr><tr><td data-num="34"></td><td><pre>			<span class="token keyword">return</span> rsrc<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>		<span class="token comment">// 指针回滚</span></pre></td></tr><tr><td data-num="37"></td><td><pre>		tdest <span class="token operator">=</span> dest<span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="38"></td><td><pre>		fsrc <span class="token operator">=</span> rsrc<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>		<span class="token comment">// 指针回滚后，fsrc 指针前移一步因为当前判断过了</span></pre></td></tr><tr><td data-num="40"></td><td><pre>		fsrc<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="44"></td><td><pre><span class="token comment">//------------------------------------ 运行结果 ------------------------------------</span></pre></td></tr><tr><td data-num="45"></td><td><pre>llo</pre></td></tr><tr><td data-num="46"></td><td><pre></pre></td></tr><tr><td data-num="47"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">12520</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="48"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h3 id="76-指针和字符串"><a class="anchor" href="#76-指针和字符串">#</a> 7.6 指针和字符串🌳</h3><h4 id="771-字符指针"><a class="anchor" href="#771-字符指针">#</a> 7.7.1 字符指针🌲</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello world"</span><span class="token punctuation">;</span> <span class="token comment">// 栈区字符串</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token comment">// "hello world" 存放于 数据区常量区 数据是不可修改的</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token string">"hello world"</span><span class="token punctuation">;</span> <span class="token comment">// 数据区产量区字符串</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token comment">// 相同的字符串 "hello world" 指针 指向用一个内存地址，一个内存可以可以被多个指针指向</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> p1 <span class="token operator">=</span> <span class="token string">"hello world"</span><span class="token punctuation">;</span> <span class="token comment">// 数据区产量区字符串</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token comment">//printf ("hello world"); 数据区</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 00BBAC64</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> p1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 00BBAC64</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	ch<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'m'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token comment">// p[2] = 'm'; ERROR</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token comment">// *(p + 2) = 'm'; ERROR</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> ch<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token comment">//----------------------------- 运行结果 -----------------------------</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token number">0008</span>AC64</pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token number">0008</span>AC64</pre></td></tr><tr><td data-num="23"></td><td><pre>hemlo world</pre></td></tr><tr><td data-num="24"></td><td><pre>hello world</pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">22316</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="27"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h4 id="772-指针和字符串"><a class="anchor" href="#772-指针和字符串">#</a> 7.7.2 指针和字符串🌲</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token comment">// 字符串数组</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token comment">// 指针数组</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">char</span> ch1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"world"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">char</span> ch2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"des"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token comment">// 字符数组，可以修改</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> ch<span class="token punctuation">,</span> ch1<span class="token punctuation">,</span> ch2 <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token comment">// 常量字符串，不可以修改 称为 字符串数组</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> arr1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token string">"hello"</span><span class="token punctuation">,</span> <span class="token string">"world"</span><span class="token punctuation">,</span> <span class="token string">"des"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">int</span> flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>		<span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="20"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>			<span class="token comment">// 根据数组中每一个字符串的首字母进行比较判断</span></pre></td></tr><tr><td data-num="22"></td><td><pre>			<span class="token keyword">if</span> <span class="token punctuation">(</span>arr1<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">></span> arr1<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="23"></td><td><pre>			<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>				<span class="token comment">//flag 判断是否停止工作</span></pre></td></tr><tr><td data-num="25"></td><td><pre>				flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>				<span class="token comment">// 交换位置</span></pre></td></tr><tr><td data-num="27"></td><td><pre>				<span class="token keyword">int</span> temp <span class="token operator">=</span> arr1<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>				arr1<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr1<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>				arr1<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="33"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>			<span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>		<span class="token keyword">else</span></pre></td></tr><tr><td data-num="37"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>			flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	<span class="token keyword">int</span> i1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>i1 <span class="token operator">&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i1<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="43"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"arr1[%d] = %s\n"</span><span class="token punctuation">,</span> i1<span class="token punctuation">,</span> arr1<span class="token punctuation">[</span>i1<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>		<span class="token comment">/**</span></pre></td></tr><tr><td data-num="46"></td><td><pre>		* des</pre></td></tr><tr><td data-num="47"></td><td><pre>		* hello</pre></td></tr><tr><td data-num="48"></td><td><pre>		* world</pre></td></tr><tr><td data-num="49"></td><td><pre>		*/</pre></td></tr><tr><td data-num="50"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="51"></td><td><pre></pre></td></tr><tr><td data-num="52"></td><td><pre>	<span class="token keyword">int</span> i2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> i2 <span class="token operator">&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i2<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="54"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"arr1 -> p = %p\n"</span><span class="token punctuation">,</span> arr1<span class="token punctuation">[</span>i2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>		<span class="token comment">/** 它们之间的地址是不连续的</span></pre></td></tr><tr><td data-num="57"></td><td><pre>		* 001DBB44</pre></td></tr><tr><td data-num="58"></td><td><pre>		* 001DBC34</pre></td></tr><tr><td data-num="59"></td><td><pre>		* 001DBD00</pre></td></tr><tr><td data-num="60"></td><td><pre>		*/</pre></td></tr><tr><td data-num="61"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="63"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="64"></td><td><pre><span class="token comment">//------------------------- 运行结果 -------------------------</span></pre></td></tr><tr><td data-num="65"></td><td><pre>arr1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> des</pre></td></tr><tr><td data-num="66"></td><td><pre>arr1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> hello</pre></td></tr><tr><td data-num="67"></td><td><pre>arr1<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> world</pre></td></tr><tr><td data-num="68"></td><td><pre>arr1 <span class="token operator">-></span> p <span class="token operator">=</span> <span class="token number">00</span>A4BD08</pre></td></tr><tr><td data-num="69"></td><td><pre>arr1 <span class="token operator">-></span> p <span class="token operator">=</span> <span class="token number">00</span>A4BC34</pre></td></tr><tr><td data-num="70"></td><td><pre>arr1 <span class="token operator">-></span> p <span class="token operator">=</span> <span class="token number">00</span>A4BD00</pre></td></tr><tr><td data-num="71"></td><td><pre></pre></td></tr><tr><td data-num="72"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">17428</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="73"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309261431345.png" alt="image-20230926143122095"></p><h4 id="773-有效字符串"><a class="anchor" href="#773-有效字符串">#</a> 7.7.3 有效字符串🌲</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">int</span> <span class="token function">my_strlen</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello   world"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token function">my_strlen</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"字符串的有效长度：%d\n"</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">int</span> <span class="token function">my_strlen</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> ch<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> temp <span class="token operator">=</span> ch<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>temp<span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>temp <span class="token operator">==</span> <span class="token char">' '</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> i<span class="token operator">++</span><span class="token punctuation">;</span> temp<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">else</span> temp<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token keyword">return</span> temp <span class="token operator">-</span> ch <span class="token operator">-</span> i<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token comment">//----------------------------------- 运行结果 -----------------------------------</span></pre></td></tr><tr><td data-num="21"></td><td><pre>字符串的有效长度：<span class="token number">10</span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">21028</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="24"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h4 id="774-const修饰指针变量"><a class="anchor" href="#774-const修饰指针变量">#</a> 7.7.4 const 修饰指针变量🌲</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">char</span> ch1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"world"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">// 指向常量的指针</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token comment">// 可以修改指针变量的值，不可以修改指针变量指向存储空间的值</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> p <span class="token operator">=</span> ch<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token comment">// *p = 'm'; // ERROR</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token comment">// *(p + 1) = 'm'; // ERROR</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token comment">// p[1] = 'm'; // ERROR</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	p <span class="token operator">=</span> ch1<span class="token punctuation">;</span> <span class="token comment">// success</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"p = %s\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> <span class="token keyword">const</span> p1 <span class="token operator">=</span> ch<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token char">'a'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token operator">*</span><span class="token punctuation">(</span>p1 <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token char">'b'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	p1<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'c'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token comment">// p1 = ch1; // ERROR</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"p1 = %s\n"</span><span class="token punctuation">,</span> p1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token comment">//------------------------------ 运行结果 ------------------------------</span></pre></td></tr><tr><td data-num="25"></td><td><pre>p <span class="token operator">=</span> world</pre></td></tr><tr><td data-num="26"></td><td><pre>p1 <span class="token operator">=</span> abclo</pre></td></tr><tr><td data-num="27"></td><td><pre></pre></td></tr><tr><td data-num="28"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">19260</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="29"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h5 id="7741-通过多级指针修改-常量指针常量"><a class="anchor" href="#7741-通过多级指针修改-常量指针常量">#</a> 7.7.4.1 通过多级指针修改 常量指针常量🌴</h5><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">char</span> ch1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"world"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">// 常量指针</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token comment">// 指向常量的指针</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token comment">// 可以修改指针变量的值，不可以修改指针变量指向存储空间的值</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> p <span class="token operator">=</span> ch<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token comment">// *p = 'm'; // ERROR</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token comment">// *(p + 1) = 'm'; // ERROR</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token comment">// p[1] = 'm'; // ERROR</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	p <span class="token operator">=</span> ch1<span class="token punctuation">;</span> <span class="token comment">// success</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"p = %s\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token comment">// 指针常量</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token comment">// 可以修改指针变量指向内存空间的值</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token comment">// 不可以修改指针变量的值</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> <span class="token keyword">const</span> p1 <span class="token operator">=</span> ch<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token char">'a'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token operator">*</span><span class="token punctuation">(</span>p1 <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token char">'b'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	p1<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'c'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token comment">// p1 = ch1; // ERROR</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"p1 = %s\n"</span><span class="token punctuation">,</span> p1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token comment">// 常量指针常量</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> <span class="token keyword">const</span> p2 <span class="token operator">=</span> ch1<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token comment">// *p2 = 'a'; // ERROR</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token comment">// *(p2 + 1) = 'b'; // ERROR</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token comment">// p2[2] = 'c'; // ERROR</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token comment">// p2 = ch1; // ERROR</span></pre></td></tr><tr><td data-num="33"></td><td><pre></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token comment">// 通过二级指针修改 一级的常量指针常量 或者 修改变量的值</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	<span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token operator">*</span> <span class="token keyword">const</span> pp <span class="token operator">=</span> <span class="token operator">&amp;</span>p2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token comment">// **pp = 'a';</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token comment">// *(*pp + 1) = 'b';</span></pre></td></tr><tr><td data-num="38"></td><td><pre>	<span class="token comment">//*pp[2] = 'c';</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	<span class="token comment">//printf("pp = %s\n", *pp);</span></pre></td></tr><tr><td data-num="40"></td><td><pre>	</pre></td></tr><tr><td data-num="41"></td><td><pre>	<span class="token comment">// 通过三级指针修改 二级的常量指针常量 或者 修改变量的值</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> ppp <span class="token operator">=</span> <span class="token operator">&amp;</span>pp<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>	<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>ppp <span class="token operator">=</span> <span class="token char">'a'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>	<span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span>ppp<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token char">'b'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>	<span class="token comment">//const char* const p2 = ch1; 这种方式通过一级指针修改的</span></pre></td></tr><tr><td data-num="46"></td><td><pre>	<span class="token comment">// 但是一级指针为 const 所以这个方式不可用，但 *(*(*ppp) + 1) = 'b';</span></pre></td></tr><tr><td data-num="47"></td><td><pre>	<span class="token comment">// 可以达到相同效果</span></pre></td></tr><tr><td data-num="48"></td><td><pre>	<span class="token operator">*</span><span class="token operator">*</span>ppp<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'c'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token operator">*</span>ppp<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="51"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="52"></td><td><pre><span class="token comment">//------------------------------- 运行结果 -------------------------------</span></pre></td></tr><tr><td data-num="53"></td><td><pre>p <span class="token operator">=</span> world</pre></td></tr><tr><td data-num="54"></td><td><pre>p1 <span class="token operator">=</span> abclo</pre></td></tr><tr><td data-num="55"></td><td><pre></pre></td></tr><tr><td data-num="56"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">16580</span><span class="token punctuation">)</span>已退出，代码为 <span class="token operator">-</span><span class="token number">1073741819</span>。</pre></td></tr><tr><td data-num="57"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h4 id="775-指针数组作为main函数的形参"><a class="anchor" href="#775-指针数组作为main函数的形参">#</a> 7.7.5 指针数组作为 main 函数的形参🌲</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><ul><li>main 函数是操作系统调用的，第一个参数标明 argc 数组的成员数量，argv 数组的每个成员都是 char * 类型</li><li>argv 是命令行参数的字符串数组</li><li>argc 代表命令行参数的数量，程序名字本身算一个参数</li></ul><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// >> gcc -o hello.exe hello.c 传递的参数的个数是 4</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 分别是 ("gcc" "-o" "hello.exe" "hello.c")</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">//argc 表示传递参数的个数</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">//argv 分别存储的是 &#123;"gcc", "-o", "hello.exe", "hello.c"&#125;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> argc<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> argv<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>打开 cmd 进行编译.c 文件</p><p>&lt;font color='red'&gt; 提示 &lt;/font&gt;：如果出现了如下的错误提示，则需要使用 -std=c99 来进行编译就不会报错了。</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309261600849.png" alt="image-20230926160000442"></p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309261601622.png" alt="image-20230926160101299"></p><p>编译完成！</p><p>进行如下操作：执行.exe 可执行程序 后面跟上 三句话 ，如果空格分隔会被解析为下一个参数，最终输出三个参数的语句。</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309261603881.png" alt="image-20230926160350649"></p><p>可以对其进行一些判断限制</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// >> gcc -o hello.exe hello.c 传递的参数的个数是 4</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 分别是 ("gcc" "-o" "hello.exe" "hello.c")</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">//argc 表示传递参数的个数</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">//argv 分别存储的是 &#123;"gcc", "-o", "hello.exe", "hello.c"&#125;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>argc <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"缺少参数：至少3个以上 !"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> argc<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> argv<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>执行可执行程序的路径到这个文件 也算是一个参数</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309261610831.png" alt="image-20230926161020670"></p><h4 id="776-项目开发常用字符串应用模型"><a class="anchor" href="#776-项目开发常用字符串应用模型">#</a> 7.7.6 项目开发常用字符串应用模型🌲</h4><h5 id="1-strstr中的while和do-while模型"><a class="anchor" href="#1-strstr中的while和do-while模型">#</a> 1 strstr 中的 while 和 do-while 模型🌴</h5><p>利用 strstr 标准库函数找出一个字符串中 substr 出现的个数。</p><h6 id="a-while模型"><a class="anchor" href="#a-while模型">#</a> a) while 模型🎋</h6><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">my_strSearchstr</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">char</span> str<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"11abcd111122abcd333abcd3322abcd3333322qqq"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">char</span> ch1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"abcd"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token function">my_strSearchstr</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> ch1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span>p<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>		count<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>		p <span class="token operator">+=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>ch1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>		p <span class="token operator">=</span> <span class="token function">my_strSearchstr</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> ch1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"判断第%d次，p = %s\n"</span><span class="token punctuation">,</span> count<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"出现的次数：%d\n"</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment">// 通过 dest 查找 src 匹配的字符串</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">my_strSearchstr</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> dest<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> fsrc <span class="token operator">=</span> src<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> tsrc <span class="token operator">=</span> src<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> fdest <span class="token operator">=</span> dest<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>fsrc<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>		tsrc <span class="token operator">=</span> fsrc<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>		<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>fsrc <span class="token operator">==</span> <span class="token operator">*</span>fdest <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>fsrc <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>fdest<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="31"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>			fsrc<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>			fdest<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>fdest <span class="token operator">==</span> <span class="token char">'\0'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="36"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>			<span class="token keyword">return</span> tsrc<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>		<span class="token comment">// 指针回滚</span></pre></td></tr><tr><td data-num="40"></td><td><pre>		fsrc <span class="token operator">=</span> tsrc<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>		fdest <span class="token operator">=</span> dest<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>		fsrc<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>	<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="46"></td><td><pre><span class="token comment">//---------------------------- 运行结果 ----------------------------</span></pre></td></tr><tr><td data-num="47"></td><td><pre>判断第<span class="token number">1</span>次，p <span class="token operator">=</span> abcd333abcd3322abcd3333322qqq</pre></td></tr><tr><td data-num="48"></td><td><pre>判断第<span class="token number">2</span>次，p <span class="token operator">=</span> abcd3322abcd3333322qqq</pre></td></tr><tr><td data-num="49"></td><td><pre>判断第<span class="token number">3</span>次，p <span class="token operator">=</span> abcd3333322qqq</pre></td></tr><tr><td data-num="50"></td><td><pre>判断第<span class="token number">4</span>次，p <span class="token operator">=</span> <span class="token punctuation">(</span>null<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="51"></td><td><pre>出现的次数：<span class="token number">4</span></pre></td></tr><tr><td data-num="52"></td><td><pre></pre></td></tr><tr><td data-num="53"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">19836</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="54"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h6 id="b-do-while模型"><a class="anchor" href="#b-do-while模型">#</a> b) do-while 模型🎋</h6><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">strSearchstrtwo</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">char</span> str<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"11abcd111122abcd333abcd3322abcd3333322qqq"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">char</span> ch1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"abcd"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token function">strSearchstrtwo</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> ch1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">do</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>		<span class="token comment">// 由于 do-while 会无条件先指向，防止错误用 if 来判断一下</span></pre></td></tr><tr><td data-num="14"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>			count<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>			p <span class="token operator">+=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>ch1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>			p <span class="token operator">=</span> <span class="token function">strSearchstrtwo</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> ch1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"判断第%d次：%s\n"</span><span class="token punctuation">,</span> count<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token punctuation">&#125;</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"出现的次数：%d\n"</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">strSearchstrtwo</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> dest<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> fsrc <span class="token operator">=</span> src<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> tsrc <span class="token operator">=</span> src<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> fdest <span class="token operator">=</span> dest<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>fsrc<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>		tsrc <span class="token operator">=</span> fsrc<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>		<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>fsrc <span class="token operator">==</span> <span class="token operator">*</span>fdest <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>fsrc <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>fdest<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="35"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>			fsrc<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>			fdest<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>fdest <span class="token operator">==</span> <span class="token char">'\0'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="40"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>			<span class="token keyword">return</span> tsrc<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>		fsrc <span class="token operator">=</span> tsrc<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>		fdest <span class="token operator">=</span> dest<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>		fsrc<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>	<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="49"></td><td><pre><span class="token comment">//------------------------------- 运行结果 -------------------------------</span></pre></td></tr><tr><td data-num="50"></td><td><pre>判断第<span class="token number">1</span>次：abcd333abcd3322abcd3333322qqq</pre></td></tr><tr><td data-num="51"></td><td><pre>判断第<span class="token number">2</span>次：abcd3322abcd3333322qqq</pre></td></tr><tr><td data-num="52"></td><td><pre>判断第<span class="token number">3</span>次：abcd3333322qqq</pre></td></tr><tr><td data-num="53"></td><td><pre>判断第<span class="token number">4</span>次：<span class="token punctuation">(</span>null<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="54"></td><td><pre>出现的次数：<span class="token number">4</span></pre></td></tr><tr><td data-num="55"></td><td><pre></pre></td></tr><tr><td data-num="56"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">9556</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="57"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h5 id="2-两头堵模型"><a class="anchor" href="#2-两头堵模型">#</a> 2 两头堵模型🌴</h5><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span>  <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">int</span> <span class="token function">getCount</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">int</span> <span class="token function">mcoacoicon</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">" he l l   o   w orld  ! "</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token function">getCount</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"个数为：%d\n"</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">int</span> <span class="token function">getCount</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> temp <span class="token operator">=</span> src<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>temp<span class="token punctuation">)</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>temp <span class="token operator">==</span> <span class="token char">' '</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> i<span class="token operator">++</span><span class="token punctuation">;</span> temp<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">else</span> temp<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token keyword">return</span> temp <span class="token operator">-</span> src <span class="token operator">-</span> i<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token comment">//-------------------------- 运行结果 --------------------------</span></pre></td></tr><tr><td data-num="21"></td><td><pre>个数为：<span class="token number">11</span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">3856</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="24"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h5 id="3-计算每个字符出现的次数"><a class="anchor" href="#3-计算每个字符出现的次数">#</a> 3 计算每个字符出现的次数🌴</h5><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"h hl lo abb worl  dni chou s hachouniz ad izaichouyigeshishi"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	 </pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">int</span> ch1<span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">0</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">int</span> space <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span>ch<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>ch<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token char">' '</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>			ch1<span class="token punctuation">[</span>ch<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'a'</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>		<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>ch<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">' '</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>			space<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>		i<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token keyword">int</span> space_out <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">26</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>ch1<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="27"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>			<span class="token keyword">if</span> <span class="token punctuation">(</span>space <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> space_out <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="29"></td><td><pre>			<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"空格出现次数：%d\n"</span><span class="token punctuation">,</span> space<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>				space_out<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>			<span class="token keyword">else</span></pre></td></tr><tr><td data-num="34"></td><td><pre>			<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"字母: %c 出现次数：%d\n"</span><span class="token punctuation">,</span> j <span class="token operator">+</span> <span class="token char">'a'</span><span class="token punctuation">,</span> ch1<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token comment">//------------------------------ 运行结果 ------------------------------</span></pre></td></tr><tr><td data-num="42"></td><td><pre>空格出现次数：<span class="token number">11</span></pre></td></tr><tr><td data-num="43"></td><td><pre>字母<span class="token operator">:</span> b 出现次数：<span class="token number">2</span></pre></td></tr><tr><td data-num="44"></td><td><pre>字母<span class="token operator">:</span> c 出现次数：<span class="token number">3</span></pre></td></tr><tr><td data-num="45"></td><td><pre>字母<span class="token operator">:</span> d 出现次数：<span class="token number">2</span></pre></td></tr><tr><td data-num="46"></td><td><pre>字母<span class="token operator">:</span> e 出现次数：<span class="token number">1</span></pre></td></tr><tr><td data-num="47"></td><td><pre>字母<span class="token operator">:</span> g 出现次数：<span class="token number">1</span></pre></td></tr><tr><td data-num="48"></td><td><pre>字母<span class="token operator">:</span> h 出现次数：<span class="token number">8</span></pre></td></tr><tr><td data-num="49"></td><td><pre>字母<span class="token operator">:</span> i 出现次数：<span class="token number">7</span></pre></td></tr><tr><td data-num="50"></td><td><pre>字母<span class="token operator">:</span> l 出现次数：<span class="token number">3</span></pre></td></tr><tr><td data-num="51"></td><td><pre>字母<span class="token operator">:</span> n 出现次数：<span class="token number">2</span></pre></td></tr><tr><td data-num="52"></td><td><pre>字母<span class="token operator">:</span> o 出现次数：<span class="token number">5</span></pre></td></tr><tr><td data-num="53"></td><td><pre>字母<span class="token operator">:</span> r 出现次数：<span class="token number">1</span></pre></td></tr><tr><td data-num="54"></td><td><pre>字母<span class="token operator">:</span> s 出现次数：<span class="token number">3</span></pre></td></tr><tr><td data-num="55"></td><td><pre>字母<span class="token operator">:</span> u 出现次数：<span class="token number">3</span></pre></td></tr><tr><td data-num="56"></td><td><pre>字母<span class="token operator">:</span> w 出现次数：<span class="token number">1</span></pre></td></tr><tr><td data-num="57"></td><td><pre>字母<span class="token operator">:</span> y 出现次数：<span class="token number">1</span></pre></td></tr><tr><td data-num="58"></td><td><pre>字母<span class="token operator">:</span> z 出现次数：<span class="token number">2</span></pre></td></tr><tr><td data-num="59"></td><td><pre></pre></td></tr><tr><td data-num="60"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">16252</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="61"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h5 id="4-字符串反转模型逆置"><a class="anchor" href="#4-字符串反转模型逆置">#</a> 4 字符串反转模型 (逆置)🌴</h5><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309262017621.png" alt="image-20230926201705364"></p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">void</span> <span class="token function">inver</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">void</span> <span class="token function">inver1</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello world"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token function">inver1</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> ch<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">void</span> <span class="token function">inver</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> j <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>		<span class="token keyword">char</span> ch <span class="token operator">=</span> src<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>		src<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> src<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>		src<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> ch<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>		i<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>		j<span class="token operator">--</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="27"></td><td><pre></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token keyword">void</span> <span class="token function">inver1</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> fir <span class="token operator">=</span> src<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> len <span class="token operator">=</span> src <span class="token operator">+</span> <span class="token function">strlen</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> fir<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 004FF80C</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 004FF816</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token comment">// 循环遍历内存地址从 h 到 d</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span>fir <span class="token operator">&lt;</span> len<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>		<span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token operator">*</span>len<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>		<span class="token operator">*</span>len <span class="token operator">=</span> <span class="token operator">*</span>fir<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>		<span class="token operator">*</span>fir <span class="token operator">=</span> ch<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>		fir<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>		len<span class="token operator">--</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="43"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="44"></td><td><pre><span class="token comment">//----------------------------------- 运行结果 -----------------------------------</span></pre></td></tr><tr><td data-num="45"></td><td><pre><span class="token number">0133F</span><span class="token number">92</span>C</pre></td></tr><tr><td data-num="46"></td><td><pre><span class="token number">0133F</span><span class="token number">936</span></pre></td></tr><tr><td data-num="47"></td><td><pre>dlrow olleh</pre></td></tr><tr><td data-num="48"></td><td><pre></pre></td></tr><tr><td data-num="49"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">17920</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="50"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h5 id="5-回文字符串"><a class="anchor" href="#5-回文字符串">#</a> 5 回文字符串🌴</h5><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 回文字符串</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">int</span> <span class="token function">isSymm</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"abcbae"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">int</span> flag <span class="token operator">=</span> <span class="token function">isSymm</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"yes"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">else</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"no"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token comment">// 回文字符串</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token keyword">int</span> <span class="token function">isSymm</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token comment">// 字符串的头地址</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> first <span class="token operator">=</span> src<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token comment">// 字符串的尾地址</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> last <span class="token operator">=</span> src <span class="token operator">+</span> <span class="token function">strlen</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token comment">// 循环遍历内存地址从头到尾</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span>first <span class="token operator">&lt;</span> last<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>first <span class="token operator">!=</span> <span class="token operator">*</span>last<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="31"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>			<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>		first<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>		last<span class="token operator">--</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token comment">//----------------------------- 运行结果 -----------------------------</span></pre></td></tr><tr><td data-num="40"></td><td><pre>no</pre></td></tr><tr><td data-num="41"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">9120</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="42"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h4 id="777-字符串处理函数"><a class="anchor" href="#777-字符串处理函数">#</a> 7.7.7 字符串处理函数🌲</h4><h5 id="1-strcpy"><a class="anchor" href="#1-strcpy">#</a> 1 strcpy()🌴</h5><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">strcpy</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> dest<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>功能：把src所指向的字符串复制到dest所指向的空间中，<span class="token char">'\0'</span> 也会拷贝过去</pre></td></tr><tr><td data-num="4"></td><td><pre>参数：</pre></td></tr><tr><td data-num="5"></td><td><pre>   dest：目的字符串首地址</pre></td></tr><tr><td data-num="6"></td><td><pre>   src：源字符首地址</pre></td></tr><tr><td data-num="7"></td><td><pre>返回值：</pre></td></tr><tr><td data-num="8"></td><td><pre>   成功：返回dest字符串的首地址</pre></td></tr><tr><td data-num="9"></td><td><pre>   失败：<span class="token constant">NULL</span></pre></td></tr></table></figure><p>&lt;font color='red'&gt; 注意 &lt;/font&gt;：如果参数 dest 所指的内存空间不够大，可能会造成缓冲溢出的错误情况。</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">void</span> <span class="token function">my_strcpy</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello world"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">char</span> str<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token comment">// 将 ch 的字符串拷贝到 str 中，但是要保证 str 有足够的空间</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> ch<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>   <span class="token function">my_strcpy</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> ch<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"strcpy = %s\n"</span><span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"my_strcpy = %s\n"</span><span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">void</span> <span class="token function">my_strcpy</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> dest<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>src<span class="token operator">++</span> <span class="token operator">=</span> <span class="token operator">*</span>dest<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment">//------------------------- 运行结果 -------------------------</span></pre></td></tr><tr><td data-num="22"></td><td><pre>strcpy <span class="token operator">=</span> hello world</pre></td></tr><tr><td data-num="23"></td><td><pre>my_strcpy <span class="token operator">=</span> hello world</pre></td></tr><tr><td data-num="24"></td><td><pre>   </pre></td></tr><tr><td data-num="25"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">4020</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="26"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h5 id="2-strncpy"><a class="anchor" href="#2-strncpy">#</a> 2 strncpy()🌴</h5><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">strncpy</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> dest<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">,</span> <span class="token class-name">size_t</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>功能：把src指向字符串的前n个字符复制到dest所指向的空间中，是否拷贝结束符看指定的长度是否包含 <span class="token char">'\0'</span></pre></td></tr><tr><td data-num="4"></td><td><pre>参数：</pre></td></tr><tr><td data-num="5"></td><td><pre>   dest：目的字符串首地址</pre></td></tr><tr><td data-num="6"></td><td><pre>   src：源字符首地址</pre></td></tr><tr><td data-num="7"></td><td><pre>   n：指定需要拷贝字符串个数</pre></td></tr><tr><td data-num="8"></td><td><pre>返回值：</pre></td></tr><tr><td data-num="9"></td><td><pre>   成功：返回dest字符串的首地址</pre></td></tr><tr><td data-num="10"></td><td><pre>   失败：<span class="token constant">NULL</span></pre></td></tr></table></figure><p>&lt;font color='red'&gt; 注意 &lt;/font&gt;：如果参数 dest 所指的内存空间不够大，可能会造成缓冲溢出的错误情况。</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">void</span> <span class="token function">my_strncpy</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">void</span> <span class="token function">my_strncpy1</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"helloworld"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">char</span> str<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token comment">// strncpy(str, ch, 5);</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token function">my_strncpy</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> ch<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"my_strncpy = %s\n"</span><span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">void</span> <span class="token function">my_strncpy</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> dest<span class="token punctuation">,</span> <span class="token keyword">int</span> v<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token punctuation">&#123;</span>   </pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">*</span>src<span class="token operator">++</span> <span class="token operator">=</span> <span class="token operator">*</span>dest<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">--</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token comment">// 运行结果 my_strncpy =  hello</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token keyword">void</span> <span class="token function">my_strncpy1</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> dest<span class="token punctuation">,</span> <span class="token keyword">int</span> v<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token comment">// char ch[] = "helloworld";</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token comment">//--v：hell    先 -- 后 &amp;&amp; 最后 *dest</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token comment">//v--：hello   先 v 后 &amp;&amp; 然后 *dest 最后 --</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span>v<span class="token operator">--</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>dest<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>		<span class="token operator">*</span>src <span class="token operator">=</span> <span class="token operator">*</span>dest<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>		src<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>		dest<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token comment">//--------------------------- 运行结果 ---------------------------</span></pre></td></tr><tr><td data-num="35"></td><td><pre>my_strncpy <span class="token operator">=</span> hello</pre></td></tr><tr><td data-num="36"></td><td><pre></pre></td></tr><tr><td data-num="37"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">17552</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="38"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h5 id="3-strcat"><a class="anchor" href="#3-strcat">#</a> 3 strcat()🌴</h5><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">strcat</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> dest<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>功能：将src字符串连接到dest的尾部，<span class="token char">'\0'</span> 也会追加过去</pre></td></tr><tr><td data-num="4"></td><td><pre>参数：</pre></td></tr><tr><td data-num="5"></td><td><pre>   dest：目的字符串首地址</pre></td></tr><tr><td data-num="6"></td><td><pre>   src：源字符串首地址</pre></td></tr><tr><td data-num="7"></td><td><pre>返回值：</pre></td></tr><tr><td data-num="8"></td><td><pre>   成功：返回dest字符串的首地址</pre></td></tr><tr><td data-num="9"></td><td><pre>  	失败：<span class="token constant">NULL</span></pre></td></tr></table></figure><p>&lt;font color='red'&gt; 注意 &lt;/font&gt;：需要保证被追加的字符串初始长度有追加字符串的长度空间大小否则报错</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">void</span> <span class="token function">my_strcatp</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">// 需要保证该字符串有足够的空间来追加其它的字符串长度</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">char</span> src<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"world"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token comment">// strcat(ch, src);</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token function">my_strcatp</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span> src<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> ch<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment">// 追加字符串的函数</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">void</span> <span class="token function">my_strcatp</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> ch<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>src<span class="token punctuation">)</span>src<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>src<span class="token operator">++</span> <span class="token operator">=</span> <span class="token operator">*</span>ch<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment">//------------------------------- 运行结果 -------------------------------</span></pre></td></tr><tr><td data-num="22"></td><td><pre>helloworld</pre></td></tr><tr><td data-num="23"></td><td><pre></pre></td></tr><tr><td data-num="24"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">22036</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="25"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h5 id="4-strncat"><a class="anchor" href="#4-strncat">#</a> 4 strncat()🌴</h5><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">strncat</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> dest<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">,</span> <span class="token class-name">size_t</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>功能：将src字符串前n个字符连接到dest的尾部，<span class="token char">'\0'</span> 也会追加过去</pre></td></tr><tr><td data-num="4"></td><td><pre>参数：</pre></td></tr><tr><td data-num="5"></td><td><pre>   dest：目的字符串首地址</pre></td></tr><tr><td data-num="6"></td><td><pre>   src：源字符首地址</pre></td></tr><tr><td data-num="7"></td><td><pre>   n：指定需要追加字符串个数</pre></td></tr><tr><td data-num="8"></td><td><pre>返回值：</pre></td></tr><tr><td data-num="9"></td><td><pre>   成功：返回dest字符串的首地址</pre></td></tr><tr><td data-num="10"></td><td><pre>   失败：<span class="token constant">NULL</span></pre></td></tr></table></figure><p>&lt;font color='red'&gt; 注意 &lt;/font&gt;：需要保证被追加的字符串初始长度有追加字符串的长度空间大小否则报错，可以进行限制追加字符串的长度</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">void</span> <span class="token function">my_strncatp</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">// 该字符串初始长度要有足够的追加字符串的空间否则报错</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">char</span> src<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"world"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token comment">// strncat(ch, src, 3);</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token function">my_strncatp</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span> src<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> ch<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment">// 字符串追加限制长度 的函数</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">void</span> <span class="token function">my_strncatp</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> ch<span class="token punctuation">,</span> <span class="token keyword">int</span> v<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>src<span class="token punctuation">)</span>src<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">*</span>src<span class="token operator">++</span> <span class="token operator">=</span> <span class="token operator">*</span>ch<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">--</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment">//------------------------------- 运行结果 -------------------------------</span></pre></td></tr><tr><td data-num="22"></td><td><pre>hellowor</pre></td></tr><tr><td data-num="23"></td><td><pre></pre></td></tr><tr><td data-num="24"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">15568</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="25"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h5 id="5-strcmp"><a class="anchor" href="#5-strcmp">#</a> 5 strcmp()🌴</h5><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">int</span> <span class="token function">strcmp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> s1<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>功能：比较s1和s2的大小，比较的是字符ASCII码大小。</pre></td></tr><tr><td data-num="4"></td><td><pre>参数：</pre></td></tr><tr><td data-num="5"></td><td><pre>   s1：字符串<span class="token number">1</span>首地址</pre></td></tr><tr><td data-num="6"></td><td><pre>   s2：字符串<span class="token number">2</span>首地址</pre></td></tr><tr><td data-num="7"></td><td><pre>返回值：</pre></td></tr><tr><td data-num="8"></td><td><pre>   相等：<span class="token number">0</span></pre></td></tr><tr><td data-num="9"></td><td><pre>   大于：<span class="token operator">></span><span class="token number">0</span> 在不用操作系统strcmp结果会不同，返回ASCII差值</pre></td></tr><tr><td data-num="10"></td><td><pre>   小于：<span class="token operator">&lt;</span><span class="token number">0</span></pre></td></tr></table></figure><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">int</span> <span class="token function">my_strcmp</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello world"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">char</span> ch1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello worldl\0 123"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">int</span> flag1 <span class="token operator">=</span> <span class="token function">strcmp</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span> ch1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"flag1 = %d\n"</span><span class="token punctuation">,</span> flag1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">int</span> flag <span class="token operator">=</span> <span class="token function">my_strcmp</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span> ch1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"flag = %d\n"</span><span class="token punctuation">,</span> flag<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"相同\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">else</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"不相同\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>flag1 <span class="token operator">==</span> flag<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"函数判断正确\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token keyword">else</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"函数判断失误\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token keyword">int</span> <span class="token function">my_strcmp</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> ch<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>src <span class="token operator">==</span> <span class="token char">'\0'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>ch <span class="token operator">!=</span> <span class="token char">'\0'</span> <span class="token operator">||</span> <span class="token operator">*</span>src <span class="token operator">!=</span> <span class="token char">'\0'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>ch <span class="token operator">==</span> <span class="token char">'\0'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="28"></td><td><pre>		<span class="token keyword">return</span> <span class="token operator">*</span>src <span class="token operator">></span> <span class="token operator">*</span>ch <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>src <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>ch<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>src <span class="token operator">!=</span> <span class="token operator">*</span>ch<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="32"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>			<span class="token keyword">return</span> <span class="token operator">*</span>src <span class="token operator">></span> <span class="token operator">*</span>ch <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>			ch<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>			src<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>		<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">strlen</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="38"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>			<span class="token keyword">return</span> <span class="token function">strlen</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token function">strlen</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>		ch<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>		src<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="46"></td><td><pre><span class="token comment">//------------------------------ 运行结果 ------------------------------</span></pre></td></tr><tr><td data-num="47"></td><td><pre>flag1 <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span></pre></td></tr><tr><td data-num="48"></td><td><pre>flag <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span></pre></td></tr><tr><td data-num="49"></td><td><pre>不相同</pre></td></tr><tr><td data-num="50"></td><td><pre>函数判断正确</pre></td></tr><tr><td data-num="51"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">8136</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="52"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h5 id="6-strncmp"><a class="anchor" href="#6-strncmp">#</a> 6 strncmp()🌴</h5><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">int</span> <span class="token function">strncmp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token operator">*</span> s1<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> s2<span class="token punctuation">,</span> <span class="token class-name">size_t</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>功能：比较s1 和s2 前n个字符的大小，比较的是字符ASCII码大小</pre></td></tr><tr><td data-num="4"></td><td><pre>参数：</pre></td></tr><tr><td data-num="5"></td><td><pre>   s1：字符串<span class="token number">1</span>首地址</pre></td></tr><tr><td data-num="6"></td><td><pre>   s2：字符串<span class="token number">2</span>首地址</pre></td></tr><tr><td data-num="7"></td><td><pre>   n：指定比较字符串的数量</pre></td></tr><tr><td data-num="8"></td><td><pre>返回值：</pre></td></tr><tr><td data-num="9"></td><td><pre>   相等：<span class="token number">0</span></pre></td></tr><tr><td data-num="10"></td><td><pre>   大于：<span class="token operator">></span><span class="token number">0</span> 在不用操作系统strcmp结果会不同，返回ASCII差值</pre></td></tr><tr><td data-num="11"></td><td><pre>   小于：<span class="token operator">&lt;</span><span class="token number">0</span></pre></td></tr></table></figure><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">int</span> <span class="token function">my_my_strcmp1</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello world"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">char</span> ch1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hallo world\0 123"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">int</span> flag1 <span class="token operator">=</span> <span class="token function">strncmp</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span> ch1<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"flag1 = %d\n"</span><span class="token punctuation">,</span> flag1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">int</span> flag <span class="token operator">=</span> <span class="token function">my_strcmp1</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span> ch1<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"flag = %d\n"</span><span class="token punctuation">,</span> flag<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"相同\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">else</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"不相同\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>flag1 <span class="token operator">==</span> flag<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"函数判断正确\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token keyword">else</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"函数判断失误\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token keyword">int</span> <span class="token function">my_strcmp1</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> ch<span class="token punctuation">,</span> <span class="token keyword">int</span> v<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>   <span class="token comment">// 判断是否其中一个字符串是空串</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>src <span class="token operator">==</span> <span class="token char">'\0'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>ch <span class="token operator">!=</span> <span class="token char">'\0'</span> <span class="token operator">||</span> <span class="token operator">*</span>src <span class="token operator">!=</span> <span class="token char">'\0'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>ch <span class="token operator">==</span> <span class="token char">'\0'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>      <span class="token comment">// 进行比较返回对应的值</span></pre></td></tr><tr><td data-num="31"></td><td><pre>		<span class="token keyword">return</span> <span class="token operator">*</span>src <span class="token operator">></span> <span class="token operator">*</span>ch <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>   <span class="token comment">// 判断用户是否输入了 v 的值和字符串的长度是否大于等于 v 的值</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">&amp;&amp;</span> <span class="token function">strlen</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span> <span class="token operator">>=</span> v <span class="token operator">&amp;&amp;</span> <span class="token function">strlen</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span> <span class="token operator">>=</span> v<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>      <span class="token comment">// 进行循环判断</span></pre></td></tr><tr><td data-num="37"></td><td><pre>		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">*</span>src <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>ch <span class="token operator">&amp;&amp;</span> v<span class="token operator">--</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="38"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>src <span class="token operator">!=</span> <span class="token operator">*</span>ch<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="40"></td><td><pre>			<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>				<span class="token keyword">return</span> <span class="token operator">*</span>src <span class="token operator">></span> <span class="token operator">*</span>ch <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>			src<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>			ch<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>   <span class="token comment">// 如果用户没输入 v 的值 或者 输入了 v 的值 但是不大于等于字符串的长度，那么可以看做是 判断一个不相同的字符串进行如下的判断流程</span></pre></td></tr><tr><td data-num="48"></td><td><pre>	<span class="token keyword">else</span></pre></td></tr><tr><td data-num="49"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>		<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>src <span class="token operator">&amp;&amp;</span> <span class="token operator">*</span>ch<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="51"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>src <span class="token operator">!=</span> <span class="token operator">*</span>ch<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="53"></td><td><pre>			<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>				<span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>			<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">strlen</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="57"></td><td><pre>			<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>				<span class="token keyword">return</span> <span class="token function">strlen</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token function">strlen</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>			src<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>			ch<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>	<span class="token comment">// 字符串相同返回 0</span></pre></td></tr><tr><td data-num="65"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="66"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="67"></td><td><pre><span class="token comment">//----------------------------------- 运行结果 -----------------------------------</span></pre></td></tr><tr><td data-num="68"></td><td><pre>flag1 <span class="token operator">=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="69"></td><td><pre>flag <span class="token operator">=</span> <span class="token number">1</span></pre></td></tr><tr><td data-num="70"></td><td><pre>不相同</pre></td></tr><tr><td data-num="71"></td><td><pre>函数判断正确</pre></td></tr><tr><td data-num="72"></td><td><pre></pre></td></tr><tr><td data-num="73"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">21484</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="74"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h5 id="7-sprintf"><a class="anchor" href="#7-sprintf">#</a> 7 sprintf()🌴</h5><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">int</span> <span class="token function">sprintf</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> format<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>功能：根据参数format字符串来转换并格式化数据，然后将结果输出到str指定的空间中，直到出现字符串结束符 <span class="token char">'\0'</span> 为止</pre></td></tr><tr><td data-num="4"></td><td><pre>参数：</pre></td></tr><tr><td data-num="5"></td><td><pre>   str：字符串首地址</pre></td></tr><tr><td data-num="6"></td><td><pre>   format：字符串格式，用法和<span class="token function">printf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>一样</pre></td></tr><tr><td data-num="7"></td><td><pre>返回值：</pre></td></tr><tr><td data-num="8"></td><td><pre>   成功：实际格式化的字符个数</pre></td></tr><tr><td data-num="9"></td><td><pre>   失败：<span class="token operator">-</span><span class="token number">1</span></pre></td></tr></table></figure><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token function">sprintf</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span> <span class="token string">"hello world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> ch<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token comment">// 将后面的 a，b，3 分别赋值给前面的 % s+% s=% d 然后赋值到字符数组中</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token function">sprintf</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span> <span class="token string">"%s + %s = %d"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> ch<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">//----------------------- 运行结果 -----------------------</span></pre></td></tr><tr><td data-num="14"></td><td><pre>hello world</pre></td></tr><tr><td data-num="15"></td><td><pre>a <span class="token operator">+</span> b <span class="token operator">=</span> <span class="token number">3</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">17552</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="18"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h5 id="8-sscanf"><a class="anchor" href="#8-sscanf">#</a> 8 sscanf()🌴</h5><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">int</span> <span class="token function">sscanf</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> format<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>功能：从str指定的字符串读取数据，并根据参数format字符串来转换并格式化数据。</pre></td></tr><tr><td data-num="4"></td><td><pre>参数：</pre></td></tr><tr><td data-num="5"></td><td><pre>   str：指定的字符串首地址</pre></td></tr><tr><td data-num="6"></td><td><pre>   format：字符串格式，用法和<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>一样</pre></td></tr><tr><td data-num="7"></td><td><pre>返回值：</pre></td></tr><tr><td data-num="8"></td><td><pre>   成功：参数数目，成功转换的值的个数</pre></td></tr><tr><td data-num="9"></td><td><pre>   失败：<span class="token operator">-</span><span class="token number">1</span></pre></td></tr></table></figure><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"1+2=3"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token comment">// 将 ch 中取出对应的值通过 a,b,c 的地址将值赋值</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token function">sscanf</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span> <span class="token string">"%d+%d=%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">,</span> <span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"=\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token keyword">char</span> ch1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"helloworld"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">char</span> ca<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token keyword">char</span> cb<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token comment">// %3s% s 第一个读取 3 个第二个全部读取完</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token function">sscanf</span><span class="token punctuation">(</span>ch1<span class="token punctuation">,</span> <span class="token string">"%3s%s"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>ca<span class="token punctuation">,</span> <span class="token operator">&amp;</span>cb<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> ca<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> cb<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token comment">//--------------------------- 运行结果 ---------------------------</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token number">1</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token number">2</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token operator">=</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token number">3</span></pre></td></tr><tr><td data-num="29"></td><td><pre>hel</pre></td></tr><tr><td data-num="30"></td><td><pre>loworld</pre></td></tr><tr><td data-num="31"></td><td><pre></pre></td></tr><tr><td data-num="32"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">15424</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="33"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h5 id="9-strchr"><a class="anchor" href="#9-strchr">#</a> 9 strchr()🌴</h5><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">strchr</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>功能：在字符串s中查找字母c出现的位置</pre></td></tr><tr><td data-num="4"></td><td><pre>参数：</pre></td></tr><tr><td data-num="5"></td><td><pre>   s：字符串首地址</pre></td></tr><tr><td data-num="6"></td><td><pre>   c：匹配字母 <span class="token punctuation">(</span>字符<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>返回值：</pre></td></tr><tr><td data-num="8"></td><td><pre>   成功：返回第一次出现的c地址</pre></td></tr><tr><td data-num="9"></td><td><pre>   失败：<span class="token constant">NULL</span></pre></td></tr></table></figure><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">my_strchr</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello world"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">char</span> c <span class="token operator">=</span> <span class="token char">'l'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token comment">// char* index = strchr(ch, c);</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> index <span class="token operator">=</span> <span class="token function">my_strchr</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>	</pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">// 实现 strchr 功能 函数</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">my_strchr</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> ch<span class="token punctuation">,</span> <span class="token keyword">char</span> c<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>ch<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>ch <span class="token operator">==</span> c<span class="token punctuation">)</span> <span class="token keyword">return</span> ch<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>		ch<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token comment">//----------------------------------- 运行结果 -----------------------------------</span></pre></td></tr><tr><td data-num="25"></td><td><pre>llo world</pre></td></tr><tr><td data-num="26"></td><td><pre></pre></td></tr><tr><td data-num="27"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">7820</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="28"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h5 id="10-strstr"><a class="anchor" href="#10-strstr">#</a> 10 strstr()🌴</h5><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">strstr</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> haystack<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> needle<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>功能：在字符串haystack中查找字符串needle出现的位置</pre></td></tr><tr><td data-num="4"></td><td><pre>参数：</pre></td></tr><tr><td data-num="5"></td><td><pre>   haystack：源字符串首地址</pre></td></tr><tr><td data-num="6"></td><td><pre>   needle：匹配字符串首地址</pre></td></tr><tr><td data-num="7"></td><td><pre>返回值：</pre></td></tr><tr><td data-num="8"></td><td><pre>   成功：返回第一次出现的needle地址</pre></td></tr><tr><td data-num="9"></td><td><pre>   失败：<span class="token constant">NULL</span></pre></td></tr></table></figure><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello world"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">char</span> ch1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"llo"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">// 获取 ch1 字符串中的位置以及后面的内容</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> index <span class="token operator">=</span> <span class="token function">strstr</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span> ch1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment">//------------------------------- 运行结果 -------------------------------</span></pre></td></tr><tr><td data-num="13"></td><td><pre>llo world</pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">6288</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="16"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h5 id="11-strtok"><a class="anchor" href="#11-strtok">#</a> 11 strtok()🌴</h5><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">strtok</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> delim<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>功能：来将字符串分割成一个个分段，当<span class="token function">strtok</span><span class="token punctuation">(</span><span class="token punctuation">)</span>在参数s的字符串中发现参数delim中包含的分隔字符时，则会将该字符改为<span class="token number">0</span>字符，当连续出现多个时只替换第一个为<span class="token number">0</span></pre></td></tr><tr><td data-num="4"></td><td><pre>参数：</pre></td></tr><tr><td data-num="5"></td><td><pre>   str：指向预分割字符串中包含的所有字符</pre></td></tr><tr><td data-num="6"></td><td><pre>返回值：</pre></td></tr><tr><td data-num="7"></td><td><pre>   成功：分割后字符串首地址</pre></td></tr><tr><td data-num="8"></td><td><pre>   失败：<span class="token constant">NULL</span></pre></td></tr></table></figure><ul><li>在第一次调用时：strtok () 必须给予参数 s 字符串</li><li>往后的调用则将参数 s 设置成 NULL，每次调用成功则返回指向被分割出片段的指针</li></ul><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token comment">// 字符串截取会破坏源字符串，strtok 会用 \0 来替换标志位 "."</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"www.dkx.net"</span><span class="token punctuation">;</span> <span class="token comment">// www\0dkx.net\0</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> new_str <span class="token operator">=</span> <span class="token function">strtok</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span> <span class="token string">"."</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> new_str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// www</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	new_str <span class="token operator">=</span> <span class="token function">strtok</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token string">"."</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> new_str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// dkx</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	new_str <span class="token operator">=</span> <span class="token function">strtok</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token string">"."</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> new_str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// net</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment">//-------------------------- 运行结果 --------------------------</span></pre></td></tr><tr><td data-num="16"></td><td><pre>www</pre></td></tr><tr><td data-num="17"></td><td><pre>dkx</pre></td></tr><tr><td data-num="18"></td><td><pre>net</pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">5868</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="21"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h5 id="12-atoi"><a class="anchor" href="#12-atoi">#</a> 12 atoi()🌴</h5><p>类似于 javaScript 中的 parseInt</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">int</span> <span class="token function">atoi</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> nptr<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>功能：<span class="token function">atoi</span><span class="token punctuation">(</span><span class="token punctuation">)</span>会扫描nptr字符串，跳过前面的空格字符，直到遇到数字或正负号才开始做转换，而遇到非数组或字符串结束符 <span class="token char">'\0'</span> 才结束转换，并将结果返回返回值</pre></td></tr><tr><td data-num="4"></td><td><pre>参数：</pre></td></tr><tr><td data-num="5"></td><td><pre>   nptr：待转换的字符串</pre></td></tr><tr><td data-num="6"></td><td><pre>返回值：</pre></td></tr><tr><td data-num="7"></td><td><pre>   成功转换后整数</pre></td></tr></table></figure><p>类似的函数有：</p><ul><li>atof ()：把一个小数形式的字符串转化为一个浮点数</li><li>atol ()：将一个字符串转化为 long 类型</li></ul><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"-123-456"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token comment">// 只能识别十进制整数</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token function">atoi</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">//----------------------------- 运行结果 -----------------------------</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token operator">-</span><span class="token number">123</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\指针\Debug\指针<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">12524</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="15"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h2 id="8-内存管理"><a class="anchor" href="#8-内存管理">#</a> 8 内存管理🎄</h2><h3 id="81-作用域"><a class="anchor" href="#81-作用域">#</a> 8.1 作用域🌳</h3><p>C 语言变量的作用域分为：</p><ul><li>代码块作用域 (代码块是 {} 之间一段代码)</li><li>函数作用域</li><li>文件作用域</li></ul><h4 id="811-局部变量"><a class="anchor" href="#811-局部变量">#</a> 8.1.1 局部变量🌲</h4><p>局部变量也叫 auto 自动变量 (auto 可写可不写) ，一般情况下代码块 {} 内部定义的变量都是自动变量，它有如下特点：</p><ul><li>在一个函数内定义，只在函数范围内有效</li><li>在复合语句中定义，只在复合语句中有效</li><li>&lt;font color='red'&gt; 随着函数调用的结束或复合语句的结束局部变量的生命周期也结束 &lt;/font&gt;</li><li>如果没有赋初始值，内容为随机</li></ul><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">vmvavin</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token comment">// 定义变量 局部变量</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token comment">// 在函数内部定义的变量，称为局部变量，可以使用 auto 进行修饰</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">// 也可以加 auto</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token comment">// 作用域：在函数内部</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token comment">// 生命周期：从创建到函数结束</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">auto</span> <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token comment">// 或者</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="812-静态-static-局部变量"><a class="anchor" href="#812-静态-static-局部变量">#</a> 8.1.2 静态 (static) 局部变量🌲</h4><ul><li>static 局部变量的作用域也是在定义的函数内有效。</li><li>static 局部变量的声明周期和程序运行周期一样，同时 static 局部变量的值 &lt;font color='red'&gt; 只初始化一次，但可以赋值多次 &lt;/font&gt;。</li><li>static 局部变量若未赋值以初始值，则由系统自动赋值：数值型变量自动赋初始值 0，字符型变量赋空字符。</li></ul><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span>  <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">void</span> <span class="token function">fun02</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token comment">// 静态变量只会初始化一次，可以多次赋值</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token comment">// 在数据区进行存储</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">// 作用域：函数内部范围</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token comment">// 生命周期：从程序创建到程序销毁</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">static</span> <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	b<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"b = %d\n"</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出的是数值的增长</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	a<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"a = %d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出的都是 11</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token comment">// 静态局部变量</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token comment">// static int b = 10;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>		<span class="token function">fun02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token comment">// printf("b = %d\n", b);</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token comment">//------------------------------ 运行结果 ------------------------------</span></pre></td></tr><tr><td data-num="30"></td><td><pre>b <span class="token operator">=</span> <span class="token number">11</span></pre></td></tr><tr><td data-num="31"></td><td><pre>a <span class="token operator">=</span> <span class="token number">11</span></pre></td></tr><tr><td data-num="32"></td><td><pre>b <span class="token operator">=</span> <span class="token number">12</span></pre></td></tr><tr><td data-num="33"></td><td><pre>a <span class="token operator">=</span> <span class="token number">11</span></pre></td></tr><tr><td data-num="34"></td><td><pre>b <span class="token operator">=</span> <span class="token number">13</span></pre></td></tr><tr><td data-num="35"></td><td><pre>a <span class="token operator">=</span> <span class="token number">11</span></pre></td></tr><tr><td data-num="36"></td><td><pre>b <span class="token operator">=</span> <span class="token number">14</span></pre></td></tr><tr><td data-num="37"></td><td><pre>a <span class="token operator">=</span> <span class="token number">11</span></pre></td></tr><tr><td data-num="38"></td><td><pre>b <span class="token operator">=</span> <span class="token number">15</span></pre></td></tr><tr><td data-num="39"></td><td><pre>a <span class="token operator">=</span> <span class="token number">11</span></pre></td></tr><tr><td data-num="40"></td><td><pre>b <span class="token operator">=</span> <span class="token number">16</span></pre></td></tr><tr><td data-num="41"></td><td><pre>a <span class="token operator">=</span> <span class="token number">11</span></pre></td></tr><tr><td data-num="42"></td><td><pre>b <span class="token operator">=</span> <span class="token number">17</span></pre></td></tr><tr><td data-num="43"></td><td><pre>a <span class="token operator">=</span> <span class="token number">11</span></pre></td></tr><tr><td data-num="44"></td><td><pre>b <span class="token operator">=</span> <span class="token number">18</span></pre></td></tr><tr><td data-num="45"></td><td><pre>a <span class="token operator">=</span> <span class="token number">11</span></pre></td></tr><tr><td data-num="46"></td><td><pre>b <span class="token operator">=</span> <span class="token number">19</span></pre></td></tr><tr><td data-num="47"></td><td><pre>a <span class="token operator">=</span> <span class="token number">11</span></pre></td></tr><tr><td data-num="48"></td><td><pre>b <span class="token operator">=</span> <span class="token number">20</span></pre></td></tr><tr><td data-num="49"></td><td><pre>a <span class="token operator">=</span> <span class="token number">11</span></pre></td></tr><tr><td data-num="50"></td><td><pre></pre></td></tr><tr><td data-num="51"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\内存管理\x64\Debug\内存管理<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">14252</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="52"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h4 id="813-全局变量"><a class="anchor" href="#813-全局变量">#</a> 8.1.3 全局变量🌲</h4><ul><li>在函数外定义，可被本文件及其它文件中的函数所共用，若其它文件中的函数调用此变量，须用 extern 声明</li><li>全局变量的生命周期和程序运行周期一样</li><li>&lt;font color='red'&gt; 不同文件的全局变量不可重名 &lt;/font&gt;.</li></ul><p>02 全局变量.c</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 全局变量存储在数据区</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 全局变量，定义在函数外部的变量</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 作用域：整个项目中所有文件，如果 其它某个文件需要使用</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 该全局变量需要在它的文件中进行声明 extern int a; 即可</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 生命周期：从程序创建到程序销毁</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"fun = %d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token comment">// 局部变量</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"main - a = %p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>		<span class="token comment">// 局部变量</span></pre></td></tr><tr><td data-num="23"></td><td><pre>		<span class="token comment">// 作用域：代码块范围内外部访问不到</span></pre></td></tr><tr><td data-num="24"></td><td><pre>		<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">456</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"main - &#123;one&#125; - a = %p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"main -&#123;one&#125; = %d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>		<span class="token comment">//a 变量没有进行重新定义按就近原则 找最近的存在的 a 变量</span></pre></td></tr><tr><td data-num="30"></td><td><pre>		<span class="token comment">// 也就是 main 函数中的 a 变量然后进行重新赋值</span></pre></td></tr><tr><td data-num="31"></td><td><pre>		a <span class="token operator">=</span> <span class="token number">789</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"main - &#123;two&#125; - a = %p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"main -&#123;two&#125; = %d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	<span class="token comment">// 数据在操作时会采用就近原则</span></pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"main = %d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>	<span class="token function">fun01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token comment">//------------------------------ 运行结果 ------------------------------</span></pre></td></tr><tr><td data-num="42"></td><td><pre>main <span class="token operator">-</span> a <span class="token operator">=</span> <span class="token number">000000090</span>C79F8E4</pre></td></tr><tr><td data-num="43"></td><td><pre>main <span class="token operator">-</span> <span class="token punctuation">&#123;</span>one<span class="token punctuation">&#125;</span> <span class="token operator">-</span> a <span class="token operator">=</span> <span class="token number">000000090</span>C79F904</pre></td></tr><tr><td data-num="44"></td><td><pre>main <span class="token operator">-</span><span class="token punctuation">&#123;</span>one<span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token number">456</span></pre></td></tr><tr><td data-num="45"></td><td><pre>main <span class="token operator">-</span> <span class="token punctuation">&#123;</span>two<span class="token punctuation">&#125;</span> <span class="token operator">-</span> a <span class="token operator">=</span> <span class="token number">000000090</span>C79F8E4</pre></td></tr><tr><td data-num="46"></td><td><pre>main <span class="token operator">-</span><span class="token punctuation">&#123;</span>two<span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token number">789</span></pre></td></tr><tr><td data-num="47"></td><td><pre>main <span class="token operator">=</span> <span class="token number">789</span></pre></td></tr><tr><td data-num="48"></td><td><pre>fun <span class="token operator">=</span> <span class="token number">100</span></pre></td></tr><tr><td data-num="49"></td><td><pre>fun01 <span class="token operator">=</span> <span class="token number">1000</span></pre></td></tr><tr><td data-num="50"></td><td><pre></pre></td></tr><tr><td data-num="51"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\内存管理\x64\Debug\内存管理<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">10020</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="52"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><p>02test.c</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">//int a = 110; 多个全局变量命名不能重复</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 声明 int a 变量</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">int</span> a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">void</span> <span class="token function">fun01</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	a <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"fun01 = %d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309291224448.png" alt="image-20230929122402239"></p><h4 id="814-静态static全局变量"><a class="anchor" href="#814-静态static全局变量">#</a> 8.1.4 静态 (static) 全局变量🌲</h4><ul><li>static 局部变量的作用域也是在定义的函数内有效</li><li>static 局部变量的声明周期和程序运行周期一样，同时 static 局部变量的值 &lt;font color='red'&gt; 只初始化一次，但可以赋值多次 &lt;/font&gt;。</li><li>static 局部变量若未赋予初始值，则由系统自动赋值：数值型变量自动赋值初始值 0，字符型变量赋空字符</li></ul><p>静态全局变量.c</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 静态全局变量</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 作用域；可以在文本文件中使用，不可以在其它文件中使用</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 生命周期：从程序创建到程序销毁</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">static</span> <span class="token keyword">int</span> d <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">void</span> <span class="token function">fun05</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	d <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token function">fun05</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>   <span class="token comment">// 03test.c 测试时打开</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token comment">// fun06();</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token comment">//-------------------------------- 运行结果 --------------------------------</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token number">10</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token number">20</span></pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\内存管理\x64\Debug\内存管理<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">6724</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="27"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><p>03test.c</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">// 找不到外部符号 d</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">int</span> d<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">void</span> <span class="token function">fun06</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309291841379.png" alt="image-20230929184139331"></p><h4 id="815-extern全局变量声明"><a class="anchor" href="#815-extern全局变量声明">#</a> 8.1.5 extern 全局变量声明🌲</h4><p>extern int a; 声明一个变量，这个全局变量在别的文件中已经定义了，这里只是声明，而不是定义。</p><h4 id="816-全局函数和静态函数"><a class="anchor" href="#816-全局函数和静态函数">#</a> 8.1.6 全局函数和静态函数🌲</h4><p>在 C 语言中函数默认都是全局的，使用关键字 static 可以将函数声明为静态，函数定义为 static 就意味着这个函数只能在定义这个函数的文件中使用，在其它文件中不能调用，即使在其它文件中声明这个函数都没用。</p><p>对于不同文件中的 static 函数名字可以相同。</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309292324673.png" alt="image-20230929232417298"></p><p>全局函数和静态函数.c</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 函数可以自己调用自己 称为 递归</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 声明静态函数</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">void</span> <span class="token function">fun07</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token comment">// 全局函数的名称是作用域中唯一的，不允许出现重名</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token comment">// 作用域：在整个项目中所有文件中使用</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token function">sort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token comment">// 这个静态函数作用域仅限于它当前文件中，运行会报错</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token comment">// 在当前文件中可以定义与其它文件重名的静态函数，那么它执行的就是当前文件的静态函数</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token function">fun07</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token comment">// 静态函数  可以和全局函数重名</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token comment">// 作用域：当前文件中</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token comment">// 声明周期：从程序创建到程序销毁 </span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">fun07</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"hello world\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token comment">//------------------------------ 运行结果 ------------------------------</span></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token number">1</span></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token number">2</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token number">3</span></pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token number">4</span></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token number">5</span></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token number">6</span></pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token number">7</span></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token number">8</span></pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token number">9</span></pre></td></tr><tr><td data-num="42"></td><td><pre><span class="token number">10</span></pre></td></tr><tr><td data-num="43"></td><td><pre>hello world</pre></td></tr><tr><td data-num="44"></td><td><pre></pre></td></tr><tr><td data-num="45"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\内存管理\x64\Debug\内存管理<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">3108</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="46"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><p>04test.c</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> src<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token keyword">int</span> flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>		<span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>j <span class="token operator">&lt;</span> len<span class="token operator">-</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span>src <span class="token operator">+</span> j<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">*</span><span class="token punctuation">(</span>src <span class="token operator">+</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>			<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>				flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>				<span class="token keyword">int</span> temp <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span>src <span class="token operator">+</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>				<span class="token operator">*</span><span class="token punctuation">(</span>src <span class="token operator">+</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span>src <span class="token operator">+</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>				<span class="token operator">*</span><span class="token punctuation">(</span>src <span class="token operator">+</span> j<span class="token punctuation">)</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="19"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>			<span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>		<span class="token keyword">else</span></pre></td></tr><tr><td data-num="23"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>			flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>5test.c</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 静态函数</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 作用域：当前文件中</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">fun07</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"hello world\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>&lt;font color='red'&gt; 注意 &lt;/font&gt;：如果不在，全局函数和静态函数中去声明 sort 函数则跳转不到函数定义，如果声明则可以，如下图演示，建议声明因为有意义</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309292004720.gif" alt="test"></p><p>&lt;font color='red'&gt; 注意 &lt;/font&gt;：</p><ul><li>运行在不同的函数中使用相同的变量名，它们代表不同的对象，分配不同的单元，互不干扰。</li><li>同一源文件中，允许全局变量和局部变量同名，在局部变量的作用域内，全局变量不起作用。</li><li>所有的函数默认都是全局的，意味着所有的函数都不能重名，但如果是 static 函数，那么作用域是文件级的，所以不同的文件 static 函数名是可以相同的。</li></ul><h4 id="817-总结"><a class="anchor" href="#817-总结">#</a> 8.1.7 总结🌲</h4><table><thead><tr><th>类型</th><th>作用域</th><th>生命周期</th></tr></thead><tbody><tr><td>auto 变量</td><td>一对 {} 内</td><td>当前函数</td></tr><tr><td>static 局部变量</td><td>一对 {} 内</td><td>整个程序运行期</td></tr><tr><td>extern 变量</td><td>整个程序</td><td>整个程序运行期</td></tr><tr><td>static 全局变量</td><td>当前文件</td><td>整个程序运行期</td></tr><tr><td>extern 函数</td><td>整个程序</td><td>整个程序运行期</td></tr><tr><td>static 函数</td><td>当前文件</td><td>整个程序运行期</td></tr><tr><td>register 变量</td><td>一对 {} 内</td><td>当前函数</td></tr><tr><td>全局变量</td><td>整个程序</td><td>整个程序运行期</td></tr></tbody></table><h3 id="82-内存布局"><a class="anchor" href="#82-内存布局">#</a> 8.2 内存布局🌳</h3><h4 id="821-内存分区"><a class="anchor" href="#821-内存分区">#</a> 8.2.1 内存分区🌲</h4><p>C 代码经过 &lt;font color='red'&gt; 预处理 &lt;/font&gt;，&lt;font color='red'&gt; 编译 &lt;/font&gt;，&lt;font color='red'&gt; 汇编 &lt;/font&gt;，&lt;font color='red'&gt; 链接 &lt;/font&gt; 4 步后生成一个可执行程序。</p><p>在 Windows 下，程序是一个普通的可执行文件，以下例出一个二进制可执行文件的基本情况：</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 安全的常量定义格式 ， 存储为数据区常量区</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">const</span> <span class="token keyword">int</span> f <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 未初始化的全局变量</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">int</span> a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 初始化的全局变量</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">int</span> a1 <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">// 未初始化的静态全局变量</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">static</span> b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">// 初始化的静态全局变量</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">static</span> b1 <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token comment">// 未初始化的局部变量</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">int</span> c<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token comment">// 初始化的局部变量</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token keyword">int</span> c1 <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token comment">// 未初始化的静态局部变量</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token keyword">static</span> <span class="token keyword">int</span> d<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token comment">// 初始化的静态局部变量</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token keyword">static</span> <span class="token keyword">int</span> d1 <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token comment">// 字符串常量</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token string">"hello world"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token comment">//int 类型数组</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token comment">// 指针</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> pp <span class="token operator">=</span> arr<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"全局常量变量：%p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"未初始化的全局变量：%p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"初始化的全局变量：%p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"未初始化的静态全局变量：%p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"初始化的静态全局变量：%p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>b1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"未初始化的局部变量：%p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"初始化的局部变量：%p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>c1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"未初始化的静态局部变量：%p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"初始化的静态局部变量：%p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>d1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"字符串常量：%p\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"int类型数组：%p\n"</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"指针：%p\n"</span><span class="token punctuation">,</span> pp<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"指针地址：%p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>pp<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309301228333.png" alt="image-20230930122824027"></p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309301255299.png" alt="image-20230930125556574"></p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309301306912.png" alt="image-20230930130654361"></p><p>通过上图可以得知，在没有运行程序前，也就是说 &lt;font color='red'&gt; 程序没有加载到内存前 &lt;/font&gt;，可执行程序内部已经分好 3 段信息，分别为 &lt; font color='red'&gt; 代码区 (text)&lt;/font&gt;，&lt;font color='red'&gt; 数据区 (data) 和未初始化数据区 (bss) &lt;/font&gt;3 个部分 (有些人直接把 data 和 bss 合起来叫做静态区或全局区)</p><ul><li>代码区</li></ul><p>存放 CPU 执行的机器指令。通常代码区是可共享的 (即另外的执行程序可以调用它)，使其可共享的目的是对于频繁被执行的程序，只需要在内存中有一份代码即可。&lt;font color='red'&gt; 代码区通常是只读的 &lt;/font&gt;，使其只读的原因是防止程序意外的修改了它的指令。另外，代码区还规划了局部变量的相关信息</p><ul><li>全局初始化数据区 / 静态数据区 (data 段)</li></ul><p>该区包含了在程序中明确被初始化的全局变量，已经初始化的静态变量 (包括全局静态变量和局部静态变量) 和常量数据 (如字符串常量)。</p><ul><li>未初始化数据区 (bss)</li></ul><p>存入的是全局未初始化变量和未初始化静态变量。未初始化数据区的数据在程序开始执行之前被内核初始化为 0 或者空 (NULL)</p><p>程序在加载到内存前，&lt;font color='red'&gt; 代码区和全局区 (data 和 bss) 的大小就是固定的 &lt;/font&gt;，程序运行期间 不能改变。然后，运行可执行程序，系统把程序加载到内存，&lt;font color='red'&gt; 除了根据可执行程序的信息分出代码区 (text)，数据区 (data) 和未初始化数据区 (bss) 之外，还额外增加了栈区，堆区 &lt;/font&gt;。</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309301446888.png" alt="image-20230930144648128"></p><p>&lt;center&gt; 内存模型图 &lt;/center&gt;</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309301452105.png" alt="image-20230930145240721"></p><ul><li>代码区 (text segment)</li></ul><p>记载的是可执行文件代码段，所有的可执行代码都加载到代码区，这块内存是不可以在运行期间修改的</p><ul><li>未初始化数据区 (BSS)</li></ul><p>加载的是可执行文件 BSS 段，位置可以分开也可以紧靠数据段，存储于数据段的数据 (全局未初始化，静态未初始化数据) 的生存周期为整个程序运行过程</p><ul><li>全局初始化数据区 / 静态数据区 (data segment)</li></ul><p>记载的是可执行文件数据段，存储于数据段 (全局初始化，静态初始化数据，文字常量 (只读)) 的数据生存周期为整个程序运行过程</p><ul><li>栈区 (stack)</li></ul><p>栈是一种先进后出的内存结构，由编译器自动分配释放，存放函数的参数值，返回值，局部变量等。在程序运行过程中实时加载释放，因此，局部变量的生存周期为申请到释放该段栈空间</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"a = %p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"b = %p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token function">swap</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token keyword">int</span> temp <span class="token operator">=</span> a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	a <span class="token operator">=</span> b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	b <span class="token operator">=</span> temp<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"a = %p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"b = %p\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>&lt;center&gt; 栈区存储模型 &lt;/center&gt;</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309301515899.png" alt="image-20230930151554523"></p><ul><li>栈区 (heap)</li></ul><p>堆是一个大容器，它的容量要远远大于栈，但没有栈那样先进后出的顺序。用于动态内存分配。堆在内存中位于 BSS 区和栈区之间。一般由程序员分配和释放，若程序员不释放，程序结束时由操作系统回收。</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token comment">// 栈区大小 1 兆</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token comment">// 820000 * 4 = 328,000 个字节</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">// 328,000 / 1024 = 320.3125 kb</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token comment">// 320.3125 / 1024 ≈ 3 兆</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token comment">// 3 兆 / 3 ≈ 1 兆</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token comment">// 1 兆情况下也可能会挂掉 (报错) 因为栈区要加载一些函数信息</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token comment">// 但是这个约等于 1 兆 也比 1 兆大了点</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token comment">// int arr[820000 / 3] = &#123; 0 &#125;;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token comment">// 3 兆 / 4 ≈ 0.7 兆  小于 1 兆 debug 执行的话不会挂掉 (报错)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token comment">// int arr[820000 / 4] = &#123; 0 &#125;;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token comment">// 开辟堆空间存储数据</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token comment">// 开辟一个 4 个字节大小的空间</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token comment">// 使用堆空间</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token comment">// 玩用完后 要 释放堆空间</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token comment">//p 释放掉还有值就是野指针了</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">456</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token comment">// 避免野指针的出现每次使用完后将该指针置为空 (NULL)</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	p <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span> <span class="token comment">// 如果程序执行完本身就结束了该语句可以不写</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token comment">//------------------------------ 运行结果 ------------------------------</span></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token number">00</span>C01A70</pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token number">123</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token number">00</span>C01A70</pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token number">456</span></pre></td></tr><tr><td data-num="37"></td><td><pre></pre></td></tr><tr><td data-num="38"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\内存管理\Debug\内存管理<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">16856</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="39"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token comment">// 4 * 8200000 = 32,800,000 kb * 100 = 3,280,000,000 gb</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token comment">//int* p = (int*) malloc (sizeof (int) * 8200000 * 100); // 开辟内存大小为 3G 大的空间</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">//printf ("% p\n", p); // 00000000 指向内存编号为 00000000 的地址</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">8200000</span> <span class="token operator">*</span> <span class="token number">100</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 开辟 1G 空间</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 02EFD040</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token comment">// 建议如果开辟的空间比较大做一下判断</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>p<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"内存爆炸了 !!!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token comment">//--------------------------- 运行结果 ---------------------------</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token number">031E1040</span></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\内存管理\Debug\内存管理<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">5360</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="22"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h4 id="822-开辟的堆空间与释放堆空间的位置关系"><a class="anchor" href="#822-开辟的堆空间与释放堆空间的位置关系">#</a> 8.2.2 开辟的堆空间与释放堆空间的位置关系🌲</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAX</span> <span class="token expression"><span class="token number">10</span></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">extern</span> <span class="token keyword">void</span> <span class="token function">sort01</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token function">srand</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">size_t</span><span class="token punctuation">)</span> <span class="token function">time</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token function">malloc</span> <span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> MAX<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"开辟堆空间的内存地址：%p\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> MAX<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>		p<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\t"</span><span class="token punctuation">,</span> p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token function">sort01</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> MAX<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n--------排序后--------\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>j <span class="token operator">&lt;</span> MAX<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\t"</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>		p<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n堆空间指针后移10位：%p\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token comment">// 如果将堆空间的内存地址在该到原来的位置再去 free 释放时就不会报错了</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token comment">// 因为这样开辟的时候和释放的时候都是同一个位置的内存空间地址</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	p <span class="token operator">-=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"堆空间指针前移10位：%p\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token comment">/**</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	* 这里会报错</pre></td></tr><tr><td data-num="32"></td><td><pre>	* 因为，指针开辟的位置和释放的位置发生了改变</pre></td></tr><tr><td data-num="33"></td><td><pre>	* 在排序的时候指针 ++ 偏移量已经不在原来的位置了</pre></td></tr><tr><td data-num="34"></td><td><pre>	* 再回来释放这个堆空间就报错了。</pre></td></tr><tr><td data-num="35"></td><td><pre>	*/</pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="39"></td><td><pre></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token keyword">void</span> <span class="token function">sort01</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> src<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	<span class="token keyword">int</span> flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="45"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>		<span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>j <span class="token operator">&lt;</span> len <span class="token operator">-</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="48"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span>src <span class="token operator">+</span> j<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">*</span><span class="token punctuation">(</span>src <span class="token operator">+</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="50"></td><td><pre>			<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>				flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>				<span class="token keyword">int</span> temp <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span>src <span class="token operator">+</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>				<span class="token operator">*</span><span class="token punctuation">(</span>src <span class="token operator">+</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span>src <span class="token operator">+</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>				<span class="token operator">*</span><span class="token punctuation">(</span>src <span class="token operator">+</span> j<span class="token punctuation">)</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>		<span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="58"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>			<span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>		<span class="token keyword">else</span></pre></td></tr><tr><td data-num="62"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>			flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="65"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="66"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="67"></td><td><pre><span class="token comment">//------------------------------- 运行结果 -------------------------------</span></pre></td></tr><tr><td data-num="68"></td><td><pre>开辟堆空间的内存地址：<span class="token number">012F</span><span class="token number">6848</span></pre></td></tr><tr><td data-num="69"></td><td><pre><span class="token number">67</span>      <span class="token number">88</span>      <span class="token number">48</span>      <span class="token number">44</span>      <span class="token number">83</span>      <span class="token number">10</span>      <span class="token number">85</span>      <span class="token number">81</span>      <span class="token number">34</span>      <span class="token number">84</span></pre></td></tr><tr><td data-num="70"></td><td><pre><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>排序后<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span></pre></td></tr><tr><td data-num="71"></td><td><pre><span class="token number">10</span>      <span class="token number">34</span>      <span class="token number">44</span>      <span class="token number">48</span>      <span class="token number">67</span>      <span class="token number">81</span>      <span class="token number">83</span>      <span class="token number">84</span>      <span class="token number">85</span>      <span class="token number">88</span></pre></td></tr><tr><td data-num="72"></td><td><pre>堆空间指针后移<span class="token number">10</span>位：<span class="token number">012F</span><span class="token number">6870</span></pre></td></tr><tr><td data-num="73"></td><td><pre>堆空间指针前移<span class="token number">10</span>位：<span class="token number">012F</span><span class="token number">6848</span></pre></td></tr><tr><td data-num="74"></td><td><pre></pre></td></tr><tr><td data-num="75"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\内存管理\Debug\内存管理<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">3996</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="76"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h4 id="823-内存操作函数"><a class="anchor" href="#823-内存操作函数">#</a> 8.2.3 内存操作函数🌲</h4><h5 id="1-memset"><a class="anchor" href="#1-memset">#</a> 1 memset()🌴</h5><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">memset</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> c<span class="token punctuation">,</span> <span class="token class-name">size_t</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>功能：将s的内存区域的前n个字节以参数c填入</pre></td></tr><tr><td data-num="4"></td><td><pre>参数：</pre></td></tr><tr><td data-num="5"></td><td><pre>   s：需要操作内存s的首地址</pre></td></tr><tr><td data-num="6"></td><td><pre>   c：填充的字符，c虽然参数为<span class="token keyword">int</span>，但必须是<span class="token keyword">unsigned</span> <span class="token keyword">char</span>，范围为 <span class="token number">0</span> <span class="token operator">~</span> <span class="token number">255</span></pre></td></tr><tr><td data-num="7"></td><td><pre>   n：指定需要设置的大小</pre></td></tr><tr><td data-num="8"></td><td><pre>返回值：s的首地址</pre></td></tr></table></figure><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token comment">// 开辟 40 个字节空间，存储 10 个整型变量，内存地址是连续的</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">//memset 重置内存空间的值</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token comment">// 将 p 堆空间的 40 个字节大小重置为 1</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token function">memset</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 16843009</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token comment">/**</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	* 为什么输出的是 16843009 呢？</pre></td></tr><tr><td data-num="12"></td><td><pre>	* 1 个字节 8 个比特位 0000 0000</pre></td></tr><tr><td data-num="13"></td><td><pre>	* 4 个字节 32 个比特位：0000 0000 0000 0000 0000 0000 0000 0000</pre></td></tr><tr><td data-num="14"></td><td><pre>	* 重置为 1 对应的二进制空间为：0001 0001 0001 0001 0001 0001 0001 0001</pre></td></tr><tr><td data-num="15"></td><td><pre>	* 对应的十六进制为：01 01 01 01 4 个字节空间的值</pre></td></tr><tr><td data-num="16"></td><td><pre>	* 再转换为十进制显示：一个 int 类型空间为：16843009 循环 10 次</pre></td></tr><tr><td data-num="17"></td><td><pre>	* 开辟：4 字节 * 10 = 40 字节 </pre></td></tr><tr><td data-num="18"></td><td><pre>	* 循环：1:4 2:8 3:12 4:16 5:20 6:24 7:28 </pre></td></tr><tr><td data-num="19"></td><td><pre>	* 8:32 9:34 10:38 每循环 4 个字节十进制值为：16843009</pre></td></tr><tr><td data-num="20"></td><td><pre>	*/</pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\t"</span><span class="token punctuation">,</span> p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token comment">//-------------------------------- 运行结果 --------------------------------</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token number">16843009</span>        <span class="token number">16843009</span>        <span class="token number">16843009</span>        <span class="token number">16843009</span>        <span class="token number">16843009</span>        <span class="token number">16843009</span>        <span class="token number">16843009</span>        <span class="token number">168430016843009</span> <span class="token number">16843009</span></pre></td></tr><tr><td data-num="31"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\内存管理\Debug\内存管理<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">17428</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="32"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h5 id="2-memcpy"><a class="anchor" href="#2-memcpy">#</a> 2 memcpy()🌴</h5><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">memcpy</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> dest<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span><span class="token operator">*</span> src<span class="token punctuation">,</span> <span class="token class-name">size_t</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>功能：拷贝src所指的内存内容的前n个字节到dest所指的内存地址上</pre></td></tr><tr><td data-num="4"></td><td><pre>参数：</pre></td></tr><tr><td data-num="5"></td><td><pre>   dest：目的内存首地址</pre></td></tr><tr><td data-num="6"></td><td><pre>   src：源内存首地址，注意：dest和src所指的内存空间不可重叠，可能会导致程序报错</pre></td></tr><tr><td data-num="7"></td><td><pre>   n：需要拷贝的字节数</pre></td></tr><tr><td data-num="8"></td><td><pre>返回值：dest的首地址</pre></td></tr></table></figure><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token function">memcpy</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> arr<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"------------------------\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello\0 world"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">char</span> ch1<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token comment">// 字符串拷贝遇到 \0 停止</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>ch1<span class="token punctuation">,</span> ch<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token keyword">int</span> i1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> i1 <span class="token operator">&lt;</span> <span class="token number">13</span><span class="token punctuation">;</span> i1<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> ch1<span class="token punctuation">[</span>i1<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n------------------------\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token comment">// 内存拷贝 拷贝的内容和字节有关</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token function">memcpy</span><span class="token punctuation">(</span>ch1<span class="token punctuation">,</span> ch<span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token keyword">int</span> i2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> i2 <span class="token operator">&lt;</span> <span class="token number">13</span><span class="token punctuation">;</span> i2<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> ch1<span class="token punctuation">[</span>i2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token comment">//------------------------ 运行结果 ------------------------</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token number">1</span></pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token number">2</span></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token number">3</span></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token number">4</span></pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token number">5</span></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token number">6</span></pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token number">7</span></pre></td></tr><tr><td data-num="42"></td><td><pre><span class="token number">8</span></pre></td></tr><tr><td data-num="43"></td><td><pre><span class="token number">9</span></pre></td></tr><tr><td data-num="44"></td><td><pre><span class="token number">10</span></pre></td></tr><tr><td data-num="45"></td><td><pre><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span></pre></td></tr><tr><td data-num="46"></td><td><pre>hello烫烫烫</pre></td></tr><tr><td data-num="47"></td><td><pre><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span></pre></td></tr><tr><td data-num="48"></td><td><pre>hello world</pre></td></tr><tr><td data-num="49"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\内存管理\Debug\内存管理<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">17232</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="50"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h5 id="3-memmove"><a class="anchor" href="#3-memmove">#</a> 3 memmove()🌴</h5><p>memmove () 功能用法和 memcpy () 一样，区别在于：dest 和 src 所指的内存空间重叠时，memmove () 仍然能处理，不过执行效率比 memcoy () 低些</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token comment">// 如果拷贝的目标和源发生重叠，可能报错</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">// memcpy(&amp;arr[5], &amp;arr[3], 20);</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token function">memmove</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\t"</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment">//-------------------------- 运行结果 -------------------------</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token number">1</span>       <span class="token number">2</span>       <span class="token number">3</span>       <span class="token number">4</span>       <span class="token number">5</span>       <span class="token number">4</span>       <span class="token number">5</span>       <span class="token number">6</span>       <span class="token number">7</span>       <span class="token number">8</span></pre></td></tr><tr><td data-num="18"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\内存管理\Debug\内存管理<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">17712</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="19"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h5 id="4-memcmp"><a class="anchor" href="#4-memcmp">#</a> 4 memcmp()🌴</h5><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">int</span> <span class="token function">memcmp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">void</span><span class="token operator">*</span> s1<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span><span class="token operator">*</span> s2<span class="token punctuation">,</span> <span class="token class-name">size_t</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>功能：比较s1和s2所指向内存区域的前n个字节</pre></td></tr><tr><td data-num="4"></td><td><pre>参数：</pre></td></tr><tr><td data-num="5"></td><td><pre>   s1：内存首地址<span class="token number">1</span></pre></td></tr><tr><td data-num="6"></td><td><pre>   s2：内存首地址<span class="token number">2</span></pre></td></tr><tr><td data-num="7"></td><td><pre>   n：需比较的前n个字节</pre></td></tr><tr><td data-num="8"></td><td><pre>返回值：</pre></td></tr><tr><td data-num="9"></td><td><pre>   相等：<span class="token operator">=</span><span class="token number">0</span></pre></td></tr><tr><td data-num="10"></td><td><pre>   大于：<span class="token operator">></span><span class="token number">0</span></pre></td></tr><tr><td data-num="11"></td><td><pre>   小于：<span class="token operator">&lt;</span><span class="token number">0</span></pre></td></tr></table></figure><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">int</span> arr1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">// 比较 arr 与 arr1 内存字节大小与内容无关 4*5=20 字节大小</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">int</span> value <span class="token operator">=</span> <span class="token function">memcmp</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> arr1<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello\0 world"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">char</span> ch1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello\0 world"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">int</span> value1 <span class="token operator">=</span> <span class="token function">memcmp</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span> ch1<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment">//------------------------------- 运行结果 -------------------------------</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token number">0</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token number">0</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\内存管理\Debug\内存管理<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">8720</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="21"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h4 id="824-内存常见问题"><a class="anchor" href="#824-内存常见问题">#</a> 8.2.4 内存常见问题🌲</h4><h5 id="1-数组越界"><a class="anchor" href="#1-数组越界">#</a> 1 数组越界🌴</h5><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310011217092.png" alt="image-20231001121752613"></p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token comment">// 数组下标越界</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token comment">// char ch[11] = "hello world";</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">char</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token comment">// 开辟了 11 字节大小的空间往里面拷贝了 12 个长度的内容</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token comment">// 释放时就会出现问题，就是多处一个空间是否要释放</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token comment">// 释放导致多释放一段空间，不释放就会浪费空间</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token function">strcpy</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token string">"hello world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment">//--------------------- 运行结果 ---------------------</span></pre></td></tr><tr><td data-num="17"></td><td><pre>hello world</pre></td></tr></table></figure><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310011214421.png" alt="image-20231001121428137"></p><p>&lt;font color='red'&gt; 注意 &lt;/font&gt;：报错内存需要重新处理就会卡顿主</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310011222521.png" alt="image-20231001122214498"></p><h5 id="2-野指针"><a class="anchor" href="#2-野指针">#</a> 2 野指针🌴</h5><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token comment">// 野指针</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token operator">*</span>p <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>与上面同样的报错</p><h5 id="3-堆空间多次释放"><a class="anchor" href="#3-堆空间多次释放">#</a> 3 堆空间多次释放🌴</h5><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">//free (p); ERROR 堆空间不允许多次释放</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token comment">// 空指针允许多次释放</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	p <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h5 id="4-函数传递"><a class="anchor" href="#4-函数传递">#</a> 4 函数传递🌴</h5><p>两个同级别的指针就是值传递</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">void</span> <span class="token function">fun08</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> p<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token function">fun08</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>		p<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310011251783.png" alt="image-20231001125126240"></p><p>引用传递</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">void</span> <span class="token function">fun08</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> p<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"形参：%p\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">void</span> <span class="token function">fun09</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token operator">*</span> p<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token operator">*</span>p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"形参：%p\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token function">fun08</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token function">fun09</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"实参：%p\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token comment">//------------------------ 运行结果 ------------------------</span></pre></td></tr><tr><td data-num="25"></td><td><pre>形参：<span class="token number">01306380</span></pre></td></tr><tr><td data-num="26"></td><td><pre>形参：<span class="token number">01306900</span></pre></td></tr><tr><td data-num="27"></td><td><pre>实参：<span class="token number">01306900</span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\内存管理\Debug\内存管理<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">8452</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="30"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h4 id="825-二级指针对应的堆空间"><a class="anchor" href="#825-二级指针对应的堆空间">#</a> 8.2.5 二级指针对应的堆空间🌲</h4><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310020101991.png" alt="image-20231002010109336"></p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token comment">// int arr[5][3];</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">// 开辟二级指针对应的堆空间</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">int</span><span class="token operator">*</span><span class="token operator">*</span> p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>		<span class="token comment">// 开辟一级指针对应的堆空间</span></pre></td></tr><tr><td data-num="13"></td><td><pre>		p<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token keyword">int</span> i1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>i1 <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span>i1<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>		<span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>j <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="20"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>			<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>p<span class="token punctuation">[</span>i1<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token keyword">int</span> i2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>i2 <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span>i2<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>		<span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>j <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="29"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>			<span class="token comment">// printf("%d", p[i2][j]);</span></pre></td></tr><tr><td data-num="31"></td><td><pre>			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span>p <span class="token operator">+</span> i2<span class="token punctuation">)</span> <span class="token operator">+</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	<span class="token keyword">int</span> i3 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>i3 <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span>i3<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>		<span class="token comment">// 释放内层</span></pre></td></tr><tr><td data-num="39"></td><td><pre>		<span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">[</span>i3<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>	<span class="token comment">// 释放外层</span></pre></td></tr><tr><td data-num="42"></td><td><pre>	<span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="45"></td><td><pre><span class="token comment">//--------------------------- 运行结果 ---------------------------</span></pre></td></tr><tr><td data-num="46"></td><td><pre><span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span></pre></td></tr><tr><td data-num="47"></td><td><pre><span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span></pre></td></tr><tr><td data-num="48"></td><td><pre><span class="token number">7</span> <span class="token number">8</span> <span class="token number">9</span></pre></td></tr><tr><td data-num="49"></td><td><pre><span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span></pre></td></tr><tr><td data-num="50"></td><td><pre><span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span></pre></td></tr><tr><td data-num="51"></td><td><pre><span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span></pre></td></tr><tr><td data-num="52"></td><td><pre><span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span></pre></td></tr><tr><td data-num="53"></td><td><pre><span class="token number">7</span> <span class="token number">8</span> <span class="token number">9</span></pre></td></tr><tr><td data-num="54"></td><td><pre><span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span></pre></td></tr><tr><td data-num="55"></td><td><pre><span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span></pre></td></tr><tr><td data-num="56"></td><td><pre></pre></td></tr><tr><td data-num="57"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\内存管理\Debug\内存管理<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">12148</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="58"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h2 id="9-复合类型自定义类型"><a class="anchor" href="#9-复合类型自定义类型">#</a> 9 复合类型 (自定义类型)🎄</h2><h3 id="91-结构体"><a class="anchor" href="#91-结构体">#</a> 9.1 结构体🌳</h3><h4 id="911-概述"><a class="anchor" href="#911-概述">#</a> 9.1.1 概述🌲</h4><p>数组：描述一组具有相同类型数据的有序集合，用于处理大量相同类型的数据运算。</p><p>有时我们需要将不同类型的数据组合成一个有机的整体，如：一个学生有学号 / 姓名 / 性别 / 年龄 / 地址等属性。显然单独定义以上变量比较繁琐，数据不便于管理。</p><p>C 语言中给出了另一种构造数据类型 —— 结构体</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310020939274.png" alt="image-20231002093932637"></p><h4 id="912-结构体变量的定义和初始化"><a class="anchor" href="#912-结构体变量的定义和初始化">#</a> 9.1.2 结构体变量的定义和初始化🌲</h4><p>定义结构体变量的方式：</p><ul><li>先声明结构体类型再定义变量名</li><li>直接定义结构体类型变量 (无类型名)</li></ul><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310020942621.png" alt="image-20231002094204433"></p><h4 id="913-结构体成员的使用"><a class="anchor" href="#913-结构体成员的使用">#</a> 9.1.3 结构体成员的使用🌲</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">//struct 结构体名</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// &#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 姓名</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 年龄</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">// &#125; 结构体变量 1，结构体变量 2，结构体变量 3; 这里定义的是全局变量</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">struct</span> <span class="token class-name">student</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token comment">// 多余的 1 个是 \0 ，20 个字符的名字考虑到多个民族</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">21</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token keyword">int</span> age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">int</span> score<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token keyword">char</span> address<span class="token punctuation">[</span><span class="token number">51</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token comment">// 定义结构体同时为结构体赋值</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token punctuation">&#125;</span><span class="token comment">/*stu = &#123;"李四", 20, 100, "北京华平区 08 号路"&#125;*/</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token comment">// 创建结构体变量</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token comment">// 结构体类型 结构体变量</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token keyword">struct</span> <span class="token class-name">student</span> stu<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token comment">//stu.name = "张三";</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token comment">// 字符串需要使用拷贝进行赋值</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token comment">//strcpy (stu.name, "张三");</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token comment">// stu.age = 18;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token comment">// stu.score = 100;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token comment">//stu.address = "上海昌平区 23 号路";</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token comment">//strcpy (stu.address, "上海昌平区 23 号路");</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token comment">// 有参构造赋值 需要将上面注释掉否则报错重定义</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	<span class="token comment">//struct student stu = &#123;"李四", 20, 100, "北京华平区 08 号路"&#125;;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s%d%d%s"</span><span class="token punctuation">,</span> stu<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token operator">&amp;</span>stu<span class="token punctuation">.</span>age<span class="token punctuation">,</span> <span class="token operator">&amp;</span>stu<span class="token punctuation">.</span>score<span class="token punctuation">,</span> stu<span class="token punctuation">.</span>address<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"姓名：%s\n"</span><span class="token punctuation">,</span> stu<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"年龄：%d\n"</span><span class="token punctuation">,</span> stu<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"分数：%d\n"</span><span class="token punctuation">,</span> stu<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"地址：%s\n"</span><span class="token punctuation">,</span> stu<span class="token punctuation">.</span>address<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token comment">//------------------------------ 运行结果 ------------------------------</span></pre></td></tr><tr><td data-num="40"></td><td><pre>张三 <span class="token number">18</span> <span class="token number">100</span> 北京朝阳区</pre></td></tr><tr><td data-num="41"></td><td><pre>姓名：张三</pre></td></tr><tr><td data-num="42"></td><td><pre>年龄：<span class="token number">18</span></pre></td></tr><tr><td data-num="43"></td><td><pre>分数：<span class="token number">100</span></pre></td></tr><tr><td data-num="44"></td><td><pre>地址：北京朝阳区</pre></td></tr><tr><td data-num="45"></td><td><pre></pre></td></tr><tr><td data-num="46"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\day09\x64\Debug\day09<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">18160</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="47"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><h4 id="914-结构体数组"><a class="anchor" href="#914-结构体数组">#</a> 9.1.4 结构体数组🌲</h4><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">struct</span> <span class="token class-name">student</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">21</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token keyword">int</span> age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token keyword">char</span> sex<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token keyword">int</span> score<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">char</span> addr<span class="token punctuation">[</span><span class="token number">51</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>	<span class="token keyword">struct</span> <span class="token class-name">student</span> stu<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span></pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>		<span class="token punctuation">&#123;</span> <span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token char">'M'</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token string">"北京"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="17"></td><td><pre>		<span class="token punctuation">&#123;</span> <span class="token string">"李四"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token char">'M'</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">,</span> <span class="token string">"上海"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="18"></td><td><pre>		<span class="token punctuation">&#123;</span> <span class="token string">"刘桑"</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token char">'M'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">"邯郸"</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token comment">//sizeof () 计算数据类型在内存中占的字节大小</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"结构体数组大小：%d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>stu<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 264</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	<span class="token comment">// 结构体中：21 + 51 + 1 + 4 + 4 = 81 为什么与输出的不对应呢？</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token comment">// 原因：结构体成员需要偏移对齐</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"结构体元素大小：%d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>stu<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 88</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"结构体元素个数：%d\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>stu<span class="token punctuation">)</span><span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>stu<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"=======学生成绩表=======\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>stu<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>stu<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="29"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"-----------------------\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"姓名：%s\n"</span><span class="token punctuation">,</span> stu<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"年龄：%d\n"</span><span class="token punctuation">,</span> stu<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"性别：%s\n"</span><span class="token punctuation">,</span> stu<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>sex <span class="token operator">==</span> <span class="token char">'M'</span> <span class="token operator">?</span> <span class="token string">"男"</span> <span class="token operator">:</span> <span class="token string">"女"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"分数：%d\n"</span><span class="token punctuation">,</span> stu<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"地址：%s\n"</span><span class="token punctuation">,</span> stu<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>addr<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"-----------------------\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token comment">//------------------------ 运行结果 ------------------------</span></pre></td></tr><tr><td data-num="41"></td><td><pre>结构体数组大小：<span class="token number">264</span></pre></td></tr><tr><td data-num="42"></td><td><pre>结构体元素大小：<span class="token number">88</span></pre></td></tr><tr><td data-num="43"></td><td><pre>结构体元素个数：<span class="token number">3</span></pre></td></tr><tr><td data-num="44"></td><td><pre><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>学生成绩表<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span></pre></td></tr><tr><td data-num="45"></td><td><pre><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span></pre></td></tr><tr><td data-num="46"></td><td><pre>姓名：张三</pre></td></tr><tr><td data-num="47"></td><td><pre>年龄：<span class="token number">18</span></pre></td></tr><tr><td data-num="48"></td><td><pre>性别：男</pre></td></tr><tr><td data-num="49"></td><td><pre>分数：<span class="token number">90</span></pre></td></tr><tr><td data-num="50"></td><td><pre>地址：北京</pre></td></tr><tr><td data-num="51"></td><td><pre><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span></pre></td></tr><tr><td data-num="52"></td><td><pre><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span></pre></td></tr><tr><td data-num="53"></td><td><pre>姓名：李四</pre></td></tr><tr><td data-num="54"></td><td><pre>年龄：<span class="token number">20</span></pre></td></tr><tr><td data-num="55"></td><td><pre>性别：男</pre></td></tr><tr><td data-num="56"></td><td><pre>分数：<span class="token number">99</span></pre></td></tr><tr><td data-num="57"></td><td><pre>地址：上海</pre></td></tr><tr><td data-num="58"></td><td><pre><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span></pre></td></tr><tr><td data-num="59"></td><td><pre><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span></pre></td></tr><tr><td data-num="60"></td><td><pre>姓名：刘桑</pre></td></tr><tr><td data-num="61"></td><td><pre>年龄：<span class="token number">19</span></pre></td></tr><tr><td data-num="62"></td><td><pre>性别：男</pre></td></tr><tr><td data-num="63"></td><td><pre>分数：<span class="token number">100</span></pre></td></tr><tr><td data-num="64"></td><td><pre>地址：邯郸</pre></td></tr><tr><td data-num="65"></td><td><pre><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span></pre></td></tr><tr><td data-num="66"></td><td><pre></pre></td></tr><tr><td data-num="67"></td><td><pre>E<span class="token operator">:</span>\C\Demo\Project3\day09\x64\Debug\day09<span class="token punctuation">.</span><span class="token function">exe</span> <span class="token punctuation">(</span>进程 <span class="token number">11680</span><span class="token punctuation">)</span>已退出，代码为 <span class="token number">0</span>。</pre></td></tr><tr><td data-num="68"></td><td><pre>按任意键关闭此窗口<span class="token punctuation">.</span> <span class="token punctuation">.</span> <span class="token punctuation">.</span></pre></td></tr></table></figure><div class="tags"><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%AD%A6%E7%A7%91/" rel="tag"><i class="ic i-tag"></i> 计算机学科</a> <a href="/tags/C/" rel="tag"><i class="ic i-tag"></i> C</a> <a href="/tags/%E5%9F%BA%E7%A1%80/" rel="tag"><i class="ic i-tag"></i> 基础</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2024-01-05 14:03:08" itemprop="dateModified" datetime="2024-01-05T14:03:08+08:00">2024-01-05</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="Dkx 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="Dkx 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="Dkx 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>Dkx： </strong>Dkx <i class="ic i-at"><em>@</em></i>Dkx の Java 小窝</li><li class="link"><strong>本文链接：</strong> <a href="https://pigpigletsgo.github.io/computer-science/C/C-%E4%B8%8B/" title="C 语言 - 下">https://pigpigletsgo.github.io/computer-science/C/C-下/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/computer-science/C/C-%E4%B8%AD/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;img.timelessq.com&#x2F;images&#x2F;2022&#x2F;07&#x2F;26&#x2F;5da180f23a92b4141ea87338ac84c765.jpg" title="C语言-中"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> C</span><h3>C语言-中</h3></a></div><div class="item right"><a href="/computer-science/C/c%E9%93%BE%E6%8E%A5Mysql/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;img.timelessq.com&#x2F;images&#x2F;2022&#x2F;07&#x2F;26&#x2F;a8d0ac76b87f7593653e29559d61b32d.jpg" title="C语言链接Mysql"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> C</span><h3>C语言链接Mysql</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E6%8C%87%E9%92%88"><span class="toc-number">1.</span> <span class="toc-text">7 指针🎄</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#71-%E6%A6%82%E8%BF%B0"><span class="toc-number">1.1.</span> <span class="toc-text">7.1 概述🌳</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#711-%E5%86%85%E5%AD%98"><span class="toc-number">1.1.1.</span> <span class="toc-text">7.1.1 内存🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#712-%E7%89%A9%E7%90%86%E5%AD%98%E5%82%A8%E5%99%A8%E5%92%8C%E5%AD%98%E5%82%A8%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4"><span class="toc-number">1.1.2.</span> <span class="toc-text">7.1.2 物理存储器和存储地址空间🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#713-%E5%86%85%E5%AD%98%E5%9C%B0%E5%9D%80"><span class="toc-number">1.1.3.</span> <span class="toc-text">7.1.3 内存地址🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#714-%E6%8C%87%E9%92%88%E5%92%8C%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F"><span class="toc-number">1.1.4.</span> <span class="toc-text">7.1.4 指针和指针变量🌲</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#72-%E6%8C%87%E9%92%88%E7%9A%84%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-number">1.2.</span> <span class="toc-text">7.2 指针的基础知识🌳</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#721-%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F%E7%9A%84%E5%AE%9A%E4%B9%89%E5%92%8C%E4%BD%BF%E7%94%A8"><span class="toc-number">1.2.1.</span> <span class="toc-text">7.2.1 指针变量的定义和使用🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#722-%E9%80%9A%E8%BF%87%E6%8C%87%E9%92%88%E9%97%B4%E6%8E%A5%E4%BF%AE%E6%94%B9%E5%8F%98%E9%87%8F%E7%9A%84%E5%80%BC"><span class="toc-number">1.2.2.</span> <span class="toc-text">7.2.2 通过指针间接修改变量的值🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#723-%E6%8C%87%E9%92%88%E5%A4%A7%E5%B0%8F"><span class="toc-number">1.2.3.</span> <span class="toc-text">7.2.3 指针大小🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#724-%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.2.4.</span> <span class="toc-text">7.2.4 强制类型转换🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#725-%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.2.5.</span> <span class="toc-text">7.2.5 指针类型与变量类型🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#726-%E9%87%8E%E6%8C%87%E9%92%88%E5%92%8C%E7%A9%BA%E6%8C%87%E9%92%88"><span class="toc-number">1.2.6.</span> <span class="toc-text">7.2.6 野指针和空指针🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#727-%E4%B8%87%E8%83%BD%E6%8C%87%E9%92%88-void"><span class="toc-number">1.2.7.</span> <span class="toc-text">7.2.7 万能指针 void*🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#728-const%E4%BF%AE%E9%A5%B0%E7%9A%84%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F"><span class="toc-number">1.2.8.</span> <span class="toc-text">7.2.8 const 修饰的指针变量🌲</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#const-%E4%BF%AE%E9%A5%B0%E7%9A%84%E6%8C%87%E9%92%88-%E5%88%B0%E5%BA%95%E6%98%AF%E7%BA%A6%E6%9D%9F%E4%BA%86%E6%8C%87%E9%92%88%E8%87%AA%E5%B7%B1%E8%BF%98%E6%98%AF%E5%86%85%E5%AD%98%E7%A9%BA%E9%97%B4%E5%91%A2"><span class="toc-number">1.2.8.1.</span> <span class="toc-text">const 修饰的指针 到底是约束了指针自己还是内存空间呢？🎋</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7281-%E5%B8%B8%E9%87%8F%E6%8C%87%E9%92%88"><span class="toc-number">1.2.8.2.</span> <span class="toc-text">7.2.8.1 常量指针🌴</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7282-%E6%8C%87%E9%92%88%E5%B8%B8%E9%87%8F"><span class="toc-number">1.2.8.3.</span> <span class="toc-text">7.2.8.2 指针常量🌴</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7283-%E5%B8%B8%E9%87%8F%E6%8C%87%E9%92%88%E5%B8%B8%E9%87%8F"><span class="toc-number">1.2.8.4.</span> <span class="toc-text">7.2.8.3 常量指针常量🌴</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7284-%E9%80%9A%E8%BF%87%E4%BA%8C%E7%BA%A7%E6%8C%87%E9%92%88%E4%BF%AE%E6%94%B9%E5%B8%B8%E9%87%8F%E6%8C%87%E9%92%88%E5%B8%B8%E9%87%8F"><span class="toc-number">1.2.8.5.</span> <span class="toc-text">7.2.8.4 通过二级指针修改常量指针常量🌴</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#729-%E6%8C%87%E9%92%88%E4%BF%AE%E6%94%B9%E5%B8%B8%E9%87%8F%E7%9A%84%E5%80%BC"><span class="toc-number">1.2.9.</span> <span class="toc-text">7.2.9 指针修改常量的值🌲</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#73-%E6%8C%87%E9%92%88%E5%92%8C%E6%95%B0%E7%BB%84"><span class="toc-number">1.3.</span> <span class="toc-text">7.3 指针和数组🌳</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#731-%E6%95%B0%E7%BB%84%E5%90%8D"><span class="toc-number">1.3.1.</span> <span class="toc-text">7.3.1 数组名🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#732-%E6%8C%87%E9%92%88%E6%93%8D%E4%BD%9C%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0"><span class="toc-number">1.3.2.</span> <span class="toc-text">7.3.2 指针操作数组元素🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#733-%E6%95%B0%E7%BB%84%E5%BD%93%E5%8F%82%E6%95%B0%E4%BC%A0%E5%85%A5%E9%80%80%E5%8C%96%E4%B8%BA%E6%8C%87%E9%92%88"><span class="toc-number">1.3.3.</span> <span class="toc-text">7.3.3 数组当参数传入退化为指针🌲</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#7331-%E6%8C%87%E9%92%88%E6%96%B9%E5%BC%8F%E7%BC%96%E5%86%99%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">7.3.3.1 指针方式编写冒泡排序🌴</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#734-%E6%8C%87%E9%92%88%E5%8A%A0%E5%87%8F%E8%BF%90%E7%AE%97"><span class="toc-number">1.3.4.</span> <span class="toc-text">7.3.4 指针加减运算🌲</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#7341-%E5%8A%A0%E6%B3%95%E8%BF%90%E7%AE%97"><span class="toc-number">1.3.4.1.</span> <span class="toc-text">7.3.4.1 加法运算🌴</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7342-%E5%87%8F%E6%B3%95%E8%BF%90%E7%AE%97"><span class="toc-number">1.3.4.2.</span> <span class="toc-text">7.3.4.2 减法运算🌴</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7342-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%8B%B7%E8%B4%9D%E9%80%90%E6%AD%A5%E7%AE%80%E5%8C%96%E7%89%88%E6%9C%AC"><span class="toc-number">1.3.5.</span> <span class="toc-text">7.3.4.2 字符串的拷贝逐步简化版本🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#735-%E6%8C%87%E9%92%88%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">1.3.6.</span> <span class="toc-text">7.3.5 指针和运算符的操作🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#736-%E6%8C%87%E9%92%88%E6%95%B0%E7%BB%84"><span class="toc-number">1.3.7.</span> <span class="toc-text">7.3.6 指针数组🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#737-%E6%8C%87%E9%92%88%E6%95%B0%E7%BB%84%E5%92%8C%E4%BA%8C%E7%BA%A7%E6%8C%87%E9%92%88%E5%BB%BA%E7%AB%8B%E5%85%B3%E7%B3%BB"><span class="toc-number">1.3.8.</span> <span class="toc-text">7.3.7 指针数组和二级指针建立关系🌲</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#74-%E5%A4%9A%E7%BA%A7%E6%8C%87%E9%92%88"><span class="toc-number">1.4.</span> <span class="toc-text">7.4 多级指针🌳</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#75-%E6%8C%87%E9%92%88%E5%92%8C%E5%87%BD%E6%95%B0"><span class="toc-number">1.5.</span> <span class="toc-text">7.5 指针和函数🌳</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#751-%E5%87%BD%E6%95%B0%E5%BD%A2%E5%8F%82%E6%94%B9%E5%8F%98%E5%AE%9E%E5%8F%82%E7%9A%84%E5%80%BC"><span class="toc-number">1.5.1.</span> <span class="toc-text">7.5.1 函数形参改变实参的值🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#752-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5%E6%8C%87%E9%92%88%E7%89%88"><span class="toc-number">1.5.2.</span> <span class="toc-text">7.5.2 字符串拼接指针版🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#753-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8E%BB%E9%99%A4%E7%A9%BA%E6%A0%BC"><span class="toc-number">1.5.3.</span> <span class="toc-text">7.5.3 字符串去除空格🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#754-%E6%8C%87%E9%92%88%E4%BD%9C%E4%B8%BA%E5%87%BD%E6%95%B0%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number">1.5.4.</span> <span class="toc-text">7.5.4 指针作为函数的返回值🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#755-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9F%A5%E6%89%BE%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.5.5.</span> <span class="toc-text">7.5.5 字符串查找字符串🌲</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#76-%E6%8C%87%E9%92%88%E5%92%8C%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.6.</span> <span class="toc-text">7.6 指针和字符串🌳</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#771-%E5%AD%97%E7%AC%A6%E6%8C%87%E9%92%88"><span class="toc-number">1.6.1.</span> <span class="toc-text">7.7.1 字符指针🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#772-%E6%8C%87%E9%92%88%E5%92%8C%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.6.2.</span> <span class="toc-text">7.7.2 指针和字符串🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#773-%E6%9C%89%E6%95%88%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.6.3.</span> <span class="toc-text">7.7.3 有效字符串🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#774-const%E4%BF%AE%E9%A5%B0%E6%8C%87%E9%92%88%E5%8F%98%E9%87%8F"><span class="toc-number">1.6.4.</span> <span class="toc-text">7.7.4 const 修饰指针变量🌲</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#7741-%E9%80%9A%E8%BF%87%E5%A4%9A%E7%BA%A7%E6%8C%87%E9%92%88%E4%BF%AE%E6%94%B9-%E5%B8%B8%E9%87%8F%E6%8C%87%E9%92%88%E5%B8%B8%E9%87%8F"><span class="toc-number">1.6.4.1.</span> <span class="toc-text">7.7.4.1 通过多级指针修改 常量指针常量🌴</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#775-%E6%8C%87%E9%92%88%E6%95%B0%E7%BB%84%E4%BD%9C%E4%B8%BAmain%E5%87%BD%E6%95%B0%E7%9A%84%E5%BD%A2%E5%8F%82"><span class="toc-number">1.6.5.</span> <span class="toc-text">7.7.5 指针数组作为 main 函数的形参🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#776-%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%BA%94%E7%94%A8%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.6.6.</span> <span class="toc-text">7.7.6 项目开发常用字符串应用模型🌲</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-strstr%E4%B8%AD%E7%9A%84while%E5%92%8Cdo-while%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.6.6.1.</span> <span class="toc-text">1 strstr 中的 while 和 do-while 模型🌴</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#a-while%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.6.6.1.1.</span> <span class="toc-text">a) while 模型🎋</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#b-do-while%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.6.6.1.2.</span> <span class="toc-text">b) do-while 模型🎋</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E4%B8%A4%E5%A4%B4%E5%A0%B5%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.6.6.2.</span> <span class="toc-text">2 两头堵模型🌴</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E8%AE%A1%E7%AE%97%E6%AF%8F%E4%B8%AA%E5%AD%97%E7%AC%A6%E5%87%BA%E7%8E%B0%E7%9A%84%E6%AC%A1%E6%95%B0"><span class="toc-number">1.6.6.3.</span> <span class="toc-text">3 计算每个字符出现的次数🌴</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8F%8D%E8%BD%AC%E6%A8%A1%E5%9E%8B%E9%80%86%E7%BD%AE"><span class="toc-number">1.6.6.4.</span> <span class="toc-text">4 字符串反转模型 (逆置)🌴</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-%E5%9B%9E%E6%96%87%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.6.6.5.</span> <span class="toc-text">5 回文字符串🌴</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#777-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0"><span class="toc-number">1.6.7.</span> <span class="toc-text">7.7.7 字符串处理函数🌲</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-strcpy"><span class="toc-number">1.6.7.1.</span> <span class="toc-text">1 strcpy()🌴</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-strncpy"><span class="toc-number">1.6.7.2.</span> <span class="toc-text">2 strncpy()🌴</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-strcat"><span class="toc-number">1.6.7.3.</span> <span class="toc-text">3 strcat()🌴</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-strncat"><span class="toc-number">1.6.7.4.</span> <span class="toc-text">4 strncat()🌴</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-strcmp"><span class="toc-number">1.6.7.5.</span> <span class="toc-text">5 strcmp()🌴</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-strncmp"><span class="toc-number">1.6.7.6.</span> <span class="toc-text">6 strncmp()🌴</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7-sprintf"><span class="toc-number">1.6.7.7.</span> <span class="toc-text">7 sprintf()🌴</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8-sscanf"><span class="toc-number">1.6.7.8.</span> <span class="toc-text">8 sscanf()🌴</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#9-strchr"><span class="toc-number">1.6.7.9.</span> <span class="toc-text">9 strchr()🌴</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#10-strstr"><span class="toc-number">1.6.7.10.</span> <span class="toc-text">10 strstr()🌴</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#11-strtok"><span class="toc-number">1.6.7.11.</span> <span class="toc-text">11 strtok()🌴</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#12-atoi"><span class="toc-number">1.6.7.12.</span> <span class="toc-text">12 atoi()🌴</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86"><span class="toc-number">2.</span> <span class="toc-text">8 内存管理🎄</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#81-%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">2.1.</span> <span class="toc-text">8.1 作用域🌳</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#811-%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F"><span class="toc-number">2.1.1.</span> <span class="toc-text">8.1.1 局部变量🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#812-%E9%9D%99%E6%80%81-static-%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F"><span class="toc-number">2.1.2.</span> <span class="toc-text">8.1.2 静态 (static) 局部变量🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#813-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="toc-number">2.1.3.</span> <span class="toc-text">8.1.3 全局变量🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#814-%E9%9D%99%E6%80%81static%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="toc-number">2.1.4.</span> <span class="toc-text">8.1.4 静态 (static) 全局变量🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#815-extern%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E"><span class="toc-number">2.1.5.</span> <span class="toc-text">8.1.5 extern 全局变量声明🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#816-%E5%85%A8%E5%B1%80%E5%87%BD%E6%95%B0%E5%92%8C%E9%9D%99%E6%80%81%E5%87%BD%E6%95%B0"><span class="toc-number">2.1.6.</span> <span class="toc-text">8.1.6 全局函数和静态函数🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#817-%E6%80%BB%E7%BB%93"><span class="toc-number">2.1.7.</span> <span class="toc-text">8.1.7 总结🌲</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#82-%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80"><span class="toc-number">2.2.</span> <span class="toc-text">8.2 内存布局🌳</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#821-%E5%86%85%E5%AD%98%E5%88%86%E5%8C%BA"><span class="toc-number">2.2.1.</span> <span class="toc-text">8.2.1 内存分区🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#822-%E5%BC%80%E8%BE%9F%E7%9A%84%E5%A0%86%E7%A9%BA%E9%97%B4%E4%B8%8E%E9%87%8A%E6%94%BE%E5%A0%86%E7%A9%BA%E9%97%B4%E7%9A%84%E4%BD%8D%E7%BD%AE%E5%85%B3%E7%B3%BB"><span class="toc-number">2.2.2.</span> <span class="toc-text">8.2.2 开辟的堆空间与释放堆空间的位置关系🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#823-%E5%86%85%E5%AD%98%E6%93%8D%E4%BD%9C%E5%87%BD%E6%95%B0"><span class="toc-number">2.2.3.</span> <span class="toc-text">8.2.3 内存操作函数🌲</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-memset"><span class="toc-number">2.2.3.1.</span> <span class="toc-text">1 memset()🌴</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-memcpy"><span class="toc-number">2.2.3.2.</span> <span class="toc-text">2 memcpy()🌴</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-memmove"><span class="toc-number">2.2.3.3.</span> <span class="toc-text">3 memmove()🌴</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-memcmp"><span class="toc-number">2.2.3.4.</span> <span class="toc-text">4 memcmp()🌴</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#824-%E5%86%85%E5%AD%98%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98"><span class="toc-number">2.2.4.</span> <span class="toc-text">8.2.4 内存常见问题🌲</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E6%95%B0%E7%BB%84%E8%B6%8A%E7%95%8C"><span class="toc-number">2.2.4.1.</span> <span class="toc-text">1 数组越界🌴</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E9%87%8E%E6%8C%87%E9%92%88"><span class="toc-number">2.2.4.2.</span> <span class="toc-text">2 野指针🌴</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E5%A0%86%E7%A9%BA%E9%97%B4%E5%A4%9A%E6%AC%A1%E9%87%8A%E6%94%BE"><span class="toc-number">2.2.4.3.</span> <span class="toc-text">3 堆空间多次释放🌴</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-%E5%87%BD%E6%95%B0%E4%BC%A0%E9%80%92"><span class="toc-number">2.2.4.4.</span> <span class="toc-text">4 函数传递🌴</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#825-%E4%BA%8C%E7%BA%A7%E6%8C%87%E9%92%88%E5%AF%B9%E5%BA%94%E7%9A%84%E5%A0%86%E7%A9%BA%E9%97%B4"><span class="toc-number">2.2.5.</span> <span class="toc-text">8.2.5 二级指针对应的堆空间🌲</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-%E5%A4%8D%E5%90%88%E7%B1%BB%E5%9E%8B%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.</span> <span class="toc-text">9 复合类型 (自定义类型)🎄</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#91-%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-number">3.1.</span> <span class="toc-text">9.1 结构体🌳</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#911-%E6%A6%82%E8%BF%B0"><span class="toc-number">3.1.1.</span> <span class="toc-text">9.1.1 概述🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#912-%E7%BB%93%E6%9E%84%E4%BD%93%E5%8F%98%E9%87%8F%E7%9A%84%E5%AE%9A%E4%B9%89%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">3.1.2.</span> <span class="toc-text">9.1.2 结构体变量的定义和初始化🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#913-%E7%BB%93%E6%9E%84%E4%BD%93%E6%88%90%E5%91%98%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">3.1.3.</span> <span class="toc-text">9.1.3 结构体成员的使用🌲</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#914-%E7%BB%93%E6%9E%84%E4%BD%93%E6%95%B0%E7%BB%84"><span class="toc-number">3.1.4.</span> <span class="toc-text">9.1.4 结构体数组🌲</span></a></li></ol></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/computer-science/C/C-%E4%B8%8A/" rel="bookmark" title="C语言-上 基础">C语言-上 基础</a></li><li><a href="/computer-science/C/C-%E4%B8%AD/" rel="bookmark" title="C语言-中">C语言-中</a></li><li class="active"><a href="/computer-science/C/C-%E4%B8%8B/" rel="bookmark" title="C语言-下">C语言-下</a></li><li><a href="/computer-science/C/c%E9%93%BE%E6%8E%A5Mysql/" rel="bookmark" title="C语言链接Mysql">C语言链接Mysql</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Dkx" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Dkx</p><div class="description" itemprop="description">欢迎来我的博客空间</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">84</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">40</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">54</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL1BpZ1BpZ0xldHNHbw==" title="https:&#x2F;&#x2F;github.com&#x2F;PigPigLetsGo"><i class="ic i-github"></i></span> <span class="exturl item twitter" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS9Ea3gxMjE5" title="https:&#x2F;&#x2F;twitter.com&#x2F;Dkx1219"><i class="ic i-twitter"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS96dWktaG91LXllLWJlaS1sdWUtc2hh" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;zui-hou-ye-bei-lue-sha"><i class="ic i-zhihu"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTU3NjUxMDQ1OQ==" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;576510459"><i class="ic i-cloud-music"></i></span> <span class="exturl item weibo" data-url="aHR0cHM6Ly93d3cud2VpYm8uY29tL3UvNTk5OTU0OTg0MQ==" title="https:&#x2F;&#x2F;www.weibo.com&#x2F;u&#x2F;5999549841"><i class="ic i-weibo"></i></span> <span class="exturl item facebook" data-url="aHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3Byb2ZpbGUucGhwP2lkPTEwMDA5NDA4Nzc0ODIwMQ==" title="https:&#x2F;&#x2F;www.facebook.com&#x2F;profile.php?id&#x3D;100094087748201"><i class="ic i-facebook"></i></span> <span class="exturl item stackoverflow" data-url="aHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS91c2Vycy8xOTQwNjAyOS9kLWt4" title="https:&#x2F;&#x2F;stackoverflow.com&#x2F;users&#x2F;19406029&#x2F;d-kx"><i class="ic i-stack-overflow"></i></span> <span class="exturl item youtube" data-url="aHR0cHM6Ly93d3cueW91dHViZS5jb20vQERreC12djdsbQ==" title="https:&#x2F;&#x2F;www.youtube.com&#x2F;@Dkx-vv7lm"><i class="ic i-youtube"></i></span> <span class="exturl item instagram" data-url="aHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS9kb3Vka3g/aWdzaD1PR1E1WkRjMk9EazJaQSUzRCUzRCZ1dG1fc291cmNlPXFy" title="https:&#x2F;&#x2F;www.instagram.com&#x2F;doudkx?igsh&#x3D;OGQ5ZDc2ODk2ZA%3D%3D&amp;utm_source&#x3D;qr"><i class="ic i-instagram"></i></span> <span class="exturl item telegram" data-url="aHR0cHM6Ly90Lm1lL2RvdTAxMDg=" title="https:&#x2F;&#x2F;t.me&#x2F;dou0108"><i class="ic i-twitter"></i></span> <span class="exturl item skype" data-url="aHR0cHM6Ly9qb2luLnNreXBlLmNvbS9UN25TSWhvbmMxcWQ=" title="https:&#x2F;&#x2F;join.skype.com&#x2F;T7nSIhonc1qd"><i class="ic i-skype"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友達</a></li><li class="item"><a href="/links/" rel="section"><i class="ic i-magic"></i>链接</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/computer-science/C/C-%E4%B8%AD/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/computer-science/C/c%E9%93%BE%E6%8E%A5Mysql/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机学科">计算机学科</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/programming-questions/" title="分类于 编程题">编程题</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/programming-questions/java/" title="分类于 Java">Java</a></div><span><a href="/computer-science/java/programming-questions/%E6%9D%A8%E8%BE%89%E4%B8%89%E8%A7%92/" title="输出杨辉三角">输出杨辉三角</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机学科">计算机学科</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/databse/" title="分类于 database">database</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/databse/redis/" title="分类于 redis">redis</a></div><span><a href="/computer-science/database/redis/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" title="redis-基础知识">redis-基础知识</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机学科">计算机学科</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/web/" title="分类于 web">web</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/web/js/" title="分类于 js">js</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/web/js/WebAPIs/" title="分类于 WebAPIs">WebAPIs</a></div><span><a href="/computer-science/web/js/WebAPIs/WebAPIs-%E4%B8%8B/" title="WebAPIs-下">WebAPIs-下</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机学科">计算机学科</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/programming-questions/" title="分类于 编程题">编程题</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/programming-questions/java/" title="分类于 Java">Java</a></div><span><a href="/computer-science/java/programming-questions/%E7%94%B5%E8%AF%9D%E5%8F%B7%E7%A0%81%E7%9A%84%E5%AD%97%E6%AF%8D%E7%BB%84%E5%90%88/" title="电话号码的字母组合">电话号码的字母组合</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机学科">计算机学科</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/databse/" title="分类于 database">database</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/databse/mongodb/" title="分类于 mongodb">mongodb</a></div><span><a href="/computer-science/database/mongodb/MongoDB%E5%85%A5%E9%97%A8/" title="MongoDB入门">MongoDB入门</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机学科">计算机学科</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/programming-questions/" title="分类于 编程题">编程题</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/programming-questions/java/" title="分类于 Java">Java</a></div><span><a href="/computer-science/java/programming-questions/%E4%B9%B0%E5%8D%96%E8%82%A1%E7%A5%A8%E7%9A%84%E6%9C%80%E4%BD%B3%E6%97%B6%E6%9C%BA2/" title="买卖股票的最佳时机 II">买卖股票的最佳时机 II</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机学科">计算机学科</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/C/" title="分类于 C">C</a></div><span><a href="/computer-science/C/C-%E4%B8%8A/" title="C语言-上 基础">C语言-上 基础</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机学科">计算机学科</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/databse/" title="分类于 databse">databse</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/databse/redis/" title="分类于 redis">redis</a></div><span><a href="/computer-science/database/redis/Redis%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/" title="redis-主从复制">redis-主从复制</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/bug/" title="分类于 问题总汇">问题总汇</a> <i class="ic i-angle-right"></i> <a href="/categories/bug/shoka/" title="分类于 shoka">shoka</a> <i class="ic i-angle-right"></i> <a href="/categories/bug/shoka/hexo/" title="分类于 hexo">hexo</a></div><span><a href="/bug/%E8%A7%A3%E5%86%B3shoka%E6%90%9C%E7%B4%A2%E9%97%AE%E9%A2%98/" title="shoka使用本地搜索">shoka使用本地搜索</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机学科">计算机学科</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/data-structures-and-algorithms/" title="分类于 数据结构与算法">数据结构与算法</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/data-structures-and-algorithms/java/" title="分类于 Java">Java</a></div><span><a href="/computer-science/java/data-structures-and-algorithms/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95-%E5%9F%BA%E7%A1%80/" title="数据结构与算法-基础">数据结构与算法-基础</a></span></li></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Dkx @ Dou的个人博客</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">1.2m 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">18:23</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"computer-science/C/C-下/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="https://cdn.jsdelivr.net/gh/PigPigLetsGo/live2d-widget@latest/autoload.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>