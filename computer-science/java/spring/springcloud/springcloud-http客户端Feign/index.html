<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="D ã® Javaå°çª" href="https://pigpigletsgo.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="D ã® Javaå°çª" href="https://pigpigletsgo.github.io/atom.xml"><link rel="alternate" type="application/json" title="D ã® Javaå°çª" href="https://pigpigletsgo.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="è®¡ç®—æœºå­¦ç§‘,springcloud"><link rel="canonical" href="https://pigpigletsgo.github.io/computer-science/java/spring/springcloud/springcloud-http%E5%AE%A2%E6%88%B7%E7%AB%AFFeign/"><title>äº”ã€http å®¢æˆ·ç«¯ Feign - springcloud - spring - java - è®¡ç®—æœºå­¦ç§‘ | D çš„ä¸ªäººåšå®¢ = D ã® Java å°çª = åˆ«æ€•è·¯é•¿æ¢¦è¿œ</title><meta name="generator" content="Hexo 5.4.2"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">äº”ã€http å®¢æˆ·ç«¯ Feign</h1><div class="meta"><span class="item" title="åˆ›å»ºæ—¶é—´ï¼š2024-01-24 18:48:46"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">å‘è¡¨äº</span> <time itemprop="dateCreated datePublished" datetime="2024-01-24T18:48:46+08:00">2024-01-24</time> </span><span class="item" title="æœ¬æ–‡å­—æ•°"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">æœ¬æ–‡å­—æ•°</span> <span>8.8k</span> <span class="text">å­—</span> </span><span class="item" title="é˜…è¯»æ—¶é•¿"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">é˜…è¯»æ—¶é•¿</span> <span>8 åˆ†é’Ÿ</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="åˆ‡æ¢å¯¼èˆªæ "><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">D çš„ä¸ªäººåšå®¢</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/5da180f23a92b4141ea87338ac84c765.jpg"></li><li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/6c7f469735b99a6a04773240429dc7e0.jpg"></li><li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/560306a4274d1fc26eb475dd52237387.jpg"></li><li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/5da180f23a92b4141ea87338ac84c765.jpg"></li><li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/a8d0ac76b87f7593653e29559d61b32d.jpg"></li><li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/560306a4274d1fc26eb475dd52237387.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">é¦–é¡µ</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/" itemprop="item" rel="index" title="åˆ†ç±»äº è®¡ç®—æœºå­¦ç§‘"><span itemprop="name">è®¡ç®—æœºå­¦ç§‘</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/java/" itemprop="item" rel="index" title="åˆ†ç±»äº java"><span itemprop="name">java</span></a><meta itemprop="position" content="2"></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/java/spring/" itemprop="item" rel="index" title="åˆ†ç±»äº spring"><span itemprop="name">spring</span></a><meta itemprop="position" content="3"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/java/spring/springcloud/" itemprop="item" rel="index" title="åˆ†ç±»äº springcloud"><span itemprop="name">springcloud</span></a><meta itemprop="position" content="4"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://pigpigletsgo.github.io/computer-science/java/spring/springcloud/springcloud-http%E5%AE%A2%E6%88%B7%E7%AB%AFFeign/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="D"><meta itemprop="description" content="åˆ«æ€•è·¯é•¿æ¢¦è¿œ, æ¬¢è¿æ¥æˆ‘çš„åšå®¢ç©ºé—´"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="D ã® Java å°çª"></span><div class="body md" itemprop="articleBody"><h2 id="äº”-httpå®¢æˆ·ç«¯feign"><a class="anchor" href="#äº”-httpå®¢æˆ·ç«¯feign">#</a> äº”ã€http å®¢æˆ·ç«¯ FeignğŸ„</h2><ul><li>Feign æ›¿ä»£ RestTemplate</li><li>è‡ªå®šä¹‰é…ç½®</li><li>Feign ä½¿ç”¨ä¼˜åŒ–</li><li>æœ€ä½³å®è·µ</li></ul><h3 id="51-resttemplateæ–¹å¼è°ƒç”¨å­˜åœ¨çš„é—®é¢˜"><a class="anchor" href="#51-resttemplateæ–¹å¼è°ƒç”¨å­˜åœ¨çš„é—®é¢˜">#</a> 5.1ã€RestTemplate æ–¹å¼è°ƒç”¨å­˜åœ¨çš„é—®é¢˜ğŸŒ³</h3><p>å…ˆæ¥çœ‹æˆ‘ä»¬ä»¥å‰åˆ©ç”¨ RestTemplate å‘èµ·è¿œç¨‹è°ƒç”¨çš„ä»£ç ï¼š</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 2. åˆ©ç”¨ RestTemplate å‘èµ· http è¯·æ±‚ï¼ŒæŸ¥è¯¢ç”¨æˆ·</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">// 2.1 url è·¯å¾„</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">"http://userservice/user/"</span> <span class="token operator">+</span> order<span class="token punctuation">.</span><span class="token function">getUserId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 2.2 å‘é€è¯·æ±‚ï¼Œå®ç°è¿œç¨‹è°ƒç”¨</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// é»˜è®¤è¿”å› json æ•°æ®ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šè¿”å›çš„ç±»å‹ä¸º user å¯¹è±¡ç±»å‹</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token class-name">User</span> user <span class="token operator">=</span> restTemplate<span class="token punctuation">.</span><span class="token function">getForObject</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>&lt;font color='red'&gt; ä¸Šé¢å­˜åœ¨ä¸‹é¢çš„é—®é¢˜ &lt;/font&gt;ï¼š</p><ul><li>ä»£ç å¯è¯»æ€§å·®ï¼Œç¼–ç¨‹ä½“éªŒä¸ç»Ÿä¸€</li><li>å‚æ•°å¤æ‚ URL éš¾ä»¥ç»´æŠ¤</li></ul><h3 id="52-feignçš„ä»‹ç»"><a class="anchor" href="#52-feignçš„ä»‹ç»">#</a> 5.2ã€Feign çš„ä»‹ç»ğŸŒ³</h3><p>Feign æ˜¯ä¸€ä¸ªå£°æ˜å¼çš„ http å®¢æˆ·ç«¯ï¼Œå®˜æ–¹åœ°å€ï¼š<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL09wZW5GZWlnbi9mZWlnbg==">https://github.com/OpenFeign/feign</span></p><p>å…¶ä½œç”¨å°±æ˜¯å¸®åŠ©æˆ‘ä»¬ä¼˜é›…çš„å®ç° http è¯·æ±‚çš„å‘é€ï¼Œè§£å†³ä¸Šé¢æåˆ°çš„é—®é¢˜ã€‚</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310061557922.png" alt="image-20231006155457781"></p><h3 id="53-å®šä¹‰å’Œä½¿ç”¨feignå®¢æˆ·ç«¯"><a class="anchor" href="#53-å®šä¹‰å’Œä½¿ç”¨feignå®¢æˆ·ç«¯">#</a> 5.3ã€å®šä¹‰å’Œä½¿ç”¨ Feign å®¢æˆ·ç«¯ğŸŒ³</h3><p>ä½¿ç”¨ Feign çš„æ­¥éª¤å¦‚ä¸‹ï¼š</p><p>1ã€å¼•å…¥ä¾èµ–ï¼š</p><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">&lt;!--feign å®¢æˆ·ç«¯ä¾èµ– --></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-openfeign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><p>2ã€åœ¨ order-service çš„å¯åŠ¨ç±»æ·»åŠ æ³¨è§£å¼€å¯ Feign çš„åŠŸèƒ½ï¼š</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@EnableFeignClients</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token annotation punctuation">@MapperScan</span><span class="token punctuation">(</span><span class="token string">"cn.itcast.order.mapper"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token annotation punctuation">@SpringBootApplication</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderApplication</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">OrderApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">/*</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    @Bean</pre></td></tr><tr><td data-num="11"></td><td><pre>    @LoadBalanced</pre></td></tr><tr><td data-num="12"></td><td><pre>    public RestTemplate restTemplate()</pre></td></tr><tr><td data-num="13"></td><td><pre>    &#123;</pre></td></tr><tr><td data-num="14"></td><td><pre>        return new RestTemplate();</pre></td></tr><tr><td data-num="15"></td><td><pre>    &#125;</pre></td></tr><tr><td data-num="16"></td><td><pre>*/</pre></td></tr><tr><td data-num="17"></td><td><pre>  <span class="token comment">/*  @Bean</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    public IRule randomRule()</pre></td></tr><tr><td data-num="19"></td><td><pre>    &#123;</pre></td></tr><tr><td data-num="20"></td><td><pre>        return new RandomRule();</pre></td></tr><tr><td data-num="21"></td><td><pre>    &#125;*/</pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310061559467.png" alt="image-20231006155927233"></p><p>3ã€ç¼–å†™ Feign å®¢æˆ·ç«¯</p><p>å£°æ˜ä¸€ä¸ªè¿œç¨‹è°ƒç”¨ï¼Œå®šä¹‰äº†ä¸€ä¸ªæ¥å£å« UserClient è¿™ä¸ªæ¥å£å°†æ¥å°è£…çš„å°±æ˜¯æ‰€æœ‰å¯¹ userservice å‘èµ·çš„è¿œç¨‹è°ƒç”¨ã€‚</p><p>åœ¨æ¥å£ä¸Šæ·»åŠ äº†æ³¨è§£ @FeignClient (â€œæœåŠ¡åç§°â€) å¹¶ä¸”æŒ‡å®šäº†æœåŠ¡åç§°</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@FeignClient</span><span class="token punctuation">(</span><span class="token string">"userservice"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserClient</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"user/&#123;id&#125;"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token class-name">User</span> <span class="token function">findById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>ä¸»è¦æ˜¯åŸºäº SpringMVC çš„æ³¨è§£æ¥å£°æ˜è¿œç¨‹è°ƒç”¨çš„ä¿¡æ¯ï¼Œæ¯”å¦‚ï¼š</p><ul><li>æœåŠ¡åç§°ï¼šuserservice</li><li>è¯·æ±‚æ–¹å¼ï¼šGET</li><li>è¯·æ±‚è·¯å¾„ï¼š/user/</li><li>è¯·æ±‚å‚æ•°ï¼šLogin id</li><li>è¿”å›å€¼ç±»å‹ï¼šUser</li></ul><p>4ã€ä¿®æ”¹ order-service ä¸­çš„ queryOrderById çš„æ–¹æ³•å†…å®¹ï¼š</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@Service</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderService</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token annotation punctuation">@Autowired</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">private</span> <span class="token class-name">OrderMapper</span> orderMapper<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token annotation punctuation">@Autowired</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">private</span> <span class="token class-name">UserClient</span> userClient<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">public</span> <span class="token class-name">Order</span> <span class="token function">queryOrderById</span><span class="token punctuation">(</span><span class="token class-name">Long</span> orderId<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token comment">// 1. æŸ¥è¯¢è®¢å•</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token class-name">Order</span> order <span class="token operator">=</span> orderMapper<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>orderId<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token comment">// 2. ç”¨ Feign è¿œç¨‹è°ƒç”¨</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token class-name">User</span> user <span class="token operator">=</span> userClient<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>order<span class="token punctuation">.</span><span class="token function">getUserId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token comment">// 3. å°è£… User å¯¹è±¡åˆ° Order</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        order<span class="token punctuation">.</span><span class="token function">setUser</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>        <span class="token comment">// 4. è¿”å›</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token keyword">return</span> order<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ order-service ä¸ user-service æ˜¯å¦åœ¨åŒä¸€ä¸ª namespace ä¸­ï¼Œå¦åˆ™è®¿é—®å°±ä¼šæŠ¥é”™ 500 çŠ¶æ€ç ã€‚</p><p>æŠ¥é”™å…·ä½“ä¿¡æ¯ä¸ºï¼š</p><pre><code>Load balancer does not have available server for client: userservice
//ç¿»è¯‘
è´Ÿè½½å‡è¡¡å™¨æ²¡æœ‰å®¢æˆ·ç«¯å¯ç”¨çš„æœåŠ¡å™¨:userservice
</code></pre><p>&lt;font color='red'&gt; ç½ªé­ç¥¸é¦– &lt;/font&gt;.</p><figure class="highlight yml"><figcaption data-lang="YAML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token key atrule">spring</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token key atrule">cloud</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token key atrule">nacos</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>      <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> localhost<span class="token punctuation">:</span><span class="token number">8848</span></pre></td></tr><tr><td data-num="5"></td><td><pre>      <span class="token key atrule">discovery</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token key atrule">cluster-name</span><span class="token punctuation">:</span> HZ <span class="token comment"># é›†ç¾¤åç§°</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token comment"># è¿™ä¸ª namespace å°±æ˜¯ç½ªé­ç¥¸é¦–</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token comment"># namespace: ed32fa6f-e9e3-4483-b860-7bcd9731d0d9 # å‘½åç©ºé—´ï¼Œå¡« ID dev ç¯å¢ƒ</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token key atrule">ephemeral</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># è®¾ç½®æ˜¯å¦ä¸ºä¸´æ—¶å®ä¾‹ è®¾ç½®ä¸ºéä¸´æ—¶å®ä¾‹</span></pre></td></tr></table></figure><p>ä¸Šé¢çš„æŠ¥é”™ä¸­å¯ä»¥å…ˆå» nacos æ§åˆ¶å°çœ‹ä¸€ä¸‹æ³¨å†Œä¸­å¿ƒçš„æƒ…å†µè¿™æ˜¯ä¸ªå¥½ä¹ æƒ¯ä¸ç„¶å°±æ˜¯æ‰¾é”™åŠå¤©ã€‚</p><p>å¯åŠ¨ order-service æœåŠ¡å’Œ user-service æœåŠ¡è®¿é—® urlï¼š<span class="exturl" data-url="aHR0cDovL2xvY2FsaG9zdDo4MDgwL29yZGVyLzEwMQ==">http://localhost:8080/order/101</span></p><p>ç»“æœï¼š</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310061640421.png" alt="image-20231006164032976"></p><p>å†å°†ä¸¤ä¸ª user-service å¯åŠ¨ç„¶ååˆ·æ–°é¡µé¢è®¿é—® 10 æ¬¡ urlï¼š<span class="exturl" data-url="aHR0cDovL2xvY2FsaG9zdDo4MDgwL29yZGVyLzEwMSVFNiU5RiVBNSVFNyU5QyU4QmlkZWElRTYlOEUlQTclRTUlODglQjYlRTUlOEYlQjAlRTclOUElODQlRTYlODklOTMlRTUlOEQlQjA=">http://localhost:8080/order/101 æŸ¥çœ‹ idea æ§åˆ¶å°çš„æ‰“å°</span></p><p>8081</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310061651107.png" alt="image-20231006165128092"></p><p>8082</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310061651416.png" alt="image-20231006165138249"></p><p>8083</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310061651654.png" alt="image-20231006165147393"></p><p>éƒ½è®¿é—®åˆ°äº†ï¼Œè¯´æ˜æˆ‘ä»¬ä¸ä»…ä»…å®ç°äº†è¿œç¨‹è°ƒç”¨è€Œä¸”è¿˜å®ç°äº†è´Ÿè½½å‡è¡¡ã€‚Feign éå¸¸çš„å¼ºå¤§åº•å±‚è¿˜é›†æˆäº†è´Ÿè½½å‡è¡¡çš„åŠŸèƒ½</p><blockquote><p><strong>æ€»ç»“</strong>ï¼š</p><p>Feign çš„ä½¿ç”¨æ­¥éª¤</p><ol><li>å¼•å…¥ä¾èµ–</li><li>æ·»åŠ  @EnableFeignClients æ³¨è§£</li><li>ç¼–å†™ FeignClient æ¥å£</li><li>ä½¿ç”¨ FeignClient ä¸­å®šä¹‰çš„æ–¹æ³•ä»£æ›¿ RestTemplate</li></ol></blockquote><h3 id="54-è‡ªå®šä¹‰feigné…ç½®"><a class="anchor" href="#54-è‡ªå®šä¹‰feigné…ç½®">#</a> 5.4ã€è‡ªå®šä¹‰ Feign é…ç½®ğŸŒ³</h3><p>Feign è¿è¡Œè‡ªå®šä¹‰é…ç½®æ¥è¦†ç›–é»˜è®¤é…ç½®ï¼Œå¯ä»¥ä¿®æ”¹çš„é…ç½®å¦‚ä¸‹ï¼š</p><table><thead><tr><th>ç±»å‹</th><th>ä½œç”¨</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>&lt;font color='red'&gt;feign.Logger.Level&lt;/font&gt;</td><td>ä¿®æ”¹æ—¥å¿—çº§åˆ«</td><td>åŒ…å«å››ç§ä¸åŒçš„çº§åˆ«ï¼šNONEï¼ŒBASICï¼ŒHEADERSï¼ŒFULL</td></tr><tr><td>feign.codec.Decoder</td><td>å“åº”ç»“æœçš„è§£æå™¨</td><td>http è¿œç¨‹è°ƒç”¨çš„ç»“æœåšè§£æï¼Œä¾‹å¦‚è§£æ json å­—ç¬¦ä¸²ä¸º java å¯¹è±¡</td></tr><tr><td>feign.codec.Encoder</td><td>è¯·æ±‚å‚æ•°ç¼–ç </td><td>å°†è¯·æ±‚å‚æ•°ç¼–ç ï¼Œä¾¿äºé€šè¿‡ http è¯·æ±‚å‘é€</td></tr><tr><td>feign.contract</td><td>æ”¯æŒçš„æ³¨è§£æ ¼å¼</td><td>é»˜è®¤æ˜¯ SpringMVC çš„æ³¨è§£</td></tr><tr><td>feign.Retryer</td><td>å¤±è´¥é‡è¯•æœºåˆ¶</td><td>è¯·æ±‚å¤±è´¥çš„é‡è¯•æœºåˆ¶ï¼Œé»˜è®¤æ˜¯æ²¡æœ‰ï¼Œä¸è¿‡ä¼šä½¿ç”¨ Ribbon çš„é‡è¯•</td></tr></tbody></table><p>ä¸€èˆ¬æˆ‘ä»¬éœ€è¦é…ç½®çš„å°±æ˜¯æ—¥å¿—çº§åˆ«ã€‚</p><p>feign.Logger.Levelï¼š</p><p>NONEï¼šæ²¡æœ‰ä»»ä½•æ—¥å¿—</p><p>BASICï¼šå‘èµ·ä¸€æ¬¡ http è¯·æ±‚æ—¶ï¼Œè®°å½•è¯·æ±‚æ˜¯ä»€ä¹ˆæ—¶å€™å‘çš„ï¼Œä»€ä¹ˆæ—¶å€™ç»“æŸçš„ï¼Œè€—æ—¶ç­‰åŸºæœ¬ä¿¡æ¯</p><p>HEADERSï¼šé™¤äº†è¯·æ±‚ä¿¡æ¯è¿˜æœ‰è¯·æ±‚å¤´å’Œå“åº”ä½“ä¿¡æ¯</p><p>FULLï¼šå®Œæ•´çš„è®°å½•æ—¥å¿—</p><h4 id="541-é…ç½®feignæ—¥å¿—æœ‰ä¸¤ç§æ–¹å¼"><a class="anchor" href="#541-é…ç½®feignæ—¥å¿—æœ‰ä¸¤ç§æ–¹å¼">#</a> 5.4.1ã€é…ç½® Feign æ—¥å¿—æœ‰ä¸¤ç§æ–¹å¼ï¼šğŸŒ²</h4><h5 id="æ–¹å¼ä¸€"><a class="anchor" href="#æ–¹å¼ä¸€">#</a> æ–¹å¼ä¸€ğŸŒ´</h5><p>æ–¹å¼ä¸€ï¼šé…ç½®æ–‡ä»¶æ–¹å¼</p><p>1ã€å…¨å±€ç”Ÿæ•ˆ</p><figure class="highlight yml"><figcaption data-lang="YAML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token key atrule">feign</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token key atrule">client</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token key atrule">config</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>      <span class="token key atrule">default</span><span class="token punctuation">:</span> <span class="token comment"># è¿™é‡Œ default å°±æ˜¯å…¨å±€é…ç½®ï¼Œå¦‚æœæ˜¯å†™æœåŠ¡åç§°ï¼Œåˆ™æ˜¯é’ˆå¯¹æŸä¸ªå¾®æœåŠ¡çš„é…ç½®</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token key atrule">loggerLevel</span><span class="token punctuation">:</span> FULL <span class="token comment"># å®Œæ•´æ—¥å¿—</span></pre></td></tr></table></figure><p>2ã€å±€éƒ¨ç”Ÿæ•ˆ</p><figure class="highlight yml"><figcaption data-lang="YAML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token key atrule">feign</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token key atrule">client</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token key atrule">config</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>      <span class="token key atrule">userservice</span><span class="token punctuation">:</span> <span class="token comment"># è¿™é‡Œ default å°±æ˜¯å…¨å±€é…ç½®ï¼Œå¦‚æœæ˜¯å†™æœåŠ¡åç§°ï¼Œåˆ™æ˜¯é’ˆå¯¹æŸä¸ªå¾®æœåŠ¡çš„é…ç½®</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token key atrule">loggerLevel</span><span class="token punctuation">:</span> FULL <span class="token comment"># å®Œæ•´æ—¥å¿—</span></pre></td></tr></table></figure><p>å¯åŠ¨ order-service æœåŠ¡è®¿é—® utlï¼š<span class="exturl" data-url="aHR0cDovLzEyNy4wLjAuMTo4MDgwL29yZGVyLzEwMQ==">http://127.0.0.1:8080/order/101</span></p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310070911106.png" alt="image-20231007091133634"></p><h5 id="æ–¹å¼äºŒ"><a class="anchor" href="#æ–¹å¼äºŒ">#</a> æ–¹å¼äºŒğŸŒ´</h5><p>é…ç½® Feign æ—¥å¿—çš„æ–¹å¼äºŒï¼šjava ä»£ç æ–¹å¼ï¼Œéœ€è¦å…ˆå£°æ˜ä¸€ä¸ª Beanï¼š</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FeignClientConfiguration</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token annotation punctuation">@Bean</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">public</span> <span class="token class-name">Logger<span class="token punctuation">.</span>Level</span> <span class="token function">feignLogLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">return</span> <span class="token class-name">Logger<span class="token punctuation">.</span>Level</span><span class="token punctuation">.</span><span class="token constant">BASIC</span><span class="token punctuation">;</span> # æ—¥å¿—çº§åˆ«</pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>1ã€è€Œåå¦‚æœæ˜¯å…¨å±€é…ç½®ï¼Œåˆ™æŠŠå®ƒæ”¾åˆ° @EnableFeignClients è¿™ä¸ªæ³¨è§£ä¸­ï¼š</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@EnableFeignClients</span><span class="token punctuation">(</span>defaultConfiguration <span class="token operator">=</span> <span class="token class-name">FeignClientConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>2ã€ å¦‚æœæ˜¯å±€éƒ¨é…ç½®ï¼Œåˆ™æŠŠå®ƒæ”¾åˆ° @FeignClient è¿™ä¸ªæ³¨è§£ä¸­ï¼š</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@FeignClient</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"userservice"</span><span class="token punctuation">,</span> configuration <span class="token operator">=</span> <span class="token class-name">FeignClientConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>é‡æ–°å¯åŠ¨ order-service æœåŠ¡è®¿é—® utlï¼š<span class="exturl" data-url="aHR0cDovLzEyNy4wLjAuMTo4MDgwL29yZGVyLzEwMQ==">http://127.0.0.1:8080/order/101</span></p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310070914510.png" alt="image-20231007091445317"></p><p>&lt;font color='red'&gt; æ³¨æ„ &lt;/font&gt;ï¼šå¦‚æœé…ç½®æ–‡ä»¶æ–¹å¼ä¸ä»£ç æ–¹å¼åŒæ—¶å¼€å¯çš„è¯ï¼Œå®ƒä¼šä½¿ç”¨é…ç½®æ–‡ä»¶çš„æ–¹å¼ã€‚</p><blockquote><p><strong>æ€»ç»“</strong>ï¼š</p><p>Feign çš„æ—¥å¿—é…ç½®ï¼š</p><ol><li><p>æ–¹å¼ä¸€æ˜¯é…ç½®æ–‡ä»¶ï¼Œfeign.client.config.xxx.loggerLevel</p><ol><li>å¦‚æœ xxx æ˜¯ default åˆ™ä»£è¡¨å…¨å±€</li><li>å¦‚æœ xxx æ˜¯æœåŠ¡åç§°ï¼Œä¾‹å¦‚ userservice åˆ™ä»£è¡¨å±€é™äºæŸæœåŠ¡</li></ol></li><li><p>æ–¹å¼äºŒæ˜¯ java ä»£ç é…ç½® Logger.Level è¿™ä¸ª Bean</p><ol><li>å¦‚æœåœ¨ @EnableFeignClients æ³¨è§£å£°æ˜åˆ™ä»£è¡¨å…¨å±€</li><li>å¦‚æœåœ¨ @FeignClient æ³¨è§£ä¸­å£°æ˜åˆ™ä»£è¡¨å±€é™äºæŸæœåŠ¡</li></ol><ul><li>&lt;font color='red'&gt; æ³¨æ„ &lt;/font&gt;ï¼šè¿™ä¸¤ä¸ªæ³¨è§£ä¸€ä¸ªæ˜¯å¯åŠ¨ç±»çš„ï¼Œä¸€ä¸ªæ˜¯è¿œç¨‹è°ƒç”¨æ¥å£çš„ã€‚</li></ul></li></ol></blockquote><h3 id="55-feignçš„æ€§èƒ½ä¼˜åŒ–"><a class="anchor" href="#55-feignçš„æ€§èƒ½ä¼˜åŒ–">#</a> 5.5ã€Feign çš„æ€§èƒ½ä¼˜åŒ–ğŸŒ³</h3><p>Feign åº•å±‚çš„å®¢æˆ·ç«¯å®ç°ï¼š</p><ul><li>URLConnectionï¼šé»˜è®¤å®ç°ï¼Œä¸æ”¯æŒè¿æ¥æ± </li><li>Apache HttpClientï¼šæ”¯æŒè¿æ¥æ± </li><li>OKHttpï¼šæ”¯æŒè¿æ¥æ± </li></ul><p>å› æ­¤ä¼˜åŒ– Feign çš„æ€§èƒ½ä¸»è¦åŒ…æ‹¬ï¼š</p><ol><li>ä½¿ç”¨è¿æ¥æ± ä»£æ›¿é»˜è®¤çš„ URLConnection</li><li>æ—¥å¿—çº§åˆ«ï¼Œæœ€å¥½ç”¨ basic æˆ– noneï¼Œå› ä¸ºå¼€æ—¥å¿—ä¹Ÿä¼šæ‹‰ä½æ€§èƒ½</li></ol><h4 id="551-feignçš„æ€§èƒ½ä¼˜åŒ–-è¿æ¥æ± é…ç½®"><a class="anchor" href="#551-feignçš„æ€§èƒ½ä¼˜åŒ–-è¿æ¥æ± é…ç½®">#</a> 5.5.1ã€Feign çš„æ€§èƒ½ä¼˜åŒ– - è¿æ¥æ± é…ç½®ğŸŒ²</h4><p>Feign æ·»åŠ  HttpClient çš„æ”¯æŒï¼š</p><p>å¼•å…¥ä¾èµ–ï¼š</p><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">&lt;!--httpClient çš„ä¾èµ– --></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>io.github.openfeign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>feign-httpclient<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><p>é…ç½®è¿æ¥æ± ï¼š</p><figure class="highlight yml"><figcaption data-lang="YAML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token key atrule">feign</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre> <span class="token key atrule">httpclient</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>   <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># å¼€å¯ feign å¯¹ httpClient çš„æ”¯æŒ</span></pre></td></tr><tr><td data-num="4"></td><td><pre>   <span class="token key atrule">max-connections</span><span class="token punctuation">:</span> <span class="token number">200</span> <span class="token comment"># æœ€å¤§çš„è¿æ¥æ•°</span></pre></td></tr><tr><td data-num="5"></td><td><pre>   <span class="token key atrule">max-connections-per-route</span><span class="token punctuation">:</span> <span class="token number">50</span> <span class="token comment"># æ¯ä¸ªè·¯å¾„çš„æœ€å¤§è¿æ¥æ•°</span></pre></td></tr></table></figure><blockquote><p><strong>æ€»ç»“</strong>ï¼š</p><p>Feign çš„ä¼˜åŒ–ï¼š</p><ol><li>æ—¥å¿—çº§åˆ«å°½é‡ç”¨ basic</li><li>ä½¿ç”¨ HttpClient æˆ– OKHttp ä»£æ›¿ URLConnection<ol><li>å¼•å…¥ feign-httpClient ä¾èµ–</li><li>é…ç½®æ–‡ä»¶å¼€å¯ httpClient åŠŸèƒ½ï¼Œè®¾ç½®è¿æ¥æ± å‚æ•°</li></ol></li></ol></blockquote><h3 id="56-feignçš„æœ€ä½³å®è·µ"><a class="anchor" href="#56-feignçš„æœ€ä½³å®è·µ">#</a> 5.6ã€Feign çš„æœ€ä½³å®è·µğŸŒ³</h3><h4 id="561-æ–¹å¼ä¸€"><a class="anchor" href="#561-æ–¹å¼ä¸€">#</a> 5.6.1ã€æ–¹å¼ä¸€ğŸŒ²</h4><p>æ–¹å¼ä¸€ (ç»§æ‰¿)ï¼šç»™æ¶ˆè´¹è€…çš„ FeignClient å’Œæä¾›è€…çš„ controller å®šä¹‰ç»Ÿä¸€çš„çˆ¶æ¥å£ä½œä¸ºæ ‡å‡†</p><blockquote><p>åœ¨ UserClient æ¥å£ä¸­ä½¿ç”¨ GetMapping å£°æ˜è¿œç¨‹è°ƒç”¨æ‰€éœ€è¦çš„ä¿¡æ¯ï¼Œæ¯”å¦‚è¯·æ±‚æ–¹å¼ï¼Œå‚æ•°ï¼Œè·¯å¾„ï¼Œè¿”å›å€¼ç­‰ã€‚</p><p>è¿™ä¸ªæ¥å£æœ€ç»ˆçš„ç›®çš„æ˜¯ä»€ä¹ˆï¼šæ˜¯è®©æ¶ˆè´¹è€…åŸºäºè¿™äº›å£°æ˜ä¿¡æ¯å‘é€ä¸€æ¬¡ http çš„è¯·æ±‚ï¼Œè€Œè¿™ä¸ªè¯·æ±‚å°±ä¼šè¾¾åˆ° userservice æœåŠ¡å¯¹åº”çš„ä¸€ä¸ªå®ä¾‹ä¸Š UserController çš„ queryByIdã€‚æˆ‘ä»¬æ‹¿è¿™ä¸¤ä¸ªåšä¸€ä¸ªå¯¹æ¯”ï¼šè¯·æ±‚æ–¹å¼éƒ½æ˜¯ GETï¼Œè¯·æ±‚è·¯å¾„ findById æ˜¯ â€œuser/{id}â€ï¼Œè€Œ queryById æ˜¯ â€œ/{id}â€ åŸå› æ˜¯ ç±»ä¸Šå·²ç»æœ‰ â€œ/userâ€ äº†ï¼Œæ–¹æ³•åä¸ä¸€æ ·ä¸ç”¨ç®¡ã€‚å‚æ•°ä¸€æ ·ã€‚</p><p>æ‰€ä»¥ä¸¤ä¸ªæ–¹æ³•å¯¹æ¯”ç»“æœæ˜¯ï¼šé™¤äº†æ–¹æ³•åå¤–ï¼Œå…¶å®ƒéƒ½ä¸€æ ·ã€‚è€Œè¿™ä¸¤ä¸ªæ–¹æ³•çš„å£°æ˜æ˜¯å¿…é¡»è¦ä¸€æ ·çš„å¦åˆ™æŠ¥é”™</p><p>order-service åŸºäº UserClient è®¿é—® UserService è€Œ UserClient ä¸­å£°æ˜äº†è¯·æ±‚æ–¹å¼ï¼Œè¯·æ±‚å‚æ•°ï¼Œè¯·æ±‚è·¯å¾„ç­‰ä¿¡æ¯ã€‚é‚£ä¹ˆ order-service å°±åŸºäºè¿™äº›ä¿¡æ¯å‘é€ http è¯·æ±‚ï¼Œè€Œ UserService æ°å¥½åœ¨æ¥æ”¶è¿™ä¸ªè¯·æ±‚ã€‚å¦‚æœ UserClient ä¸­çš„ findById ä¸ UserController ä¸­çš„ queryById å£°æ˜çš„ä¸ä¸€æ ·ï¼Œæ¯”å¦‚å‘é€çš„æ˜¯ post è¯·æ±‚è€Œæ¥æ”¶çš„æ˜¯ get è¯·æ±‚å®ƒä»¬å°±åŒ¹é…ä¸åˆ°äº†ã€‚</p></blockquote><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310070954683.png" alt="image-20231007095439949"></p><p>&lt;font color='red'&gt; é—®é¢˜ &lt;/font&gt;ï¼šæ—¢ç„¶å®ƒä»¬ä¸¤ä¸ªä¸€æ¨¡ä¸€æ ·é‚£ä¹ˆå°±æ„å‘³ç€å¯ä»¥åšä¸€ä¸‹æŠ½å–</p><p>å‡å¦‚å®šä¹‰äº†ä¸€ä¸ªæ¥å£å« UserAPIï¼Œç°åœ¨æˆ‘æƒ³å®šä¹‰ä¸€ä¸ª Feign å®¢æˆ·ç«¯æ¥å£ç±»å°±ä¸ç”¨å†å†™äº†ç›´æ¥ç»§æ‰¿ UserAPI å°±å¥½äº†</p><p>è¿˜æœ‰ UserController ï¼Œç›´æ¥å®ç° UserAPI è¿™ä¸ªæ¥å£ã€‚å°±æ˜¯ç»™ Feign å®¢æˆ·ç«¯å’Œ Controller å®šä¹‰ç»Ÿä¸€æ ‡å‡†ï¼Œå®ƒä¿©å°±å¯ä»¥ä¸ç”¨å†å»å†™äº†ã€‚</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310071011316.png" alt="image-20231007101108979"></p><p>ä½†æ˜¯è¿™ç§æ–¹å¼ä¹Ÿæœ‰ä¸€ä¸ªé—®é¢˜å¦‚ä¸‹æ˜¯ Spring å®˜ç½‘ç»™å‡ºçš„ä¸€æ®µè¯´æ˜ï¼š</p><p>ç®€å•ç†è§£ä¸‹é¢çš„è¯´æ˜å°±æ˜¯ï¼šä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬ä¸æ¨èå»å…±äº«æ¥å£åœ¨æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä¹‹é—´ï¼Œå®ƒä¼šé€ æˆç´§è€¦åˆ</p><p>ä»€ä¹ˆæ˜¯ç´§è€¦åˆå‘¢ï¼šä¸¤ä¸ªå¾®æœåŠ¡ userservice å’Œ orderservice éƒ½å·²ç»å®ç°ç›¸åŒæ¥å£äº†ä» api å±‚é¢éƒ½å·²ç»è€¦åˆäº†ä¸ºç´§è€¦åˆï¼Œå°†æ¥ UserAPI ä¸­å£°æ˜å˜äº† UserClient ä¸ UserController éƒ½è¦è·Ÿç€å˜</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310071012804.png" alt="image-20231007101211588"></p><p>è€Œä¸”è¿™ç§æ–¹æ¡ˆå¯¹ SpringMVC ä¸èµ·ä½œç”¨</p><h4 id="562-æ–¹å¼äºŒ"><a class="anchor" href="#562-æ–¹å¼äºŒ">#</a> 5.6.2ã€æ–¹å¼äºŒğŸŒ²</h4><p>æ–¹å¼äºŒ (æŠ½å–)ï¼šå°† FeignClient æŠ½å–ä¸ºç‹¬ç«‹æ¨¡å—ï¼Œå¹¶ä¸”æŠŠæ¥å£æœ‰å…³çš„ POJOï¼Œé»˜è®¤çš„ Feign é…ç½®éƒ½æ”¾åˆ°è¿™ä¸ªæ¨¡å—ä¸­ï¼Œæä¾›ç»™æ‰€æœ‰æ¶ˆè´¹è€…ä½¿ç”¨</p><p>è§£é‡Šï¼š</p><p>UserController å¯¹å¤–æš´æ¼æŸ¥è¯¢ç”¨æˆ·çš„æ¥å£ï¼Œæœ‰ä¸¤ä¸ªå¾®æœåŠ¡ order-service å’Œ pay-service å‡å¦‚å®ƒä¿©éƒ½éœ€è¦å»æŸ¥è¯¢ç”¨æˆ·ï¼Œä¹‹å‰çš„æ–¹å¼æ˜¯å„å†™å„è‡ªçš„ UserClient ç„¶åéƒ½å»è°ƒ UserController æŸ¥è¯¢ç”¨æˆ·æ¥å£ï¼Œå¦‚æœè¯´å°†æ¥å¾®æœåŠ¡è¶Šæ¥è¶Šå¤šåå‡ ä¸ªéƒ½æ¥è°ƒ UserController é‚£ UserClient å°±ç­‰äºå†™äº†åå¤šéäº†è¿™æ ·å°±æ˜¯é‡å¤å¼€å‘äº†ï¼Œå¾ˆéº»çƒ¦ã€‚</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310071024820.png" alt="image-20231007102445971"></p><p>æ‰€ä»¥å‡†å¤‡ä¸€ä¸ª feign-api (é¡¹ç›® - ç‹¬ç«‹æ¨¡å—) ï¼Œå®ƒä¸ºæ¶ˆè´¹è€…æŠŠ Client å®šä¹‰å¥½ï¼Œæ¥å£å®šä¹‰è¿‡ç¨‹ä¸­çš„å®ä½“ç±»ï¼ŒFeign çš„é…ç½®å®ƒéƒ½ç®¡äº†</p><p>å°†æ¥æ¶ˆè´¹è€…è¦ä½¿ç”¨å°±å¼•ä¾èµ–å°±å¯ä»¥äº†ï¼Œå¼•å…¥äº†åç›´æ¥è°ƒç”¨ UserController æŸ¥è¯¢ç”¨æˆ·</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310071027366.png" alt="image-20231007102717991"></p><blockquote><p><strong>æ€»ç»“</strong>ï¼š</p><p>Feign çš„æœ€ä½³å®è·µï¼š</p><ol><li>è®© controller å’Œ FeignClient ç»§æ‰¿åŒä¸€æ¥å£</li><li>å°† FeignClientï¼ŒPOJOï¼ŒFeign çš„é»˜è®¤é…ç½®éƒ½å®šä¹‰åˆ°ä¸€ä¸ªé¡¹ç›®ä¸­ (ç‹¬ç«‹æ¨¡å—) ç»Ÿä¸€æŠ½å–å‡ºæ¥æ‰“ jar åŒ…ï¼Œä¾›æ‰€æœ‰æ¶ˆè´¹è€…ä½¿ç”¨</li></ol></blockquote><h4 id="563-æ¼”ç¤ºæ–¹å¼äºŒ"><a class="anchor" href="#563-æ¼”ç¤ºæ–¹å¼äºŒ">#</a> 5.6.3ã€æ¼”ç¤ºæ–¹å¼äºŒğŸŒ²</h4><h5 id="5631-æŠ½å–feignclient"><a class="anchor" href="#5631-æŠ½å–feignclient">#</a> 5.6.3.1ã€æŠ½å– FeignClientğŸŒ´</h5><p><strong>å®ç°æœ€ä½³å®è·µæ–¹å¼äºŒçš„æ­¥éª¤å¦‚ä¸‹</strong>ï¼š</p><p>1ã€é¦–å…ˆåˆ›å»ºä¸€ä¸ª moduleï¼Œå‘½åä¸º feign-apiï¼Œç„¶åå¼•å…¥ feign çš„ starter ä¾èµ–</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310071056767.png" alt="image-20231007105607975"></p><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>cn.itcast.demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>feign-api1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">></span></span>jar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>feign-api1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">></span></span>http://maven.apache.org<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">></span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="21"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="22"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="23"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-openfeign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="24"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="25"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="26"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="27"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="28"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>4.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="29"></td><td><pre>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="30"></td><td><pre>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="31"></td><td><pre>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><p>2ã€å°† order-service ä¸­ç¼–å†™çš„ UserClientï¼ŒUserï¼ŒFeignConfiguration éƒ½å¤åˆ¶åˆ° feign-api é¡¹ç›®ä¸­</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310071101541.png" alt="image-20231007110150030"></p><p>3ã€å°† order-service ä¸­çš„ configï¼Œclientsï¼ŒUser éƒ½åˆ é™¤ï¼Œåœ¨ order-service ä¸­å¼•å…¥ feign-api çš„ä¾èµ–</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310071103048.png" alt="image-20231007110347974"></p><figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">&lt;!-- å¼•å…¥ feign-api--></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>cn.itcast.demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>feign-api1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><p>4ã€ä¿®æ”¹ order-service ä¸­çš„æ‰€æœ‰ä¸ä¸Šè¿°ä¸‰ä¸ªç»„ä»¶æœ‰å…³çš„ import éƒ¨åˆ†ï¼Œæ”¹æˆå¯¼å…¥ feign-api ä¸­çš„åŒ…</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310071106503.png" alt="image-20231007110622216"></p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310071106713.png" alt="image-20231007110644248"></p><p>5ã€é‡å¯æµ‹è¯•</p><p>ä½†æ˜¯å‘¢è¿™é‡Œç»†å¿ƒçš„å¯èƒ½å·²ç»æ³¨æ„åˆ°äº†æœ‰åœ°æ–¹ä¸å¯¹åŠ²å¯åŠ¨åä¹Ÿä¼šæŠ¥é”™ï¼</p><p>æŠ¥é”™ä¸ºï¼šæ‰¾ä¸åˆ° UserClient çš„ Bean</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310071114496.png" alt="image-20231007111359869"></p><p>è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><blockquote><p>åŸå› ï¼š</p><p>é¡¹ç›®å¯åŠ¨ SpringBoot å¯åŠ¨ç±»æ‰«æåŒ…çš„èŒƒå›´æ˜¯ cn.itcast.orderã€‚è€Œ UserClient å¯¼å…¥çš„åŒ…è·¯å¾„å´æ˜¯ cn.itcast.feign.clients.UserClient</p><p>SpringBoot ä» order åŒ…å¼€å§‹æ‰«æè€Œå¯¼å…¥ä¾èµ–çš„è·¯å¾„ä» itcast å°±ä¸ä¸€æ ·äº†ï¼Œæœ‰ä¸€ä¸ªè§£å†³åŠæ³•å°±æ˜¯å°† SpringBoot æ‰«æçš„èŒƒå›´æ‰©å¤§ï¼Œä½†æ˜¯ï¼ï¼ï¼è¿™æ˜¯ä¸åˆç†çš„ã€‚ä¸èƒ½è¿™æ ·</p></blockquote><h6 id="56311-å¦‚ä¸‹ä¸¤ç§è§£å†³æ–¹æ¡ˆ"><a class="anchor" href="#56311-å¦‚ä¸‹ä¸¤ç§è§£å†³æ–¹æ¡ˆ">#</a> 5.6.3.1.1ã€å¦‚ä¸‹ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼šğŸ‹</h6><p>å½“å®šä¹‰çš„ FeignClient ä¸åœ¨ SpringBootApplication çš„æ‰«æåŒ…èŒƒå›´æ—¶ï¼Œè¿™äº› FeignClient æ— æ³•ä½¿ç”¨ã€‚æœ‰ä¸¤ç§æ–¹å¼è§£å†³ï¼š</p><p>æ–¹å¼ä¸€ï¼šæŒ‡å®š FeignClient æ‰€åœ¨åŒ… (å…¨æ‹¿æ¥)</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@EnableFeignClients</span><span class="token punctuation">(</span>basePackages <span class="token operator">=</span> <span class="token string">"cn.itcast.feign.clients"</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>æ–¹å¼äºŒï¼šæŒ‡å®š FeignClient å­—èŠ‚ç  (ç²¾å‡†æ‰“å‡»ï¼Œæ¨èä½¿ç”¨ï¼šç”¨å“ªä¸ªå°±æŒ‡å®šé‚£ä¸ª)</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@EnableFeignClients</span><span class="token punctuation">(</span>clients <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token class-name">UserClient</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>ä½¿ç”¨ç¬¬äºŒç§æ–¹å¼è§£å†³ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">cn<span class="token punctuation">.</span>itcast<span class="token punctuation">.</span>feign<span class="token punctuation">.</span>clients<span class="token punctuation">.</span></span><span class="token class-name">UserClient</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">cn<span class="token punctuation">.</span>itcast<span class="token punctuation">.</span>feign<span class="token punctuation">.</span>config<span class="token punctuation">.</span></span><span class="token class-name">FeignClientConfiguration</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">MapperScan</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>openfeign<span class="token punctuation">.</span></span><span class="token class-name">EnableFeignClients</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token annotation punctuation">@EnableFeignClients</span><span class="token punctuation">(</span>clients <span class="token operator">=</span> <span class="token class-name">UserClient</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> defaultConfiguration <span class="token operator">=</span> <span class="token class-name">FeignClientConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token annotation punctuation">@MapperScan</span><span class="token punctuation">(</span><span class="token string">"cn.itcast.order.mapper"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token annotation punctuation">@SpringBootApplication</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderApplication</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">OrderApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>å†æ¬¡å¯åŠ¨é¡¹ç›®</p><p><img data-src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310071126898.png" alt="image-20231007112615337"></p><blockquote><p><strong>æ€»ç»“</strong>ï¼š</p><p>ä¸åŒåŒ…çš„ FeignClient çš„å¯¼å…¥æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><ol><li>åœ¨ @EnableFeignClients æ³¨è§£ä¸­æ·»åŠ  basePackagesï¼ŒæŒ‡å®š FeignClient æ‰€åœ¨çš„åŒ…</li><li>åœ¨ @EnableFeignClients æ³¨è§£ä¸­æ·»åŠ  clientsï¼ŒæŒ‡å®šå…·ä½“ FeignClient çš„å­—èŠ‚ç </li></ol></blockquote><div class="tags"><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%AD%A6%E7%A7%91/" rel="tag"><i class="ic i-tag"></i> è®¡ç®—æœºå­¦ç§‘</a> <a href="/tags/springcloud/" rel="tag"><i class="ic i-tag"></i> springcloud</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">æ›´æ–°äº</span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2024-01-06 10:44:34" itemprop="dateModified" datetime="2024-01-06T10:44:34+08:00">2024-01-06</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> èµèµ</button><p>è¯·æˆ‘å–[èŒ¶]~(ï¿£â–½ï¿£)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="D å¾®ä¿¡æ”¯ä»˜"><p>å¾®ä¿¡æ”¯ä»˜</p></div><div><img data-src="/images/alipay.png" alt="D æ”¯ä»˜å®"><p>æ”¯ä»˜å®</p></div><div><img data-src="/images/paypal.png" alt="D è´å®"><p>è´å®</p></div></div></div><div id="copyright"><ul><li class="author"><strong>Dkxï¼š </strong>D <i class="ic i-at"><em>@</em></i>D ã® Java å°çª</li><li class="link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong> <a href="https://pigpigletsgo.github.io/computer-science/java/spring/springcloud/springcloud-http%E5%AE%A2%E6%88%B7%E7%AB%AFFeign/" title="äº”ã€http å®¢æˆ·ç«¯ Feign">https://pigpigletsgo.github.io/computer-science/java/spring/springcloud/springcloud-httpå®¢æˆ·ç«¯Feign/</a></li><li class="license"><strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬ç«™æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/computer-science/java/spring/springcloud/springcloud-gateway/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;img.timelessq.com&#x2F;images&#x2F;2022&#x2F;07&#x2F;26&#x2F;a8d0ac76b87f7593653e29559d61b32d.jpg" title="å…­ã€ç»Ÿä¸€ç½‘å…³Gateway"><span class="type">ä¸Šä¸€ç¯‡</span> <span class="category"><i class="ic i-flag"></i> springcloud</span><h3>å…­ã€ç»Ÿä¸€ç½‘å…³Gateway</h3></a></div><div class="item right"><a href="/computer-science/java/spring/springcloud/springcloud-Ribbon%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;img.timelessq.com&#x2F;images&#x2F;2022&#x2F;07&#x2F;26&#x2F;560306a4274d1fc26eb475dd52237387.jpg" title="ä¸‰ã€Ribbonè´Ÿè½½å‡è¡¡"><span class="type">ä¸‹ä¸€ç¯‡</span> <span class="category"><i class="ic i-flag"></i> springcloud</span><h3>ä¸‰ã€Ribbonè´Ÿè½½å‡è¡¡</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="æ–‡ç« ç›®å½•"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94-http%E5%AE%A2%E6%88%B7%E7%AB%AFfeign"><span class="toc-number">1.</span> <span class="toc-text">äº”ã€http å®¢æˆ·ç«¯ FeignğŸ„</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#51-resttemplate%E6%96%B9%E5%BC%8F%E8%B0%83%E7%94%A8%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">1.1.</span> <span class="toc-text">5.1ã€RestTemplate æ–¹å¼è°ƒç”¨å­˜åœ¨çš„é—®é¢˜ğŸŒ³</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#52-feign%E7%9A%84%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.2.</span> <span class="toc-text">5.2ã€Feign çš„ä»‹ç»ğŸŒ³</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#53-%E5%AE%9A%E4%B9%89%E5%92%8C%E4%BD%BF%E7%94%A8feign%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="toc-number">1.3.</span> <span class="toc-text">5.3ã€å®šä¹‰å’Œä½¿ç”¨ Feign å®¢æˆ·ç«¯ğŸŒ³</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#54-%E8%87%AA%E5%AE%9A%E4%B9%89feign%E9%85%8D%E7%BD%AE"><span class="toc-number">1.4.</span> <span class="toc-text">5.4ã€è‡ªå®šä¹‰ Feign é…ç½®ğŸŒ³</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#541-%E9%85%8D%E7%BD%AEfeign%E6%97%A5%E5%BF%97%E6%9C%89%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">1.4.1.</span> <span class="toc-text">5.4.1ã€é…ç½® Feign æ—¥å¿—æœ‰ä¸¤ç§æ–¹å¼ï¼šğŸŒ²</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%B8%80"><span class="toc-number">1.4.1.1.</span> <span class="toc-text">æ–¹å¼ä¸€ğŸŒ´</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%BA%8C"><span class="toc-number">1.4.1.2.</span> <span class="toc-text">æ–¹å¼äºŒğŸŒ´</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#55-feign%E7%9A%84%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="toc-number">1.5.</span> <span class="toc-text">5.5ã€Feign çš„æ€§èƒ½ä¼˜åŒ–ğŸŒ³</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#551-feign%E7%9A%84%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96-%E8%BF%9E%E6%8E%A5%E6%B1%A0%E9%85%8D%E7%BD%AE"><span class="toc-number">1.5.1.</span> <span class="toc-text">5.5.1ã€Feign çš„æ€§èƒ½ä¼˜åŒ– - è¿æ¥æ± é…ç½®ğŸŒ²</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#56-feign%E7%9A%84%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="toc-number">1.6.</span> <span class="toc-text">5.6ã€Feign çš„æœ€ä½³å®è·µğŸŒ³</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#561-%E6%96%B9%E5%BC%8F%E4%B8%80"><span class="toc-number">1.6.1.</span> <span class="toc-text">5.6.1ã€æ–¹å¼ä¸€ğŸŒ²</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#562-%E6%96%B9%E5%BC%8F%E4%BA%8C"><span class="toc-number">1.6.2.</span> <span class="toc-text">5.6.2ã€æ–¹å¼äºŒğŸŒ²</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#563-%E6%BC%94%E7%A4%BA%E6%96%B9%E5%BC%8F%E4%BA%8C"><span class="toc-number">1.6.3.</span> <span class="toc-text">5.6.3ã€æ¼”ç¤ºæ–¹å¼äºŒğŸŒ²</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#5631-%E6%8A%BD%E5%8F%96feignclient"><span class="toc-number">1.6.3.1.</span> <span class="toc-text">5.6.3.1ã€æŠ½å– FeignClientğŸŒ´</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#56311-%E5%A6%82%E4%B8%8B%E4%B8%A4%E7%A7%8D%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-number">1.6.3.1.1.</span> <span class="toc-text">5.6.3.1.1ã€å¦‚ä¸‹ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼šğŸ‹</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></div><div class="related panel pjax" data-title="ç³»åˆ—æ–‡ç« "><ul><li><a href="/computer-science/java/spring/springcloud/SpringBoot%E6%95%B4%E5%90%88docker%E9%83%A8%E7%BD%B2xxl-job-2.3.1/" rel="bookmark" title="XXL-JOBä»‹ç»å’Œä½¿ç”¨">XXL-JOBä»‹ç»å’Œä½¿ç”¨</a></li><li><a href="/computer-science/java/spring/springcloud/springcloud-gateway/" rel="bookmark" title="å…­ã€ç»Ÿä¸€ç½‘å…³Gateway">å…­ã€ç»Ÿä¸€ç½‘å…³Gateway</a></li><li class="active"><a href="/computer-science/java/spring/springcloud/springcloud-http%E5%AE%A2%E6%88%B7%E7%AB%AFFeign/" rel="bookmark" title="äº”ã€httpå®¢æˆ·ç«¯Feign">äº”ã€httpå®¢æˆ·ç«¯Feign</a></li><li><a href="/computer-science/java/spring/springcloud/springcloud-Ribbon%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/" rel="bookmark" title="ä¸‰ã€Ribbonè´Ÿè½½å‡è¡¡">ä¸‰ã€Ribbonè´Ÿè½½å‡è¡¡</a></li><li><a href="/computer-science/java/spring/springcloud/springcloud-%E6%9C%8D%E5%8A%A1%E6%8B%86%E5%88%86%E5%8F%8A%E8%BF%9C%E7%A8%8B%E8%B0%83%E7%94%A8/" rel="bookmark" title="äºŒã€æœåŠ¡æ‹†åˆ†åŠè¿œç¨‹è°ƒç”¨">äºŒã€æœåŠ¡æ‹†åˆ†åŠè¿œç¨‹è°ƒç”¨</a></li><li><a href="/computer-science/java/spring/springcloud/SpringCloud%E5%85%A5%E9%97%A8/" rel="bookmark" title="é›¶ã€SpringCloudå…¥é—¨|ä»‹ç»">é›¶ã€SpringCloudå…¥é—¨|ä»‹ç»</a></li><li><a href="/computer-science/java/spring/springcloud/Docker/Linux%E4%B8%ADDocker%E7%9A%84%E4%B8%8B%E8%BD%BD%E5%92%8C%E5%AE%89%E8%A3%85/" rel="bookmark" title="Linuxä¸­Dockerçš„ä¸‹è½½å’Œå®‰è£…">Linuxä¸­Dockerçš„ä¸‹è½½å’Œå®‰è£…</a></li><li><a href="/computer-science/java/spring/springcloud/Docker/springcloud-docker/" rel="bookmark" title="ä¸ƒã€Docker">ä¸ƒã€Docker</a></li><li><a href="/computer-science/java/spring/springcloud/Elasticsearch/springcloud-elasticsearch/" rel="bookmark" title="ä¹ã€åˆ†å¸ƒå¼æœç´¢">ä¹ã€åˆ†å¸ƒå¼æœç´¢</a></li><li><a href="/computer-science/java/spring/springcloud/Elasticsearch/%E5%AE%89%E8%A3%85elasticsearch/" rel="bookmark" title="å®‰è£…elasticsearch">å®‰è£…elasticsearch</a></li><li><a href="/computer-science/java/spring/springcloud/Elasticsearch/%E6%A1%88%E4%BE%8Bsql/" rel="bookmark" title="esæ¡ˆä¾‹">esæ¡ˆä¾‹</a></li><li><a href="/computer-science/java/spring/springcloud/Nacos/Nacos%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97/" rel="bookmark" title="Nacoså®‰è£…æŒ‡å—">Nacoså®‰è£…æŒ‡å—</a></li><li><a href="/computer-science/java/spring/springcloud/Nacos/nacos%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/" rel="bookmark" title="Nacosé›†ç¾¤æ­å»º">Nacosé›†ç¾¤æ­å»º</a></li><li><a href="/computer-science/java/spring/springcloud/Nacos/springcloud-Nacos%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83/" rel="bookmark" title="å››ã€Nacosæ³¨å†Œä¸­å¿ƒ">å››ã€Nacosæ³¨å†Œä¸­å¿ƒ</a></li><li><a href="/computer-science/java/spring/springcloud/RabbitMQ/RabbitMQ%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97/" rel="bookmark" title="RabbitMQéƒ¨ç½²æŒ‡å—-å•å‡»éƒ¨ç½²">RabbitMQéƒ¨ç½²æŒ‡å—-å•å‡»éƒ¨ç½²</a></li><li><a href="/computer-science/java/spring/springcloud/RabbitMQ/springcloud-%E5%BC%82%E6%AD%A5%E9%80%9A%E8%AE%AF/" rel="bookmark" title="å…«ã€RabbitMQæœåŠ¡å¼‚æ­¥é€šè®¯">å…«ã€RabbitMQæœåŠ¡å¼‚æ­¥é€šè®¯</a></li><li><a href="/computer-science/java/spring/springcloud/RabbitMQ/%E9%AB%98%E7%BA%A7/RabbitMQ%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97/" rel="bookmark" title="RabbitMQéƒ¨ç½²æŒ‡å—-é›†ç¾¤éƒ¨ç½²">RabbitMQéƒ¨ç½²æŒ‡å—-é›†ç¾¤éƒ¨ç½²</a></li><li><a href="/computer-science/java/spring/springcloud/springcloud-%E9%AB%98%E7%BA%A7/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E9%AB%98%E7%BA%A7%E7%AF%87/" rel="bookmark" title="SpringCloudé«˜çº§ç¯‡">SpringCloudé«˜çº§ç¯‡</a></li><li><a href="/computer-science/java/spring/springcloud/springcloud-%E9%AB%98%E7%BA%A7/canal/%E5%AE%89%E8%A3%85Canal/" rel="bookmark" title="å®‰è£…å’Œé…ç½®Canal">å®‰è£…å’Œé…ç½®Canal</a></li><li><a href="/computer-science/java/spring/springcloud/springcloud-%E9%AB%98%E7%BA%A7/OpenResty/%E5%AE%89%E8%A3%85OpenResty/" rel="bookmark" title="å®‰è£…OpenResty">å®‰è£…OpenResty</a></li><li><a href="/computer-science/java/spring/springcloud/springcloud-%E9%AB%98%E7%BA%A7/seata/seata%E7%9A%84%E9%83%A8%E7%BD%B2%E5%92%8C%E9%9B%86%E6%88%90/" rel="bookmark" title="seataçš„éƒ¨ç½²å’Œé›†æˆ">seataçš„éƒ¨ç½²å’Œé›†æˆ</a></li><li><a href="/computer-science/java/spring/springcloud/springcloud-%E9%AB%98%E7%BA%A7/sentinel/sentinel%E8%A7%84%E5%88%99%E6%8C%81%E4%B9%85%E5%8C%96/" rel="bookmark" title="Sentinelè§„åˆ™æŒä¹…åŒ–">Sentinelè§„åˆ™æŒä¹…åŒ–</a></li></ul></div><div class="overview panel" data-title="ç«™ç‚¹æ¦‚è§ˆ"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="D" data-src="/images/avatar.jpg"><p class="name" itemprop="name">D</p><div class="description" itemprop="description">æ¬¢è¿æ¥æˆ‘çš„åšå®¢ç©ºé—´</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">367</span> <span class="name">æ–‡ç« </span></a></div><div class="item categories"><a href="/categories/"><span class="count">95</span> <span class="name">åˆ†ç±»</span></a></div><div class="item tags"><a href="/tags/"><span class="count">152</span> <span class="name">æ ‡ç­¾</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL1BpZ1BpZ0xldHNHbw==" title="https:&#x2F;&#x2F;github.com&#x2F;PigPigLetsGo"><i class="ic i-github"></i></span> <span class="exturl item twitter" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS9Ea3gxMjE5" title="https:&#x2F;&#x2F;twitter.com&#x2F;Dkx1219"><i class="ic i-twitter"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS96dWktaG91LXllLWJlaS1sdWUtc2hh" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;zui-hou-ye-bei-lue-sha"><i class="ic i-zhihu"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTU3NjUxMDQ1OQ==" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;576510459"><i class="ic i-cloud-music"></i></span> <span class="exturl item weibo" data-url="aHR0cHM6Ly93d3cud2VpYm8uY29tL3UvNTk5OTU0OTg0MQ==" title="https:&#x2F;&#x2F;www.weibo.com&#x2F;u&#x2F;5999549841"><i class="ic i-weibo"></i></span> <span class="exturl item facebook" data-url="aHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3Byb2ZpbGUucGhwP2lkPTEwMDA5NDA4Nzc0ODIwMQ==" title="https:&#x2F;&#x2F;www.facebook.com&#x2F;profile.php?id&#x3D;100094087748201"><i class="ic i-facebook"></i></span> <span class="exturl item stackoverflow" data-url="aHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS91c2Vycy8xOTQwNjAyOS9kLWt4" title="https:&#x2F;&#x2F;stackoverflow.com&#x2F;users&#x2F;19406029&#x2F;d-kx"><i class="ic i-stack-overflow"></i></span> <span class="exturl item youtube" data-url="aHR0cHM6Ly93d3cueW91dHViZS5jb20vQERreC12djdsbQ==" title="https:&#x2F;&#x2F;www.youtube.com&#x2F;@Dkx-vv7lm"><i class="ic i-youtube"></i></span> <span class="exturl item instagram" data-url="aHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS9kb3Vka3g/aWdzaD1PR1E1WkRjMk9EazJaQSUzRCUzRCZ1dG1fc291cmNlPXFy" title="https:&#x2F;&#x2F;www.instagram.com&#x2F;doudkx?igsh&#x3D;OGQ5ZDc2ODk2ZA%3D%3D&amp;utm_source&#x3D;qr"><i class="ic i-instagram"></i></span> <span class="exturl item telegram" data-url="aHR0cHM6Ly90Lm1lL2RvdTAxMDg=" title="https:&#x2F;&#x2F;t.me&#x2F;dou0108"><i class="ic i-twitter"></i></span> <span class="exturl item skype" data-url="aHR0cHM6Ly9qb2luLnNreXBlLmNvbS9UN25TSWhvbmMxcWQ=" title="https:&#x2F;&#x2F;join.skype.com&#x2F;T7nSIhonc1qd"><i class="ic i-skype"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>é¦–é¡µ</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>å…³äº</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>æ–‡ç« </a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>å½’æ¡£</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>åˆ†ç±»</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>æ ‡ç­¾</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>å‹é”</a></li><li class="item"><a href="/links/" rel="section"><i class="ic i-magic"></i>é“¾æ¥</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/computer-science/java/spring/springcloud/springcloud-gateway/" rel="prev" title="ä¸Šä¸€ç¯‡"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/computer-science/java/spring/springcloud/springcloud-Ribbon%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/" rel="next" title="ä¸‹ä¸€ç¯‡"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>éšæœºæ–‡ç« </h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="åˆ†ç±»äº è®¡ç®—æœºå­¦ç§‘">è®¡ç®—æœºå­¦ç§‘</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/web/" title="åˆ†ç±»äº web">web</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/web/js/" title="åˆ†ç±»äº js">js</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/web/js/%E6%A1%88%E4%BE%8B%E4%BB%A3%E7%A0%81/" title="åˆ†ç±»äº æ¡ˆä¾‹ä»£ç ">æ¡ˆä¾‹ä»£ç </a></div><span><a href="/computer-science/web/js/%E6%A1%88%E4%BE%8B%E4%BB%A3%E7%A0%81/%E5%AE%9E%E7%8E%B0bilibili%E7%82%B9%E5%87%BB%E5%B0%8F%E6%BB%91%E5%9D%97%E7%A7%BB%E5%8A%A8%E6%95%88%E6%9E%9C/" title="å®ç°bilibiliç‚¹å‡»å°æ»‘å—ç§»åŠ¨æ•ˆæœ">å®ç°bilibiliç‚¹å‡»å°æ»‘å—ç§»åŠ¨æ•ˆæœ</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="åˆ†ç±»äº è®¡ç®—æœºå­¦ç§‘">è®¡ç®—æœºå­¦ç§‘</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java/" title="åˆ†ç±»äº java">java</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java/%E7%9F%A5%E8%AF%86%E7%82%B9/" title="åˆ†ç±»äº çŸ¥è¯†ç‚¹">çŸ¥è¯†ç‚¹</a></div><span><a href="/computer-science/java/%E7%9F%A5%E8%AF%86%E7%82%B9/%E9%9B%86%E5%90%88/%E9%9B%86%E5%90%88%E5%8F%8C%E5%A4%A7%E6%8B%AC%E5%8F%B7%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96/" title="é›†åˆåŒå¤§æ‹¬å·çš„åˆå§‹åŒ–">é›†åˆåŒå¤§æ‹¬å·çš„åˆå§‹åŒ–</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="åˆ†ç±»äº è®¡ç®—æœºå­¦ç§‘">è®¡ç®—æœºå­¦ç§‘</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/web/" title="åˆ†ç±»äº web">web</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/web/js/" title="åˆ†ç±»äº js">js</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/web/js/%E5%AD%98%E5%82%A8/" title="åˆ†ç±»äº å­˜å‚¨">å­˜å‚¨</a></div><span><a href="/computer-science/web/js/%E5%AD%98%E5%82%A8/localStorage/" title="åˆå§‹localStorage">åˆå§‹localStorage</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="åˆ†ç±»äº è®¡ç®—æœºå­¦ç§‘">è®¡ç®—æœºå­¦ç§‘</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java/" title="åˆ†ç±»äº java">java</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java/programming-questions/" title="åˆ†ç±»äº ç¼–ç¨‹é¢˜">ç¼–ç¨‹é¢˜</a></div><span><a href="/computer-science/java/programming-questions/%E6%95%B0%E6%8D%AE%E6%B5%81%E4%B8%AD%E7%9A%84%E7%AC%ACk%E5%A4%A7%E5%85%83%E7%B4%A0/" title="æ•°æ®æµä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ ">æ•°æ®æµä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ </a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="åˆ†ç±»äº è®¡ç®—æœºå­¦ç§‘">è®¡ç®—æœºå­¦ç§‘</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java/" title="åˆ†ç±»äº java">java</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java/maven/" title="åˆ†ç±»äº maven">maven</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java/maven/%E8%BF%9B%E9%98%B6/" title="åˆ†ç±»äº è¿›é˜¶">è¿›é˜¶</a></div><span><a href="/computer-science/java/maven/%E8%BF%9B%E9%98%B6/%E5%B1%9E%E6%80%A7/" title="maven-å±æ€§">maven-å±æ€§</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="åˆ†ç±»äº è®¡ç®—æœºå­¦ç§‘">è®¡ç®—æœºå­¦ç§‘</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/web/" title="åˆ†ç±»äº web">web</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/web/websocket/" title="åˆ†ç±»äº websocket">websocket</a></div><span><a href="/computer-science/web/websocket/websocket/" title="WebSocket">WebSocket</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="åˆ†ç±»äº è®¡ç®—æœºå­¦ç§‘">è®¡ç®—æœºå­¦ç§‘</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/databse/" title="åˆ†ç±»äº database">database</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/databse/redis/" title="åˆ†ç±»äº redis">redis</a></div><span><a href="/computer-science/database/redis/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" title="redis-åŸºç¡€çŸ¥è¯†">redis-åŸºç¡€çŸ¥è¯†</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/math/" title="åˆ†ç±»äº math">math</a></div><span><a href="/math/100%E4%BB%A5%E5%86%85%E5%8A%A0%E5%87%8F%E6%B3%95%E9%80%9F%E7%AE%97/" title="100ä»¥å†…åŠ å‡æ³•é€Ÿç®—æŠ€å·§">100ä»¥å†…åŠ å‡æ³•é€Ÿç®—æŠ€å·§</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="åˆ†ç±»äº è®¡ç®—æœºå­¦ç§‘">è®¡ç®—æœºå­¦ç§‘</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java/" title="åˆ†ç±»äº java">java</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java/maven/" title="åˆ†ç±»äº maven">maven</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java/maven/%E5%85%A5%E9%97%A8/" title="åˆ†ç±»äº å…¥é—¨">å…¥é—¨</a></div><span><a href="/computer-science/java/maven/%E5%85%A5%E9%97%A8/%E5%9C%A8Maven%E5%B7%A5%E7%A8%8B%E4%B8%AD%E7%BC%96%E5%86%99%E4%BB%A3%E7%A0%81/" title="åœ¨mavenå·¥ç¨‹ä¸­ç¼–å†™ä»£ç ">åœ¨mavenå·¥ç¨‹ä¸­ç¼–å†™ä»£ç </a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="åˆ†ç±»äº è®¡ç®—æœºå­¦ç§‘">è®¡ç®—æœºå­¦ç§‘</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java/" title="åˆ†ç±»äº java">java</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java/data-structures-and-algorithms/" title="åˆ†ç±»äº æ•°æ®ç»“æ„ä¸ç®—æ³•">æ•°æ®ç»“æ„ä¸ç®—æ³•</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java/data-structures-and-algorithms/%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/" title="åˆ†ç±»äº äºŒå‰æœç´¢æ ‘">äºŒå‰æœç´¢æ ‘</a></div><span><a href="/computer-science/java/data-structures-and-algorithms/%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E7%9A%84%E6%A6%82%E8%BF%B0/" title="äºŒå‰æœç´¢æ ‘çš„æ¦‚è¿°">äºŒå‰æœç´¢æ ‘çš„æ¦‚è¿°</a></span></li></ul></div></div><div class="status"><div class="copyright">&copy; 2010 â€“ <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">D @ D çš„ä¸ªäººåšå®¢</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="ç«™ç‚¹æ€»å­—æ•°">2.8m å­—</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">42:20</span></div><div class="powered-by">åŸºäº <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"computer-science/java/spring/springcloud/springcloud-httpå®¢æˆ·ç«¯Feign/",favicon:{show:"ï¼ˆâ—Â´3ï½€â—ï¼‰ã‚„ã‚Œã‚„ã‚Œã ãœ",hide:"(Â´Ğ”ï½€)å¤§å¤‰ã ï¼"},search:{placeholder:"æ–‡ç« æœç´¢",empty:"å…³äº ã€Œ ${query} ã€ï¼Œä»€ä¹ˆä¹Ÿæ²¡æœåˆ°",stats:"${time} ms å†…æ‰¾åˆ° ${hits} æ¡ç»“æœ"},valine:!0,fancybox:!0,copyright:'å¤åˆ¶æˆåŠŸï¼Œè½¬è½½è¯·éµå®ˆ <i class="ic i-creative-commons"></i>BY-NC-SA åè®®ã€‚',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="https://cdn.jsdelivr.net/gh/PigPigLetsGo/live2d-widget@latest/autoload.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>