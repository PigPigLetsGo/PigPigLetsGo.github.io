{
    "version": "https://jsonfeed.org/version/1",
    "title": "homepage â€¢ All posts by \"docker\" category",
    "description": "æ¬¢è¿æ¥æˆ‘çš„åšå®¢ç©ºé—´",
    "home_page_url": "https://pigpigletsgo.github.io/homepage",
    "items": [
        {
            "id": "https://pigpigletsgo.github.io/homepage/2024/03/18/computer-science/java/spring/springcloud/Docker/docker%E5%AE%B9%E5%99%A8%E4%B8%80%E9%94%AE%E5%90%AF%E5%8A%A8%E5%92%8C%E5%85%B3%E9%97%AD/",
            "url": "https://pigpigletsgo.github.io/homepage/2024/03/18/computer-science/java/spring/springcloud/Docker/docker%E5%AE%B9%E5%99%A8%E4%B8%80%E9%94%AE%E5%90%AF%E5%8A%A8%E5%92%8C%E5%85%B3%E9%97%AD/",
            "title": "dockerä¸€é”®å¯åŠ¨å’Œå…³é—­ï¼Œåˆ é™¤æ‰€æœ‰é•œåƒ",
            "date_published": "2024-03-18T03:19:50.311Z",
            "content_html": "<p>docker ä¸­ å¯åŠ¨æ‰€æœ‰çš„å®¹å™¨å‘½ä»¤</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> start <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">docker</span> <span class=\"token function\">ps</span> <span class=\"token parameter variable\">-a</span> <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> <span class=\"token string\">'&#123; print $1&#125;'</span> <span class=\"token operator\">|</span> <span class=\"token function\">tail</span> <span class=\"token parameter variable\">-n</span> +2<span class=\"token variable\">)</span></span></pre></td></tr></table></figure><p>docker ä¸­    å…³é—­æ‰€æœ‰çš„å®¹å™¨å‘½ä»¤</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> stop <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">docker</span> <span class=\"token function\">ps</span> <span class=\"token parameter variable\">-a</span> <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> <span class=\"token string\">'&#123; print $1&#125;'</span> <span class=\"token operator\">|</span> <span class=\"token function\">tail</span> <span class=\"token parameter variable\">-n</span> +2<span class=\"token variable\">)</span></span></pre></td></tr></table></figure><p>docker ä¸­ åˆ é™¤æ‰€æœ‰é•œåƒ</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> rmi <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">docker</span> images <span class=\"token parameter variable\">-q</span><span class=\"token variable\">)</span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># å¦‚æœåˆ é™¤ä¸æˆåŠŸä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">docker</span> rmi <span class=\"token parameter variable\">-f</span> <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">docker</span> images <span class=\"token parameter variable\">-q</span><span class=\"token variable\">)</span></span></pre></td></tr></table></figure>",
            "tags": [
                "è®¡ç®—æœºå­¦ç§‘",
                "çŸ¥è¯†ç‚¹",
                "springcloud",
                "Docker"
            ]
        },
        {
            "id": "https://pigpigletsgo.github.io/homepage/2024/03/18/computer-science/java/spring/springcloud/Docker/%E8%87%AA%E5%8A%A8%E5%90%AF%E5%8A%A8docker%E7%9A%84%E6%9F%90%E4%BA%9B%E5%AE%B9%E5%99%A8/",
            "url": "https://pigpigletsgo.github.io/homepage/2024/03/18/computer-science/java/spring/springcloud/Docker/%E8%87%AA%E5%8A%A8%E5%90%AF%E5%8A%A8docker%E7%9A%84%E6%9F%90%E4%BA%9B%E5%AE%B9%E5%99%A8/",
            "title": "è‡ªåŠ¨å¯åŠ¨dockeré‡Œé¢çš„æŸäº›å®¹å™¨",
            "date_published": "2024-03-18T03:18:42.293Z",
            "content_html": "<p>ä½¿ç”¨å¦‚ä¸‹æŒ‡ä»¤ï¼š</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> update mysql <span class=\"token parameter variable\">--restart</span><span class=\"token operator\">=</span>always</pre></td></tr></table></figure>",
            "tags": [
                "è®¡ç®—æœºå­¦ç§‘",
                "çŸ¥è¯†ç‚¹",
                "springcloud",
                "Docker"
            ]
        },
        {
            "id": "https://pigpigletsgo.github.io/homepage/2024/01/24/computer-science/java/spring/springcloud/Docker/springcloud-docker/",
            "url": "https://pigpigletsgo.github.io/homepage/2024/01/24/computer-science/java/spring/springcloud/Docker/springcloud-docker/",
            "title": "ä¸ƒã€Docker",
            "date_published": "2024-01-24T10:48:46.158Z",
            "content_html": "<h2 id=\"ä¸ƒ-docker\"><a class=\"anchor\" href=\"#ä¸ƒ-docker\">#</a> ä¸ƒã€DockerğŸ„</h2>\n<p>æŸ¥çœ‹ docker å®‰è£…ï¼š<a href=\"./Docker/Centos7%E5%AE%89%E8%A3%85Docker.md\">Docker å®‰è£…</a>.</p>\n<ul>\n<li>åˆå§‹ Docker</li>\n<li>Docker çš„åŸºæœ¬æ“ä½œ</li>\n<li>Dockerfile è‡ªå®šä¹‰é•œåƒ</li>\n<li>Docker-Compose</li>\n<li>Docker é•œåƒæœåŠ¡</li>\n</ul>\n<h3 id=\"71-åˆå§‹docker\"><a class=\"anchor\" href=\"#71-åˆå§‹docker\">#</a> 7.1ã€åˆå§‹ DockerğŸŒ³</h3>\n<ul>\n<li>ä»€ä¹ˆæ˜¯ Docker</li>\n<li>Docker å’Œè™šæ‹Ÿæœºçš„åŒºåˆ«</li>\n<li>Docker æ¶æ„</li>\n<li>å®‰è£… Docker</li>\n</ul>\n<blockquote>\n<p>é¡¹ç›®éƒ¨ç½²çš„é—®é¢˜</p>\n<ul>\n<li>ä¾èµ–å…³ç³»å¤æ‚ï¼Œå®¹æ˜“å‡ºç°å…¼å®¹æ€§é—®é¢˜</li>\n<li>å¼€å‘ï¼Œæµ‹è¯•ï¼Œç”Ÿäº§ç¯å¢ƒæœ‰å·®å¼‚</li>\n</ul>\n<p>å¤§å‹é¡¹ç›®ç»„ä»¶è¾ƒå¤šï¼Œè¿è¡Œç¯å¢ƒä¹Ÿè¾ƒä¸ºå¤æ‚ï¼Œéƒ¨ç½²æ—¶ä¼šç¢°åˆ°ä¸€äº›é—®é¢˜ï¼š</p>\n<p>æ‰€æœ‰çš„åº”è¯¥éƒ½ä¼šéƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šï¼Œè€Œå¤§å¤šæ•°æœåŠ¡éƒ½ä¼šé‡‡ç”¨ Linux æ“ä½œç³»ç»Ÿï¼Œåœ¨å®‰è£…åˆ° Linux æ“ä½œç³»ç»Ÿä¹‹å‰è¦åšä¸€äº›å‡†å¤‡å·¥ä½œã€‚å› ä¸ºè¿™äº›åº”ç”¨éƒ½ä¼šæœ‰è‡ªå·±æ‰€éœ€è¦çš„ä¾èµ–å’Œå‡½æ•°åº“ã€‚è¿™æ—¶å¦‚æ­¤å¤æ‚çš„ä¾èµ–å…³ç³»å¾ˆå®¹æ˜“å‡ºç°ï¼Œå…¼å®¹æ€§é—®é¢˜ï¼ŒåºŸäº†åŠå¤©åŠ²æŠŠè¿™äº›é—®é¢˜éƒ½è§£å†³äº†ä½ ä¼šå‘ç°è¿™åªæ˜¯å¼€å§‹æå®šäº†å¼€å‘ç¯å¢ƒï¼Œè¿˜æœ‰æµ‹è¯•ç¯å¢ƒï¼Œç”Ÿäº§ç¯å¢ƒï¼Œé¢„å‘ç¯å¢ƒç­‰ç­‰ã€‚æœ€å¯æ€•çš„æ˜¯è¿™äº›ç¯å¢ƒå®ƒä»¬çš„ Linux æ“ä½œç³»ç»Ÿæœ‰å¯èƒ½ä¸åŒ</p>\n</blockquote>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310080937247.png\" alt=\"image-20231008093734523\" /></p>\n<h4 id=\"711-dockerå¦‚ä½•è§£å†³ä¾èµ–çš„å…¼å®¹é—®é¢˜\"><a class=\"anchor\" href=\"#711-dockerå¦‚ä½•è§£å†³ä¾èµ–çš„å…¼å®¹é—®é¢˜\">#</a> 7.1.1ã€Docker å¦‚ä½•è§£å†³ä¾èµ–çš„å…¼å®¹é—®é¢˜ï¼ŸğŸŒ²</h4>\n<ul>\n<li>å°†åº”ç”¨çš„ Libs (å‡½æ•°åº“)ï¼ŒDeps (ä¾èµ–)ï¼Œé…ç½®ä¸åº”ç”¨ä¸€èµ·æ‰“åŒ…</li>\n<li>å°†æ¯ä¸ªåº”è¯¥æ”¾åˆ°ä¸€ä¸ªéš”ç¦»<strong>å®¹å™¨</strong>å»è¿è¡Œï¼Œé¿å…äº’ç›¸å¹²æ‰°</li>\n</ul>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310080942590.png\" alt=\"image-20231008094222259\" /></p>\n<p>ç°åœ¨ä¸ç”¨è€ƒè™‘ä¾èµ–çš„é—®é¢˜äº†ï¼Œä½†æ˜¯è¿™åªæ˜¯è§£å†³äº†æ··ä¹±ä¾èµ–çš„é—®é¢˜ã€‚æœ‰äº† Docker ä¸ç”¨å»ç®¡äº†åº”ç”¨ç¨‹åºéšæ—¶å¯ä»¥è¿è¡Œä½†æ˜¯ä»…é™äºåŒä¸€ä¸ªæ“ä½œç³»ç»Ÿã€‚å› ä¸ºåœ¨æ‰“åŒ…è¿™ä¸ªåº”ç”¨æ—¶è‚¯å®šä¼šåŸºäºæŸç§æ“ä½œç³»ç»Ÿæ‰“åŒ…å§ï¼Œæ¯”å¦‚è¿™ä¸ªåº”è¯¥æ˜¯ ubuntu ç‰ˆæœ¬çš„é‚£ä¹ˆå®ƒçš„å‡½æ•°åº“å’Œä¾èµ–è‚¯å®šä¹Ÿæ˜¯ ubuntu ç‰ˆæœ¬çš„ã€‚æŠŠè¿™ä¸ªæ‰“åŒ…å¥½çš„ç¨‹åºæ”¾åˆ° CentOs ä¸Šè‚¯å®šä¸èƒ½è¿è¡Œï¼Œé‚£ä¹ˆ Docker æ˜¯æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜çš„å‘¢ï¼Ÿ</p>\n<p>è¦æƒ³çŸ¥é“ Docker å¦‚ä½•è·¨ç³»ç»Ÿè¿è¡Œï¼Œæˆ‘ä»¬å¾—å…ˆçŸ¥é“æ“ä½œç³»ç»Ÿçš„ç»“æ„</p>\n<h4 id=\"712-åŸºæœ¬äº†è§£æ“ä½œç³»ç»Ÿç»“æ„\"><a class=\"anchor\" href=\"#712-åŸºæœ¬äº†è§£æ“ä½œç³»ç»Ÿç»“æ„\">#</a> 7.1.2ã€åŸºæœ¬äº†è§£æ“ä½œç³»ç»Ÿç»“æ„ğŸŒ²</h4>\n<p>ä»¥ ubuntu ä¸ºä¾‹è®²è®²æ“ä½œç³»ç»Ÿç»“æ„</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310080947687.png\" alt=\"image-20231008094755054\" /></p>\n<p>æ‰€æœ‰çš„ Linux æ“ä½œç³»ç»Ÿéƒ½å¯ä»¥åˆ†ä¸ºä¸¤å±‚ï¼š</p>\n<p>ä¸€å±‚æ˜¯å¤§å®¶å…±äº«çš„å†…æ ¸ (Linux å†…æ ¸)</p>\n<p>è€ŒåŒºåˆ«åœ¨äºä¸åŒæ“ä½œç³»ç»Ÿä¹‹é—´å®ƒä»¬çš„ä¸Šå±‚ç³»ç»Ÿåº”ç”¨ä¸åŒ</p>\n<blockquote>\n<p>é‚£å†…æ ¸åšä»€ä¹ˆçš„å‘¢ï¼Ÿ</p>\n<p>å†…æ ¸ä¸ç¡¬ä»¶äº¤äº’ï¼Œæä¾›æ“ä½œç¡¬ä»¶çš„æŒ‡ä»¤</p>\n</blockquote>\n<blockquote>\n<p>ç³»ç»Ÿåº”ç”¨åšä»€ä¹ˆçš„å‘¢ï¼Ÿ</p>\n<p>å°†å†…æ ¸çš„æŒ‡ä»¤è¿›è¡Œä¸€ä¸ªç»„è£…ï¼Œå†å°è£…å½¢æˆå‡½æ•°ï¼ŒåŒºåŸŸå¤šçš„å‡½æ•°å˜æˆå‡½æ•°åº“ï¼Œç¨‹åºå‘˜å¯ä»¥åŸºäºè¿™äº›å‡½æ•°åº“è¿›è¡Œå¼€å‘ã€‚ç¨‹åºè°ƒç”¨å‡½æ•°åº“ï¼Œå‡½æ•°åº“è°ƒç”¨å†…æ ¸æŒ‡ä»¤ï¼ŒæŒ‡ä»¤è°ƒç”¨è®¡ç®—æœºç¡¬ä»¶ä»è€Œå®ç°åº”ç”¨çš„æ‰§è¡Œ</p>\n</blockquote>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310080957223.png\" alt=\"image-20231008095659859\" /></p>\n<p>è¿™å°±æ˜¯ Linux ç³»ç»Ÿçš„åŸºæœ¬ç»“æ„ä»¥åŠåº”ç”¨çš„æ‰§è¡ŒåŸç†äº†</p>\n<p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼šä¸ºä»€ä¹ˆ Ubuntu ç³»ç»Ÿä¸Šçš„åº”ç”¨ä¸ºä»€ä¹ˆä¸èƒ½åœ¨ CentOs ä¸Šè¿è¡Œå‘¢ï¼Ÿ</p>\n<p>Ubuntu å’Œ CentOS éƒ½æ˜¯åŸºäº Linux å†…æ ¸ï¼Œåªæ˜¯ç³»ç»Ÿåº”ç”¨ä¸åŒï¼Œæä¾›çš„å‡½æ•°åº“æœ‰å·®å¼‚</p>\n<p>è¿™æ—¶æŠŠ Ubuntu ä¸Šçš„åº”ç”¨æ¯”å¦‚è¯´ mysql ç»™å®ƒè¿ç§»åˆ° CentOS ä¸Šå°è¯•å»æ‰§è¡Œå½“å®ƒå»è°ƒç”¨ä¸€ä¸ªå‡½æ•°åº“æ—¶ï¼Œå› ä¸ºä»£ç æ˜¯å†™æ­»çš„è€Œå‘ç°è¿™ä¸ªå‡½æ•°åº“åœ¨ centos ä¸Šæ ¹æœ¬ä¸å­˜åœ¨æˆ–è€…åå­—ä¸ä¸€æ ·é‚£ä¹ˆç¨‹åºå°±ä¼šæŠ¥é”™ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ åº”ç”¨ä¸èƒ½è·¨ç³»ç»Ÿè¿è¡Œçš„åŸå› </p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310080958994.png\" alt=\"image-20231008095848662\" /></p>\n<p>é‚£é’ˆå¯¹ä¸Šé¢çš„é—®é¢˜ Docker å¹²äº†ä»€ä¹ˆäº‹å„¿å‘¢ï¼Ÿ</p>\n<ul>\n<li>Docker å°†ç”¨æˆ·ç¨‹åºä¸æ‰€éœ€è¦è°ƒç”¨çš„ç³»ç»Ÿ (æ¯”å¦‚ Ubuntu) å‡½æ•°åº“ä¸€èµ·æ‰“åŒ…</li>\n<li>Docker è¿è¡Œåˆ°ä¸åŒæ“ä½œç³»ç»Ÿæ—¶ï¼Œç›´æ¥åŸºäºæ‰“åŒ…çš„åº“å‡½æ•°ï¼Œå€ŸåŠ©äºæ“ä½œç³»ç»Ÿçš„ Linux å†…æ ¸æ¥è¿è¡Œã€‚</li>\n</ul>\n<p>å°†å½“å‰ç³»ç»Ÿçš„å‡½æ•°åº“ä¸åº”ç”¨ä¸€èµ·æ‰“åŒ…é‚£ä¹ˆéšä¾¿æ”¾åˆ°ä»»ä½•çš„ Linux æ“ä½œç³»ç»Ÿä¸Šåªè¦æ˜¯ Linux å†…æ ¸ï¼Œåº”ç”¨åœ¨æ‰§è¡Œçš„æ—¶å€™è°ƒç”¨æ‰“åŒ…å¥½çš„å‡½æ•°åº“ï¼Œè€Œè¿™ä¸ªå‡½æ•°åº“ç›´æ¥è°ƒç”¨æ“ä½œç³»ç»Ÿçš„å†…æ ¸è€Œå†…æ ¸ç›´æ¥è®¿é—®ç¡¬ä»¶è¿™ä¸ªè°ƒç”¨å°±å®Œæˆäº†ã€‚</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310081059529.png\" alt=\"image-20231008105934407\" /></p>\n<p>è‡³æ­¤ï¼ŒDocker å°±è§£å†³äº†è·¨ç³»ç»Ÿçš„é—®é¢˜äº†ï¼Œå¯ä»¥ç†è§£ä¸º Docker æ‰“åŒ…å¥½çš„åº”ç”¨å¯ä»¥è¿è¡Œåœ¨ä»»ä½•çš„ Linux å†…æ ¸çš„æ“ä½œç³»ç»Ÿä¸Š</p>\n<blockquote>\n<p><strong>Docker</strong>ï¼š</p>\n<p>Docker å¦‚ä½•è§£å†³å¤§å‹é¡¹ç›®ä»¥æ¥å…³ç³»å¤æ‚ï¼Œä¸åŒç»„ä»¶ä¾èµ–çš„å…¼å®¹æ€§é—®é¢˜ï¼Ÿ</p>\n<ul>\n<li>Docker å…è®¸å¼€å‘ä¸­å°†åº”ç”¨ï¼Œä¾èµ–ï¼Œå‡½æ•°åº“ï¼Œé…ç½®ä¸€èµ· &lt;font color='red'&gt; æ‰“åŒ… &lt;/font&gt;ï¼Œå½¢æˆå¯ç§»æ¤é•œåƒ</li>\n<li>Docker åº”ç”¨è¿è¡Œåœ¨å®¹å™¨ä¸­ï¼Œä½¿ç”¨æ²™ç®±æœºåˆ¶ï¼Œç›¸äº’ &lt;font color='red'&gt; éš”ç¦» &lt;/font&gt;.</li>\n</ul>\n<p>Docker å¦‚ä½•è§£å†³å¼€å‘ï¼Œæµ‹è¯•ï¼Œç”Ÿäº§ç¯å¢ƒæœ‰å·®å¼‚çš„é—®é¢˜</p>\n<ul>\n<li>Docker é•œåƒä¸­åŒ…å«å®Œæ•´è¿è¡Œç¯å¢ƒï¼ŒåŒ…æ‹¬ç³»ç»Ÿå‡½æ•°åº“ï¼Œä»…ä¾èµ–ç³»ç»Ÿçš„ Linux å†…æ ¸ï¼Œå› æ­¤å¯ä»¥åœ¨ä»»æ„ Linux æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œ</li>\n</ul>\n</blockquote>\n<blockquote>\n<p>æ€»ç»“ï¼š</p>\n<p>Docker æ˜¯ä¸€ä¸ªå¿«é€Ÿäº¤ä»˜åº”ç”¨ï¼Œè¿è¡Œåº”ç”¨çš„æŠ€æœ¯ï¼š</p>\n<ol>\n<li>å¯ä»¥å°†ç¨‹åºåŠå…¶ä¾èµ–ï¼Œè¿è¡Œç¯å¢ƒä¸€èµ·æ‰“åŒ…ä¸ºä¸€ä¸ªé•œåƒï¼Œå¯ä»¥è¿ç§»åˆ°ä»»æ„ Linux æ“ä½œç³»ç»Ÿ</li>\n<li>è¿è¡Œæ—¶åˆ©ç”¨æ²™ç®±æœºåˆ¶å½¢æˆéš”ç¦»å®¹å™¨ï¼Œå„ä¸ªåº”ç”¨äº’ä¸å¹²æ‰°</li>\n<li>å¯åŠ¨ï¼Œç§»é™¤éƒ½å¯ä»¥é€šè¿‡ä¸€è¡Œå‘½ä»¤å®Œæˆï¼Œæ–¹ä¾¿å¿«æ·</li>\n</ol>\n</blockquote>\n<h3 id=\"72-dockerä¸è™šæ‹Ÿæœº\"><a class=\"anchor\" href=\"#72-dockerä¸è™šæ‹Ÿæœº\">#</a> 7.2ã€Docker ä¸è™šæ‹ŸæœºğŸŒ³</h3>\n<p>æˆ‘ä»¬çŸ¥é“ Docker å¯ä»¥å®ç°ä¸€ä¸ªåº”ç”¨å¯ä»¥åœ¨ä¸åŒçš„ Linux æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œå’Œéƒ¨ç½²ã€‚è€Œè™šæ‹Ÿæœºä¹Ÿå¯ä»¥è¾¾åˆ°ç±»ä¼¼çš„æ•ˆæœï¼Œé‚£å®ƒä»¬ä¸¤ä¸ªçš„å®ç°åˆæœ‰ä»€ä¹ˆæ ·çš„å·®åˆ«å‘¢</p>\n<p>é¦–å…ˆå›é¡¾ä¸‹ Docker çš„å®ç°åŸç†ï¼ŒDocker ä¼šæŠŠåº”ç”¨åŠå…¶æ‰€éœ€è¦çš„ä¾èµ–ï¼Œå‡½æ•°åº“ï¼Œç”šè‡³äºæ“ä½œç³»ç»Ÿå‡½æ•°åº“ä¹Ÿä¸€èµ·æ‰“åŒ…ï¼Œè¿™æ · å½“åº”ç”¨è¿è¡Œæ—¶å¯ä»¥ç›´æ¥è°ƒç”¨æœ¬åœ°å‡½æ•°åº“è€Œåä¸æ“ä½œç³»ç»Ÿçš„å†…æ ¸è¿›è¡Œäº¤äº’ã€‚è¿™æ ·å°±ä¸ç”¨å…³å¿ƒæ“ä½œç³»ç»Ÿæ˜¯ä»€ä¹ˆç³»ç»Ÿäº†ï¼Œäºæ˜¯å°±èƒ½å®ç°è·¨ç³»ç»Ÿè¿è¡Œäº†</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310081112122.png\" alt=\"image-20231008111240399\" /></p>\n<p>é‚£è™šæ‹Ÿæœºå‘¢ï¼Ÿ</p>\n<p>å®ƒæ€ä¹ˆå®ç°åœ¨ä¸€ä¸ªç³»ç»Ÿé‡Œè£…äº†å¦ä¸€ä¸ªç³»ç»Ÿå‘¢ã€‚å®ƒæ˜¯ç”¨äº†ä¸€ä¸ªåä¸ºï¼šHyperisor çš„æŠ€æœ¯ï¼Œå¯ä»¥æ¨¡æ‹Ÿå‡ºä¸€ä¸ªè®¡ç®—æœºçš„å„ç§å„æ ·çš„ç¡¬ä»¶æ¯”å¦‚ CPUï¼Œå†…å­˜ç­‰ç­‰ï¼Œç„¶ååœ¨è¿™ä¸ªæ¨¡æ‹Ÿå‡ºçš„è®¡ç®—æœºä¸Šå°±å¯ä»¥å»å®‰è£…ä»»æ„ä½ æƒ³è¦çš„æ“ä½œç³»ç»Ÿäº†ï¼Œè€Œæ“ä½œç³»ç»Ÿåˆå¯ä»¥å®‰è£…ä»»æ„é€‚åˆçš„ä¾èµ–ï¼Œå‡½æ•°åº“ä»¥åŠåº”ç”¨ï¼Œé‚£è¿™æ ·å®ƒä¸å°±å®ç°è·¨ç³»ç»Ÿçš„éƒ¨ç½²äº†å—</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310081116627.png\" alt=\"image-20231008111617105\" /></p>\n<p>è™šæ‹Ÿæœºæ˜¯åœ¨ä¸€ä¸ªç³»ç»Ÿé‡Œè£…äº†å¦å¤–ä¸€ä¸ªç³»ç»Ÿï¼Œæ‰€ä»¥å½“åº”ç”¨æ‰§è¡Œæ—¶ï¼Œå®ƒä¼šä»¥ä¸ºè‡ªå·±åœ¨ä¸€å°çœŸå®çš„ç”µè„‘ä¸Šã€‚å› æ­¤å®ƒä¼šå…ˆè°ƒç”¨è™šæ‹Ÿæœºå†…ç½®çš„æ“ä½œç³»ç»Ÿè€Œå®ƒåœ¨ä¸ Hypervisor è¿›è¡Œäº¤äº’ï¼Œç„¶åå†æŠŠä¿¡æ¯ä¼ é€’ç»™å¤–éƒ¨çš„æ“ä½œç³»ç»Ÿï¼Œå¤–éƒ¨æ“ä½œç³»ç»Ÿå†å»è°ƒç”¨è®¡ç®—æœºç¡¬ä»¶ï¼Œäºæ˜¯åº”ç”¨æ‰§è¡Œå°±å®Œæˆäº†ã€‚</p>\n<p>å¯ä»¥çœ‹åˆ°è™šæ‹Ÿæœºå¯åŠ¨åº”ç”¨ç»è¿‡äº†å±‚å±‚ä¼ é€’æ‰€ä»¥æ€§èƒ½æ˜¯æ¯”è¾ƒå·®çš„</p>\n<p>&lt;center&gt; ä¸¤è€…ä¹‹é—´çš„å·®å¼‚ &lt;/center&gt;</p>\n<table>\n<thead>\n<tr>\n<th>ç‰¹æ€§</th>\n<th>Docker</th>\n<th>è™šæ‹Ÿæœº</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>æ€§èƒ½</td>\n<td>æ¥è¿‘åŸç”Ÿ</td>\n<td>æ€§èƒ½è¾ƒå·®</td>\n</tr>\n<tr>\n<td>ç¡¬ç›˜å ç”¨</td>\n<td>ä¸€èˆ¬ä¸º MB</td>\n<td>ä¸€èˆ¬ä¸º GB</td>\n</tr>\n<tr>\n<td>å¯åŠ¨</td>\n<td>ç§’çº§</td>\n<td>åˆ†é’Ÿçº§</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p><strong>æ€»ç»“</strong>ï¼š</p>\n<p>Docker å’Œè™šæ‹Ÿæœºçš„å·®å¼‚ï¼š</p>\n<ul>\n<li>Docker æ˜¯ä¸€ä¸ªç³»ç»Ÿè¿›ç¨‹ï¼›è™šæ‹Ÿæœºæ˜¯åœ¨æ“ä½œç³»ç»Ÿä¸­çš„æ“ä½œç³»ç»Ÿ</li>\n<li>Docker ä½“ç§¯å°ï¼Œå¯åŠ¨é€Ÿåº¦å¿«ï¼Œæ€§èƒ½å¥½ï¼›è™šæ‹Ÿæœºä½“ç§¯å¤§ï¼Œå¯åŠ¨é€Ÿåº¦æ…¢ï¼Œæ€§èƒ½ä¸€èˆ¬</li>\n</ul>\n</blockquote>\n<h3 id=\"72-é•œåƒå’Œå®¹å™¨\"><a class=\"anchor\" href=\"#72-é•œåƒå’Œå®¹å™¨\">#</a> 7.2ã€é•œåƒå’Œå®¹å™¨ğŸŒ³</h3>\n<p><strong>é•œåƒ (Image)</strong>ï¼šDocker å°†åº”ç”¨ç¨‹åºåŠå…¶æ‰€éœ€çš„ä¾èµ–ï¼Œå‡½æ•°åº“ï¼Œç¯å¢ƒï¼Œé…ç½®ç­‰æ–‡ä»¶æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œç§°ä¸ºé•œåƒã€‚</p>\n<p>ç®€å•å¯ä»¥ç†è§£ä¸ºï¼Œé•œåƒå°±æ˜¯ä¸€ä¸ªæ–‡ä»¶ã€‚</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310081127213.png\" alt=\"image-20231008112658929\" /></p>\n<p><strong>å®¹å™¨ (Container)</strong>ï¼šé•œåƒä¸­çš„åº”ç”¨ç¨‹åºè¿è¡Œåå½¢æˆçš„è¿›ç¨‹å°±æ˜¯ &lt;font color='red'&gt; å®¹å™¨ &lt;/font&gt;ï¼Œåªæ˜¯ Docker ä¼šç»™å®¹å™¨åšéš”ç¦»ï¼Œå¯¹å¤–ä¸å¯è§ã€‚</p>\n<p>ç®€å•å¯ä»¥ç†è§£ä¸ºï¼ŒæŠŠè¿™ä¸ª mysql åº”ç”¨è¿è¡Œèµ·æ¥å½¢æˆçš„è¿™ä¸ªè¿›ç¨‹å°±æ˜¯å®¹å™¨ï¼Œåªä¸è¿‡åœ¨ Docker é‡Œé¢å®¹å™¨è¿˜è¦åšéš”ç¦»</p>\n<p>ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥å°†å®¹å™¨çœ‹åšæ˜¯ä¸€ä¸ªå°ç›’å­ï¼Œè¿™ä¸ªç›’å­é‡Œé¢å°†æ¥ä¼šåˆ©ç”¨ Linux æ‰‹æ®µç»™å®ƒå½¢æˆéš”ç¦»ç©ºé—´ã€‚é‡Œé¢ä¼šæœ‰è‡ªå·±ç‹¬ç«‹çš„ CPU èµ„æºï¼Œå†…å­˜èµ„æºï¼Œç”šè‡³äºè¿˜æœ‰ç‹¬ç«‹çš„æ–‡ä»¶ç³»ç»Ÿã€‚é‚£ä¹ˆå› æ­¤åœ¨è¿™ä¸ªå®¹å™¨å†…è¿è¡Œçš„è¿™ä¸ªè¿›ç¨‹ï¼Œå®ƒå°±ä¼šä»¥ä¸ºè‡ªå·±æ˜¯åœ¨è¿™å°è®¡ç®—æœºä¸Šçš„å”¯ä¸€è¿›ç¨‹äº†ä»è€Œèµ·åˆ°ä¸€ç§éš”ç¦»çš„æ•ˆæœï¼Œå°†æ¥ mysql é•œåƒä¸ç®¡æ˜¯å¯åŠ¨ä¸€ä¸ªå®¹å™¨è¿˜æ˜¯å¤šä¸ªå®¹å™¨ï¼Œå®ƒä»¬ä¹‹é—´éƒ½æ˜¯ç›¸äº’éš”ç¦»çš„ï¼Œå½“å®¹å™¨è¿è¡Œçš„è¿‡ç¨‹ä¸­å¿…ç„¶ä¼šåšæ•°æ®è¯»å†™çš„æ“ä½œã€‚æ¯”æ–¹è¯´ mysql è¦å»å­˜æ•°æ®ï¼Œå­˜å‚¨åˆ° data ç›®å½•ä¸­ã€‚ä½†æ˜¯ä¸èƒ½å°†æ•°æ®å†™åˆ°é•œåƒçš„ data ç›®å½•ä¸­å»ã€‚é•œåƒéƒ½æ˜¯åªè¯»çš„</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310081248648.png\" alt=\"image-20231008124821994\" /></p>\n<h3 id=\"73-å…±äº«é•œåƒ\"><a class=\"anchor\" href=\"#73-å…±äº«é•œåƒ\">#</a> 7.3ã€å…±äº«é•œåƒğŸŒ³</h3>\n<h4 id=\"731-dockerå’Œdockerhub\"><a class=\"anchor\" href=\"#731-dockerå’Œdockerhub\">#</a> 7.3.1ã€Docker å’Œ DockerHubğŸŒ²</h4>\n<ul>\n<li>DockerHubï¼šæ˜¯ä¸€ä¸ª Docker é•œåƒçš„æ‰˜ç®¡å¹³å°ã€‚è¿™æ ·çš„å¹³å°ç§°ä¸º Docker Registryã€‚</li>\n</ul>\n<p>ç¨‹åºå‘˜å¯ä»¥åˆ©ç”¨ Docker æä¾›çš„ä¸€äº›å‘½ä»¤å»å®Œæˆé•œåƒçš„æ„å»ºï¼Œæ„å»ºå‡º mysqlï¼Œredis ç­‰ç­‰å„ç§å„æ ·çš„é•œåƒ</p>\n<p>ç„¶åæŠŠè¿™äº›é•œåƒä¸Šä¼ åˆ° DockerHub æœåŠ¡å™¨ä¸Š</p>\n<ul>\n<li>å›½å†…ä¹Ÿæœ‰ç±»ä¼¼äº DockerHub çš„å…¬å¼€æœåŠ¡ï¼Œæ¯”å¦‚ ç½‘æ˜“äº‘é•œåƒæœåŠ¡ï¼Œé˜¿é‡Œäº‘é•œåƒåº“ç­‰ã€‚</li>\n<li>å¯ä»¥æ­å»ºç§æœ‰çš„äº‘æœåŠ¡</li>\n</ul>\n<p>è¿™äº›éƒ½å« Docker Registry</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310081254620.png\" alt=\"image-20231008125404165\" /></p>\n<p>æˆ‘ä»¬è¦æ€ä¹ˆåˆ©ç”¨ Docker å®Œæˆé•œåƒæ„å»ºæˆ–è€…æ˜¯ä»è¿œç«¯æ‹‰å–é•œåƒå‘¢åˆè¯¥æ€ä¹ˆå»è¿è¡Œå®¹å™¨å‘¢ï¼Ÿ</p>\n<p>è¿™å°±éœ€è¦äº†è§£ Docker çš„æ¶æ„äº†</p>\n<h3 id=\"74-dockeræ¶æ„\"><a class=\"anchor\" href=\"#74-dockeræ¶æ„\">#</a> 7.4ã€Docker æ¶æ„ğŸŒ³</h3>\n<p>Docker æ˜¯ä¸€ä¸ª CS æ¶æ„çš„ç¨‹åºï¼Œç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š</p>\n<ul>\n<li>\n<p>æœåŠ¡ç«¯ (server)ï¼šDocker å®ˆæŠ¤è¿›ç¨‹ï¼Œè´Ÿè´£å¤„ç† Docker æŒ‡ä»¤ï¼Œç®¡ç†é•œåƒï¼Œå®¹å™¨ç­‰</p>\n<p>è´Ÿè´£æ¥æ”¶ç”¨æˆ·æŒ‡ä»¤å®Œæˆé•œåƒå’Œå®¹å™¨çš„å„ç§å„æ ·çš„æ“ä½œï¼Œä¸ç®¡æ˜¯æ„å»ºé•œåƒè¿˜æ˜¯ä»è¿œç«¯æ‹‰å–é•œåƒè¿˜æ˜¯è¿è¡Œå®¹å™¨éƒ½æ˜¯ç”± server ç«¯æ¥å®Œæˆçš„ ï¼Œé‚£è°ç»™ server ç«¯ä¸‹æŒ‡ä»¤å‘¢ï¼Ÿè‡ªç„¶å°±æ˜¯ client ç«¯äº†</p>\n</li>\n<li>\n<p>å®¢æˆ·ç«¯ (client)ï¼šé€šè¿‡å‘½ä»¤æˆ– RestAPI å‘ Docker æœåŠ¡ç«¯å‘é€æŒ‡ä»¤ã€‚å¯ä»¥åœ¨æœ¬åœ°æˆ–è¿œç¨‹å‘æœåŠ¡ç«¯å‘é€æŒ‡ä»¤ã€‚</p>\n<p>è¿™ä¸ªè¦çœ‹åœ¨å“ªå‘é€æŒ‡ä»¤ï¼Œå¦‚æœæ˜¯åœ¨ Docker æ‰€åœ¨çš„æœºå™¨ä¸Šå°±ç›´æ¥ç”¨å‘½ä»¤å°±å¯ä»¥äº†ã€‚å¦‚æœæ˜¯è¿œç¨‹æ“ä½œ Docker å°±ç”¨ RestAPI å‘</p>\n</li>\n</ul>\n<p>æ¯”æ–¹è¯´å°±æ˜¯æœ¬åœ°å‘é€šè¿‡å‘½ä»¤ï¼šdokcer build å¯ä»¥æ„å»ºé•œåƒï¼Œè¿™ä¸ªå‘½ä»¤åˆ°è¾¾ docker server åä¼šè¢« docker çš„å®ˆæŠ¤è¿›ç¨‹ docker daemon æ¥æ”¶å’Œå¤„ç†ã€‚å®ƒä¼šåˆ©ç”¨ä½ æä¾›çš„æ•°æ®æ„å»ºæˆä¸€ä¸ªé•œåƒã€‚é™¤äº†è¿™ç§æ–¹å¼è·å–é•œåƒä»¥å¤–æˆ‘ä»¬è¿˜å¯ä»¥å» docker registry ä¸­æ‹‰å–é•œåƒï¼Œä½¿ç”¨å‘½ä»¤ï¼šdocker pull è¿™ä¸ªå‘½ä»¤å‘é€åˆ° docker server ç«¯å docker daemon å°±ä¼šå» docker registry ä¸­æ‹‰å–æˆ‘ä»¬æŒ‡å®šçš„é•œåƒäº†ã€‚ä¸‹é¢å°±æ˜¯è¿è¡Œé•œåƒåˆ›å»ºå®¹å™¨äº†ï¼Œä½¿ç”¨å‘½ä»¤ï¼šdocker run è¿™ä¸ªå‘½ä»¤å‘é€åˆ° docker server ç«¯å docker daemon å°±ä¼šå»å¸®åŠ©æˆ‘ä»¬å®Œæˆå®¹å™¨çš„åˆ›å»ºï¼Œç„¶åéƒ¨ç½²å°±å®Œæˆäº†ã€‚</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310081307167.png\" alt=\"image-20231008130700555\" /></p>\n<blockquote>\n<p><strong>æ€»ç»“</strong>ï¼š</p>\n<p>é•œåƒï¼š</p>\n<ul>\n<li>å°†åº”ç”¨ç¨‹åºåŠå…¶ä¾èµ–ï¼Œç¯å¢ƒï¼Œé…ç½®æ‰“åŒ…åœ¨ä¸€èµ·</li>\n</ul>\n<p>å®¹å™¨ï¼š</p>\n<ul>\n<li>é•œåƒè¿è¡Œèµ·æ¥å°±æ˜¯å®¹å™¨ï¼Œä¸€ä¸ªé•œåƒå¯ä»¥è¿è¡Œå¤šä¸ªå®¹å™¨</li>\n</ul>\n<p>Docker ç»“æ„ï¼š</p>\n<ul>\n<li>æœåŠ¡ç«¯ï¼šæ¥æ”¶å‘½ä»¤æˆ–è¿œç¨‹è¯·æ±‚ï¼Œæ“ä½œé•œåƒæˆ–å®¹å™¨</li>\n<li>å®¢æˆ·ç«¯ï¼šå‘é€å‘½ä»¤æˆ–è€…è¯·æ±‚åˆ° Docker æœåŠ¡ç«¯</li>\n</ul>\n<p>DockerHubï¼š</p>\n<ul>\n<li>ä¸€ä¸ªé•œåƒæ‰˜ç®¡çš„æœåŠ¡å™¨ï¼Œç±»ä¼¼çš„è¿˜æœ‰é˜¿é‡Œäº‘é•œåƒæœåŠ¡ï¼Œç»Ÿç§°ä¸º DockerRegistry</li>\n</ul>\n</blockquote>\n<h3 id=\"75-dockeråŸºæœ¬æ“ä½œ\"><a class=\"anchor\" href=\"#75-dockeråŸºæœ¬æ“ä½œ\">#</a> 7.5ã€Docker åŸºæœ¬æ“ä½œğŸŒ³</h3>\n<ul>\n<li>é•œåƒæ“ä½œ</li>\n<li>å®¹å™¨æ“ä½œ</li>\n<li>æ•°æ®å· (å®¹å™¨æ•°æ®ç®¡ç†)</li>\n</ul>\n<h4 id=\"751-é•œåƒç›¸å…³å‘½ä»¤\"><a class=\"anchor\" href=\"#751-é•œåƒç›¸å…³å‘½ä»¤\">#</a> 7.5.1ã€é•œåƒç›¸å…³å‘½ä»¤ğŸŒ²</h4>\n<ul>\n<li>\n<p>é•œåƒåç§°ä¸€èˆ¬åˆ†ä¸¤éƒ¨åˆ†ç»„æˆï¼š[repository]:[tag]</p>\n<p>tag ä¸€èˆ¬æŒ‡ ç‰ˆæœ¬</p>\n</li>\n<li>\n<p>åœ¨æ²¡æœ‰æŒ‡å®š tag æ—¶ï¼Œé»˜è®¤æ˜¯ latestï¼Œä»£è¡¨æœ€æ–°ç‰ˆæœ¬çš„é•œåƒ</p>\n</li>\n</ul>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310081604324.png\" alt=\"image-20231008160421226\" /></p>\n<h5 id=\"7511-é•œåƒæ“ä½œå‘½ä»¤\"><a class=\"anchor\" href=\"#7511-é•œåƒæ“ä½œå‘½ä»¤\">#</a> 7.5.1.1ã€é•œåƒæ“ä½œå‘½ä»¤ğŸŒ´</h5>\n<p>Docker é•œåƒçš„æ“ä½œæ— éå°±æ˜¯ CRUDï¼Œæ¯”å¦‚ local (æœ¬åœ°) å°±æ˜¯æœ¬åœ°çš„ Dockerï¼Œæˆ‘è¦åœ¨è¿™ä¸ªä¸Šé¢å®Œæˆé•œåƒçš„æ“ä½œã€‚æ¯”æ–¹è¯´è·å–é•œåƒï¼Œä¸€èˆ¬æœ‰ä¸¤ç§è·å–æ–¹æ³•ã€‚ç¬¬ä¸€ç§ä¸ºï¼šæœ¬åœ°è·å–ï¼Œç¬¬äºŒç§ä¸ºï¼šè¿œç«¯è·å–ã€‚</p>\n<p>æœ¬åœ°è·å–ï¼š</p>\n<p>éœ€è¦ä¸€ä¸ªåä¸º Dockerfile æ–‡ä»¶ï¼Œåˆ©ç”¨ docker build å‘½ä»¤æŠŠå®ƒæ„å»ºæˆä¸€ä¸ªé•œåƒï¼Œä½¿ç”¨å‘½ä»¤ï¼šdocker pull ä» docker registry çš„æœåŠ¡é‡Œæ‹‰å–é•œåƒï¼Œè·å–åˆ°é•œåƒæƒ³æŸ¥çœ‹ä¸‹å¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼šdocker imagesï¼Œåˆ é™¤é•œåƒä½¿ç”¨å‘½ä»¤ï¼šdocker rmi</p>\n<p>åˆ†äº«é•œåƒæœ‰ä¸¤ç§æ–¹å¼ï¼š</p>\n<p>æ–¹å¼ä¸€ï¼š</p>\n<p>ä½¿ç”¨å‘½ä»¤ docker push å°†é•œåƒæ¨é€åˆ°é•œåƒæœåŠ¡å™¨</p>\n<p>æ–¹å¼äºŒï¼š</p>\n<p>ä½¿ç”¨ docker save å°†é•œåƒæ‰“åŒ…ä¸º zip ç„¶åä½¿ç”¨ u ç›˜æ‹·è´ç»™åˆ«äººã€‚ä½¿ç”¨ docker load å°† zip åŠ è½½ä¸ºé•œåƒ</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310081612068.png\" alt=\"image-20231008161250665\" /></p>\n<h4 id=\"752-æ¡ˆä¾‹ä»dockerhubä¸­æ‹‰å–ä¸€ä¸ªnginxé•œåƒå¹¶æŸ¥çœ‹\"><a class=\"anchor\" href=\"#752-æ¡ˆä¾‹ä»dockerhubä¸­æ‹‰å–ä¸€ä¸ªnginxé•œåƒå¹¶æŸ¥çœ‹\">#</a> 7.5.2ã€æ¡ˆä¾‹ï¼Œä» DockerHub ä¸­æ‹‰å–ä¸€ä¸ª nginx é•œåƒå¹¶æŸ¥çœ‹ğŸŒ²</h4>\n<p><strong>éœ€æ±‚</strong>ï¼šä» DockerHub ä¸­æ‹‰å–ä¸€ä¸ª nginx é•œåƒå¹¶æŸ¥çœ‹</p>\n<p>1ã€é¦–å…ˆå»é•œåƒä»“åº“æœç´¢ nginx é•œåƒï¼Œæ¯”å¦‚<span class=\"exturl\" data-url=\"aHR0cHM6Ly9odWIuZG9ja2VyLmNvbS8=\"> DockerHub</span>:</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310081618473.png\" alt=\"image-20231008161836139\" /></p>\n<p>nginx åé¢çš„å‹‹ç« è¡¨ç¤ºè¿™ä¸ªæ˜¯å®˜ç½‘çš„æ­£ç‰ˆé•œåƒ</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310081621315.png\" alt=\"image-20231008162135908\" /></p>\n<p>ç‚¹å¼€åå¯å¤åˆ¶å‘½ä»¤ï¼Œé»˜è®¤æ‹‰å–çš„æ˜¯æœ€æ–°ç‰ˆæœ¬çš„ nginx</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310081624383.png\" alt=\"image-20231008162412714\" /></p>\n<p>2ã€æ ¹æ®æŸ¥çœ‹åˆ°çš„é•œåƒåç§°ï¼Œæ‹‰å–è‡ªå·±éœ€è¦çš„é•œåƒï¼Œé€šè¿‡å‘½ä»¤ï¼šdocker pull nginx</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310081626723.png\" alt=\"image-20231008162646280\" /></p>\n<p>3ã€é€šè¿‡å‘½ä»¤ï¼šdocker images æŸ¥çœ‹æ‹‰å–åˆ°çš„é•œåƒ</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310081627490.png\" alt=\"image-20231008162714111\" /></p>\n<h4 id=\"753-æ¡ˆä¾‹åˆ©ç”¨docker-saveå°†nginxé•œåƒå¯¼å‡ºç£ç›˜ç„¶åå†é€šè¿‡loadåŠ è½½å›æ¥\"><a class=\"anchor\" href=\"#753-æ¡ˆä¾‹åˆ©ç”¨docker-saveå°†nginxé•œåƒå¯¼å‡ºç£ç›˜ç„¶åå†é€šè¿‡loadåŠ è½½å›æ¥\">#</a> 7.5.3ã€æ¡ˆä¾‹ï¼Œåˆ©ç”¨ docker save å°† nginx é•œåƒå¯¼å‡ºç£ç›˜ï¼Œç„¶åå†é€šè¿‡ load åŠ è½½å›æ¥ğŸŒ²</h4>\n<p><strong>æ­¥éª¤</strong>ï¼š</p>\n<p>1ã€åˆ©ç”¨ <code>docker xx --help</code>  å‘½ä»¤æŸ¥çœ‹ docker save å’Œ docker load çš„è¯­æ³•</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker save --help</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># å‘½ä»¤ç¤ºä¾‹ï¼šdocker save [é€‰é¡¹] é•œåƒåç§°</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Usage:  <span class=\"token function\">docker</span> save <span class=\"token punctuation\">[</span>OPTIONS<span class=\"token punctuation\">]</span> IMAGE <span class=\"token punctuation\">[</span>IMAGE<span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># ä¿å­˜ä¸€ä¸ªæˆ–å¤šä¸ªé•œåƒåˆ°ä¸€ä¸ª tar æ–‡ä»¶ä¸­ (tar å‹ç¼©æ–‡ä»¶)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>Save one or <span class=\"token function\">more</span> images to a <span class=\"token function\">tar</span> archive <span class=\"token punctuation\">(</span>streamed to STDOUT by default<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>Aliases:</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token function\">docker</span> image save, <span class=\"token function\">docker</span> save</pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\"># é€‰é¡¹è¯´æ˜</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>Options:</pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token comment\"># -o è¾“å‡ºçš„æ„æ€ï¼Œè¾“å‡ºåˆ°ä¸€ä¸ªæŒ‡å®šçš„æ–‡ä»¶å½“ä¸­</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  -o, <span class=\"token parameter variable\">--output</span> string   Write to a file, instead of STDOUT</pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><p>docker save å¯¼å‡ºé•œåƒä¸ºå‹ç¼©æ–‡ä»¶</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker images</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>REPOSITORY   TAG       IMAGE ID       CREATED       SIZE</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>nginx        latest    61395b4c586d   <span class=\"token number\">2</span> weeks ago   187MB</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker save -o nginx.tar nginx:latest</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># ls -ahl</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>total 183M</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>dr-xr-x---.  <span class=\"token number\">4</span> root root  <span class=\"token number\">191</span> Oct  <span class=\"token number\">8</span> 04:47 <span class=\"token builtin class-name\">.</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>dr-xr-xr-x. <span class=\"token number\">17</span> root root  <span class=\"token number\">224</span> Jul <span class=\"token number\">15</span> 05:11 <span class=\"token punctuation\">..</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>-rw-------.  <span class=\"token number\">1</span> root root <span class=\"token number\">1</span>.4K Jul <span class=\"token number\">15</span> 05:12 anaconda-ks.cfg</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>-rw-------.  <span class=\"token number\">1</span> root root   <span class=\"token number\">78</span> Jul <span class=\"token number\">15</span> 05:20 .bash_history</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>-rw-r--r--.  <span class=\"token number\">1</span> root root   <span class=\"token number\">18</span> Dec <span class=\"token number\">28</span>  <span class=\"token number\">2013</span> .bash_logout</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>-rw-r--r--.  <span class=\"token number\">1</span> root root  <span class=\"token number\">176</span> Dec <span class=\"token number\">28</span>  <span class=\"token number\">2013</span> .bash_profile</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>-rw-r--r--.  <span class=\"token number\">1</span> root root  <span class=\"token number\">176</span> Dec <span class=\"token number\">28</span>  <span class=\"token number\">2013</span> .bashrc</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>-rw-r--r--.  <span class=\"token number\">1</span> root root  <span class=\"token number\">100</span> Dec <span class=\"token number\">28</span>  <span class=\"token number\">2013</span> .cshrc</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>drwxr-xr-x.  <span class=\"token number\">3</span> root root   <span class=\"token number\">20</span> Oct  <span class=\"token number\">8</span> 03:52 etc</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>-rw-------.  <span class=\"token number\">1</span> root root 183M Oct  <span class=\"token number\">8</span> 04:47 nginx.tar</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>drwxr-----.  <span class=\"token number\">3</span> root root   <span class=\"token number\">19</span> Jul <span class=\"token number\">15</span> 05:30 .pki</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>-rw-r--r--.  <span class=\"token number\">1</span> root root  <span class=\"token number\">129</span> Dec <span class=\"token number\">28</span>  <span class=\"token number\">2013</span> .tcshrc</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>-rw-------.  <span class=\"token number\">1</span> root root  <span class=\"token number\">841</span> Oct  <span class=\"token number\">8</span> 03:56 .viminfo</pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><p>docker load å¯¼å…¥ å‹ç¼©æ–‡ä»¶</p>\n<p>å…ˆå°† docker ä¸­çš„é•œåƒåˆ é™¤</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker rmi nginx:latest</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Untagged: nginx:latest</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Untagged: nginx@sha256:32da30332506740a2f7c34d5dc70467b7f14ec67d912703568daff790ab3f755</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Deleted: sha256:61395b4c586da2b9b3b7ca903ea6a448e6783dfdd7f768ff2c1a0f3360aaba99</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>Deleted: sha256:1c69f36a0d9b59b762eaba410fa9fd01b85140670a8d49199a7b37702cc956c0</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>Deleted: sha256:bac209bfab6997cccf20779ae98d5f77a66867734499ecf604a50a5826f6b8a4</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>Deleted: sha256:859676f4cd3004af025a02dade096ad6f9391d94d1b1a983fc6098debe435055</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>Deleted: sha256:cbbd97cee0d824e5e82f9a4b2e93c5eb3c66fd72a2624d5c1521dc3395bfd1e2</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>Deleted: sha256:0b41545d8c3de3b78778d591a8da3d9dfa5fa8807baef5edf21e5eb94ded792d</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>Deleted: sha256:7e87866b23143eb30086086a669b2e902368a5836446a885b2411d3feef18bef</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>Deleted: sha256:d310e774110ab038b30c6a5f7b7f7dd527dbe527854496bd30194b9ee6ea496e</pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker images</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>REPOSITORY   TAG       IMAGE ID   CREATED   SIZE</pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>docker load --help</code>  æ¥æŸ¥çœ‹å‘½ä»¤çš„è¯´æ˜</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker load --help</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># å‘½ä»¤ç¤ºä¾‹ï¼šdocker load [é€‰é¡¹]</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Usage:  <span class=\"token function\">docker</span> load <span class=\"token punctuation\">[</span>OPTIONS<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># ä» tar å­˜æ¡£æˆ– STDIN åŠ è½½å›¾åƒ</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>Load an image from a <span class=\"token function\">tar</span> archive or STDIN</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>Aliases:</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token function\">docker</span> image load, <span class=\"token function\">docker</span> load</pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\"># -i ï¼šè¾“å…¥ï¼ŒæŒ‡å®šè¯»å–å“ªä¸€ä¸ªæ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># -q ï¼šä¸ä¼šæ‰“å°æ—¥å¿—</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>Options:</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  -i, <span class=\"token parameter variable\">--input</span> string   Read from <span class=\"token function\">tar</span> archive file, instead of STDIN</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  -q, <span class=\"token parameter variable\">--quiet</span>          Suppress the load output</pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><p>ä½¿ç”¨ docker load å‘½ä»¤åŠ è½½é•œåƒ</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker load -i nginx.tar</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>d310e774110a: Loading layer <span class=\"token punctuation\">[</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span>  <span class=\"token number\">77</span>.81MB/77.81MB</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>eb7e3384f0ab: Loading layer <span class=\"token punctuation\">[</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span>    113MB/113MB</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>1dc45c680d0f: Loading layer <span class=\"token punctuation\">[</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span>  <span class=\"token number\">3</span>.584kB/3.584kB</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>ea43d4f82a03: Loading layer <span class=\"token punctuation\">[</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span>  <span class=\"token number\">4</span>.608kB/4.608kB</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>9c6261b5d198: Loading layer <span class=\"token punctuation\">[</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span>   <span class=\"token number\">2</span>.56kB/2.56kB</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>a7e2a768c198: Loading layer <span class=\"token punctuation\">[</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span>   <span class=\"token number\">5</span>.12kB/5.12kB</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>d26d4f0eb474: Loading layer <span class=\"token punctuation\">[</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span>  <span class=\"token number\">7</span>.168kB/7.168kB</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>Loaded image: nginx:latest</pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker images</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>REPOSITORY   TAG       IMAGE ID       CREATED       SIZE</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>nginx        latest    61395b4c586d   <span class=\"token number\">2</span> weeks ago   187MB</pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><blockquote>\n<p><strong>æ€»ç»“</strong>ï¼š</p>\n<p>é•œåƒæ“ä½œæœ‰å“ªäº›ï¼Ÿ</p>\n<ul>\n<li>docker images</li>\n<li>docker rmi</li>\n<li>docker pull</li>\n<li>docker push</li>\n<li>docker save</li>\n<li>docker load</li>\n</ul>\n</blockquote>\n<h4 id=\"754-è‡ªå·±ç»ƒä¹ å»dockerhubæœç´¢å¹¶æ‹‰å–ä¸€ä¸ªredisé•œåƒ\"><a class=\"anchor\" href=\"#754-è‡ªå·±ç»ƒä¹ å»dockerhubæœç´¢å¹¶æ‹‰å–ä¸€ä¸ªredisé•œåƒ\">#</a> 7.5.4ã€(è‡ªå·±ç»ƒä¹ ) å» DockerHub æœç´¢å¹¶æ‹‰å–ä¸€ä¸ª Redis é•œåƒğŸŒ²</h4>\n<p>1ã€å» DockerHub æœç´¢ Redis é•œåƒ</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310081702255.png\" alt=\"image-20231008170209077\" /></p>\n<p>2ã€æŸ¥çœ‹ Redis é•œåƒçš„åç§°å’Œç‰ˆæœ¬</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310081702756.png\" alt=\"image-20231008170243226\" /></p>\n<p>3ã€åˆ©ç”¨ docker pull å‘½ä»¤æ‹‰å–é•œåƒï¼Œå¹¶ä½¿ç”¨ docker images æŸ¥çœ‹æ‹‰å–çš„æƒ…å†µ</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker pull redis</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Using default tag: latest</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>latest: Pulling from library/redis</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>a803e7c4b030: Already exists</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>57e05a1ddec3: Pull complete</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>4635c857038a: Pull complete</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>10001c6989b4: Pull complete</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>f93feb85ceb4: Pull complete</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>4f4fb700ef54: Pull complete</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>320349bd761d: Pull complete</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>Digest: sha256:b68c6efe2c5f2d7d7d14a2749f66d6d81645ec0cacb92572b2fb7d5c42c82031</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>Status: Downloaded newer image <span class=\"token keyword\">for</span> redis:latest</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>docker.io/library/redis:latest</pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker images</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>REPOSITORY   TAG       IMAGE ID       CREATED       SIZE</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>nginx        latest    61395b4c586d   <span class=\"token number\">2</span> weeks ago   187MB</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>redis        latest    7c4b517da47d   <span class=\"token number\">4</span> weeks ago   153MB</pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><p>4ã€åˆ©ç”¨ docker save å‘½ä»¤å°† redis:latest æ‰“åŒ…ä¸ºä¸€ä¸ª redis.tar åŒ…</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker save -o redis.tar redis:latest</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># ls</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>anaconda-ks.cfg  etc  redis.tar</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><p>5ã€åˆ©ç”¨ docker rmi åˆ é™¤æœ¬åœ°çš„ redis:latest</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker rmi redis:latest</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Untagged: redis:latest</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Untagged: redis@sha256:b68c6efe2c5f2d7d7d14a2749f66d6d81645ec0cacb92572b2fb7d5c42c82031</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Deleted: sha256:7c4b517da47d331a47827390b9e8eb1be7ee68133af9c332660001b4d447828d</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>Deleted: sha256:06dafc2b2808183db1be226fd99e9dd9d374db9ef86480ccdec56bcb644c821a</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>Deleted: sha256:d31af4bfba5cce8499ed4df2f666ef1cf911d0936156af46da79d4b510c7687a</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>Deleted: sha256:f14f2bfc00d1db007798b7b81d043df4130673ae33591960d0917c484eded7f0</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>Deleted: sha256:7778474585964f4869bd7b40e56a375312fc91284c26f7b84967efd383219a20</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>Deleted: sha256:8fbe6eb1ebe310862ce5ebf21c01744994203df7d3f53fecabf53db86c3f4578</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>Deleted: sha256:57489dc8f39be6c5bfe929829682b1dcd6c7497e2f5878f450557a381afacb52</pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker images</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>REPOSITORY   TAG       IMAGE ID       CREATED       SIZE</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>nginx        latest    61395b4c586d   <span class=\"token number\">2</span> weeks ago   187MB</pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><p>6ã€åˆ©ç”¨ docker load é‡æ–°åŠ è½½ redis.tar æ–‡ä»¶</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker load -i redis.tar</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>ae2dc73bba26: Loading layer <span class=\"token punctuation\">[</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span>  <span class=\"token number\">10</span>.75kB/10.75kB</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>7c13dd56eefc: Loading layer <span class=\"token punctuation\">[</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span>  <span class=\"token number\">4</span>.141MB/4.141MB</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>33409257a91d: Loading layer <span class=\"token punctuation\">[</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span>  <span class=\"token number\">75</span>.28MB/75.28MB</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>c0a7ac48293c: Loading layer <span class=\"token punctuation\">[</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span>  <span class=\"token number\">1</span>.536kB/1.536kB</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>5f70bf18a086: Loading layer <span class=\"token punctuation\">[</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span>  <span class=\"token number\">1</span>.024kB/1.024kB</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>e6642d3d7b17: Loading layer <span class=\"token punctuation\">[</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span>  <span class=\"token number\">4</span>.096kB/4.096kB</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>Loaded image: redis:latest</pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker images</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>REPOSITORY   TAG       IMAGE ID       CREATED       SIZE</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>nginx        latest    61395b4c586d   <span class=\"token number\">2</span> weeks ago   187MB</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>redis        latest    7c4b517da47d   <span class=\"token number\">4</span> weeks ago   153MB</pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><h4 id=\"755-å®¹å™¨ç›¸å…³å‘½ä»¤\"><a class=\"anchor\" href=\"#755-å®¹å™¨ç›¸å…³å‘½ä»¤\">#</a> 7.5.5ã€å®¹å™¨ç›¸å…³å‘½ä»¤ğŸŒ²</h4>\n<p>åˆ›å»ºæ¯”è¾ƒå¸¸è§çš„ä¸€ä¸ªå‘½ä»¤å°±æ˜¯ docker run äº†ï¼Œè¿™ä¸ªå‘½ä»¤ä¸ä»…ä»…å¯ä»¥å¸®æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå®¹å™¨è€Œä¸”è¿˜å¯ä»¥è®©è¿™ä¸ªå®¹å™¨å¤„äºè¿è¡ŒçŠ¶æ€ã€‚å®¹å™¨é™¤äº†è¿è¡ŒçŠ¶æ€è¿˜æœ‰ï¼Œæš‚åœï¼Œåœæ­¢ä¸¤ä¸ªçŠ¶æ€ã€‚åªéœ€è¦ç®€å•çš„å‘½ä»¤å°±å¯ä»¥å®ç°ä¸¤ä¸ªçŠ¶æ€ä¹‹é—´çš„åˆ‡æ¢äº†</p>\n<p>docker puse å¯ä»¥è®©å®¹å™¨ä»è¿è¡ŒçŠ¶æ€è¿›å…¥åˆ°æš‚åœçŠ¶æ€</p>\n<p>docker unpuse è®©å®¹å™¨ä»æš‚åœçŠ¶æ€æ¢å¤åˆ°è¿è¡ŒçŠ¶æ€</p>\n<p>docker stop å¯ä»¥è®©å®¹å™¨ä»è¿è¡ŒçŠ¶æ€è¿›å…¥åœæ­¢çŠ¶æ€</p>\n<p>docker start è®©å®¹å™¨ä»åœæ­¢çŠ¶æ€æ¢å¤åˆ°è¿è¡ŒçŠ¶æ€</p>\n<p>docker stop $(docker ps -q) åœæ­¢å…¨éƒ¨è¿è¡Œä¸­çš„å®¹å™¨</p>\n<p>docker rm $(docker ps -aq) åˆ é™¤å…¨éƒ¨å®¹å™¨ è¿è¡Œä¸­çš„éœ€è¦å¼ºåˆ¶åˆ é™¤ -f</p>\n<p><code>docker stop $(docker ps -q) &amp; docker rm $(docker ps -aq)</code>  å…ˆåœæ­¢å…¨éƒ¨å®¹å™¨å†åˆ é™¤å…¨éƒ¨å®¹å™¨</p>\n<blockquote>\n<p>é‚£ä¸ºä»€ä¹ˆæš‚åœå¯ä»¥ç”¨ puse å’Œ unpause è€Œåœæ­¢å´æ˜¯ stop å’Œ start å‘¢ï¼Ÿä¸ºä»€ä¹ˆä¸æ˜¯ unstopã€‚</p>\n<p><strong>åŸå› </strong>ï¼š</p>\n<p>å®ƒä»¬åœ¨æ“ä½œç³»ç»Ÿçš„å¤„ç†æ–¹å¼ä¸åŒï¼Œå¦‚æœå®¹å™¨è¿›å…¥æš‚åœçŠ¶æ€ï¼Œæ“ä½œç³»ç»Ÿä¼šå°†å®¹å™¨å†…çš„è¿›ç¨‹æŒ‚èµ·ï¼Œå®¹å™¨å…³è”çš„å†…å­˜æš‚å­˜èµ·æ¥ã€‚CPU ä¸å†æ‰§è¡Œè¿™ä¸ªè¿›ç¨‹ï¼Œå¦‚æœå°†å®ƒæ¢å¤é‚£ä¹ˆå†…å­˜ç©ºé—´æ¢å¤ç¨‹åºæ¥ç€è¿è¡Œï¼Œé‚£ä¹ˆå®¹å™¨å°±åˆè¿›å…¥è¿è¡ŒçŠ¶æ€äº†ã€‚</p>\n<p>ä½†æ˜¯åœæ­¢ä¸åŒï¼Œåœæ­¢ç›´æ¥æŠŠè¿™ä¸ªè¿›ç¨‹æ€æ­»ï¼Œå®¹å™¨æ‰€å çš„å†…å­˜å›æ”¶ã€‚æŠŠä¿ç•™ä¸‹æ¥çš„å°±ä»…å‰©å®¹å™¨çš„æ–‡ä»¶ç³»ç»Ÿäº†ä¹Ÿå°±æ˜¯é‚£äº›é™æ€çš„ä¸œè¥¿ï¼Œå› æ­¤åœæ­¢æ˜¯æ²¡æœ‰åŠæ³•è¿›è¡Œæ¢å¤çš„å› ä¸ºè¿›ç¨‹å·²ç»è¢«æ€æ­»äº†ã€‚</p>\n<p>è¿™å°±æ˜¯æš‚åœå’Œåœæ­¢çš„åŒºåˆ«äº†ã€‚</p>\n</blockquote>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310081724327.png\" alt=\"image-20231008172423860\" /></p>\n<h5 id=\"7551-æŸ¥çœ‹å®¹å™¨çš„çŠ¶æ€\"><a class=\"anchor\" href=\"#7551-æŸ¥çœ‹å®¹å™¨çš„çŠ¶æ€\">#</a> 7.5.5.1ã€æŸ¥çœ‹å®¹å™¨çš„çŠ¶æ€ğŸŒ´</h5>\n<p>Docker æä¾›äº†ä¸€ä¸ªå‘½ä»¤å«ï¼šdocker ps å¯ä»¥æŸ¥çœ‹æ‰€æœ‰è¿è¡Œçš„å®¹å™¨ä»¥åŠçŠ¶æ€ï¼Œè¿˜æœ‰ä¸€ä¸ªå‘½ä»¤ä¸ºï¼šdocker logs æŸ¥çœ‹å®¹å™¨è¿è¡Œçš„æ—¥å¿—</p>\n<p>å¦‚æœæƒ³æ·±å…¥å†…éƒ¨äº†è§£ä¸€ä¸‹ï¼ŒDocker è¿˜æä¾›äº†ä¸€ä¸ªå‘½ä»¤ï¼šdocker exec å¯ä»¥è¿›å…¥å®¹å™¨çš„å†…éƒ¨è¿›è¡Œæ“ä½œ</p>\n<p>docker rm åˆ é™¤å®¹å™¨</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310081728094.png\" alt=\"image-20231008172804953\" /></p>\n<h5 id=\"7552-åˆ›å»ºè¿è¡Œä¸€ä¸ªnginxå®¹å™¨\"><a class=\"anchor\" href=\"#7552-åˆ›å»ºè¿è¡Œä¸€ä¸ªnginxå®¹å™¨\">#</a> 7.5.5.2ã€åˆ›å»ºè¿è¡Œä¸€ä¸ª Nginx å®¹å™¨ğŸŒ´</h5>\n<p>1ã€å» docker hub æŸ¥çœ‹ Nginx çš„å®¹å™¨è¿è¡Œå‘½ä»¤</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310081744053.png\" alt=\"image-20231008174414666\" /></p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> run <span class=\"token parameter variable\">--name</span> some-nginx <span class=\"token parameter variable\">-d</span> <span class=\"token parameter variable\">-p</span> <span class=\"token number\">8080</span>:80 some-content-nginx</pre></td></tr></table></figure><p><strong>å‘½ä»¤è§£è¯»</strong>ï¼š</p>\n<ul>\n<li>docker runï¼šåˆ›å»ºå¹¶è¿è¡Œä¸€ä¸ªå®¹å™¨</li>\n<li><code>--name</code> ï¼šç»™å®¹å™¨èµ·ä¸€ä¸ªåå­—ï¼Œæ¯”å¦‚å«åš mn</li>\n<li>-pï¼šå°†å®¿ä¸»æœºç«¯å£ä¸å®¹å™¨ç«¯å£æ˜ å°„ï¼Œå†’å·å·¦ä¾§æ˜¯å®¿ä¸»æœºç«¯å£ï¼Œå³åˆ™æ˜¯å®¹å™¨ç«¯å£</li>\n<li>-dï¼šåå°è¿è¡Œå®¹å™¨</li>\n<li>nginxï¼šé•œåƒåç§°ï¼Œä¾‹å¦‚ nginx</li>\n</ul>\n<blockquote>\n<p>å°†å®¿ä¸»æœºç«¯å£ä¸å®¹å™¨ç«¯å£æ˜ å°„æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ</p>\n<p>æ¯”æ–¹è¯´æœ‰ä¸€å° centos çš„æœåŠ¡å™¨ ip åœ°å€ä¸ºï¼š192.168.150.101 ç°åœ¨æˆ‘ä»¬åœ¨è¿™å°æœåŠ¡å™¨ä¸Šéƒ¨ç½²äº†ä¸€å° Nginx å®¹å™¨å®ƒçš„ç«¯å£æ˜¯ 80ï¼Œå¦‚æœç”¨æˆ·æƒ³è¦æ¥è®¿é—® Nginx å®¹å™¨ä¸èƒ½ç›´æ¥è®¿é—®ï¼Œå› ä¸ºå®¹å™¨æ˜¯å¯¹å¤–éš”ç¦»çš„ã€‚ä¸èƒ½è®¿é—®æ€ä¹ˆåŠå‘¢ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦åšä¸€ä¸ªç«¯å£æ˜ å°„</p>\n<p><strong>ç«¯å£æ˜ å°„çš„è§£é‡Š</strong>ï¼š</p>\n<p>æ¯”å¦‚è¯´å®¿ä¸»æœºæœ‰è‡ªå·±å¾ˆå¤šç«¯å£ï¼Œå…¶ä¸­ä¸€ä¸ªç«¯å£ä¸ºï¼š80ï¼Œè®©å®¿ä¸»æœºçš„ 80 è·Ÿå®¹å™¨çš„ 80 äº§ç”Ÿä¸€ä¸ªå…³è”æ˜ å°„ï¼Œé‚£è¿™æ ·ä¸€æ¥ä»»ä½•è¿›å…¥å®¿ä¸»æœº 80 çš„è¿™ä¸ªè¯·æ±‚å°±éƒ½ä¼šè¢«è½¬å‘åˆ°å®¹å™¨çš„ 80 ç«¯å£å»æ‰§è¡Œäº†ã€‚è¿™æ ·å°±ç­‰äºæ˜¯ nginx å¤„ç†äº†è¿™ä¸ªè¯·æ±‚</p>\n</blockquote>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310081758073.png\" alt=\"image-20231008175824602\" /></p>\n<p>æ‰€ä»¥ç«¯å£æ˜ å°„çš„ä½œç”¨æ˜¯æŠŠä¸€ä¸ªæœ¬æ¥å®Œå…¨éš”ç¦»çš„å®¹å™¨å¯¹å¤–æš´æ¼è®©ç”¨æˆ·å¯ä»¥è®¿é—®</p>\n<p>2ã€æ‰§è¡Œå‘½ä»¤åˆ›å»ºå®¹å™¨å¹¶è¿è¡Œ</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker run --name mn -p 80:80 -d nginx</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>9672ddfc088cdf53966332bf06da44b6daf7093427c12ed636818bcaae20e312</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><p>9672ddfc088cdf53966332bf06da44b6daf7093427c12ed636818bcaae20e312ï¼šå®¹å™¨çš„å”¯ä¸€ id</p>\n<p>3ã€æŸ¥çœ‹å®¹å™¨çš„çŠ¶æ€</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker ps</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>CONTAINER ID   IMAGE     COMMAND                  CREATED          STATUS          PORTS                               NAMES</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>9672ddfc088c   nginx     <span class=\"token string\">\"/docker-entrypoint.â€¦\"</span>   <span class=\"token number\">14</span> minutes ago   Up <span class=\"token number\">14</span> minutes   <span class=\"token number\">0.0</span>.0.0:80-<span class=\"token operator\">></span><span class=\"token number\">80</span>/tcp, :::80-<span class=\"token operator\">></span><span class=\"token number\">80</span>/tcp   mn</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><p>4ã€è®¿é—®æœåŠ¡</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310081821712.png\" alt=\"image-20231008182123920\" /></p>\n<p>å¯ä»¥è®¿é—®è¯´æ˜å®¹å™¨éƒ¨ç½²æˆåŠŸã€‚</p>\n<p>5ã€æŸ¥çœ‹è®¿é—® nginx åçš„æ—¥å¿—ä¿¡æ¯</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker logs mn</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>/docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>/docker-entrypoint.sh: Looking <span class=\"token keyword\">for</span> shell scripts <span class=\"token keyword\">in</span> /docker-entrypoint.d/</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>/docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token number\">10</span>-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token number\">10</span>-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 <span class=\"token keyword\">in</span> /etc/nginx/conf.d/default.conf</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>/docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>/docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>/docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>/docker-entrypoint.sh: Configuration complete<span class=\"token punctuation\">;</span> ready <span class=\"token keyword\">for</span> start up</pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token number\">2023</span>/10/08 <span class=\"token number\">10</span>:04:30 <span class=\"token punctuation\">[</span>notice<span class=\"token punctuation\">]</span> <span class=\"token number\">1</span><span class=\"token comment\">#1: using the \"epoll\" event method</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token number\">2023</span>/10/08 <span class=\"token number\">10</span>:04:30 <span class=\"token punctuation\">[</span>notice<span class=\"token punctuation\">]</span> <span class=\"token number\">1</span><span class=\"token comment\">#1: nginx/1.25.2</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token number\">2023</span>/10/08 <span class=\"token number\">10</span>:04:30 <span class=\"token punctuation\">[</span>notice<span class=\"token punctuation\">]</span> <span class=\"token number\">1</span><span class=\"token comment\">#1: built by gcc 12.2.0 (Debian 12.2.0-14)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token number\">2023</span>/10/08 <span class=\"token number\">10</span>:04:30 <span class=\"token punctuation\">[</span>notice<span class=\"token punctuation\">]</span> <span class=\"token number\">1</span><span class=\"token comment\">#1: OS: Linux 3.10.0-1160.el7.x86_64</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token number\">2023</span>/10/08 <span class=\"token number\">10</span>:04:30 <span class=\"token punctuation\">[</span>notice<span class=\"token punctuation\">]</span> <span class=\"token number\">1</span><span class=\"token comment\">#1: getrlimit(RLIMIT_NOFILE): 1048576:1048576</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token number\">2023</span>/10/08 <span class=\"token number\">10</span>:04:30 <span class=\"token punctuation\">[</span>notice<span class=\"token punctuation\">]</span> <span class=\"token number\">1</span><span class=\"token comment\">#1: start worker processes</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token number\">2023</span>/10/08 <span class=\"token number\">10</span>:04:30 <span class=\"token punctuation\">[</span>notice<span class=\"token punctuation\">]</span> <span class=\"token number\">1</span><span class=\"token comment\">#1: start worker process 29</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token number\">2023</span>/10/08 <span class=\"token number\">10</span>:04:30 <span class=\"token punctuation\">[</span>notice<span class=\"token punctuation\">]</span> <span class=\"token number\">1</span><span class=\"token comment\">#1: start worker process 30</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token number\">2023</span>/10/08 <span class=\"token number\">10</span>:04:30 <span class=\"token punctuation\">[</span>notice<span class=\"token punctuation\">]</span> <span class=\"token number\">1</span><span class=\"token comment\">#1: start worker process 31</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token number\">2023</span>/10/08 <span class=\"token number\">10</span>:04:30 <span class=\"token punctuation\">[</span>notice<span class=\"token punctuation\">]</span> <span class=\"token number\">1</span><span class=\"token comment\">#1: start worker process 32</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token number\">192.168</span>.249.1 - - <span class=\"token punctuation\">[</span>08/Oct/2023:10:21:11 +0000<span class=\"token punctuation\">]</span> <span class=\"token string\">\"GET / HTTP/1.1\"</span> <span class=\"token number\">200</span> <span class=\"token number\">615</span> <span class=\"token string\">\"-\"</span> <span class=\"token string\">\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.0.0 Safari/537.36\"</span> <span class=\"token string\">\"-\"</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><h6 id=\"75521-æŒç»­è¾“å‡ºæ—¥å¿—\"><a class=\"anchor\" href=\"#75521-æŒç»­è¾“å‡ºæ—¥å¿—\">#</a> 7.5.5.2.1ã€æŒç»­è¾“å‡ºæ—¥å¿—ğŸ‹</h6>\n<p>æ¯æ¬¡è¯·æ±‚éƒ½è¦æ‰§è¡ŒæŒ‡ä»¤æ‰èƒ½æŸ¥çœ‹æ—¥å¿—å¾ˆéº»çƒ¦é€šè¿‡ <code>docker logs --help</code>  æ¥æŸ¥çœ‹æœ‰æ²¡æœ‰éœ€è¦çš„å¸®åŠ©</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker logs --help</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Usage:  <span class=\"token function\">docker</span> logs <span class=\"token punctuation\">[</span>OPTIONS<span class=\"token punctuation\">]</span> CONTAINER</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>Fetch the logs of a container</pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>Aliases:</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token function\">docker</span> container logs, <span class=\"token function\">docker</span> logs</pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>Options:</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      <span class=\"token parameter variable\">--details</span>        Show extra details provided to logs</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token comment\"># æŒç»­è¾“å‡ºæ—¥å¿—    </span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  -f, <span class=\"token parameter variable\">--follow</span>         Follow log output</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token parameter variable\">--since</span> string   Show logs since timestamp <span class=\"token punctuation\">(</span>e.g. <span class=\"token string\">\"2013-01-02T13:23:37Z\"</span><span class=\"token punctuation\">)</span> or relative <span class=\"token punctuation\">(</span>e.g. <span class=\"token string\">\"42m\"</span> <span class=\"token keyword\">for</span> <span class=\"token number\">42</span> minutes<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>  -n, <span class=\"token parameter variable\">--tail</span> string    Number of lines to show from the end of the logs <span class=\"token punctuation\">(</span>default <span class=\"token string\">\"all\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  -t, <span class=\"token parameter variable\">--timestamps</span>     Show timestamps</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>      <span class=\"token parameter variable\">--until</span> string   Show logs before a timestamp <span class=\"token punctuation\">(</span>e.g. <span class=\"token string\">\"2013-01-02T13:23:37Z\"</span><span class=\"token punctuation\">)</span> or relative <span class=\"token punctuation\">(</span>e.g. <span class=\"token string\">\"42m\"</span> <span class=\"token keyword\">for</span> <span class=\"token number\">42</span> minutes<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°é€‰é¡¹ä¸­æœ‰ä¸€ä¸ªæŒç»­è¾“å‡ºæ—¥å¿—çš„é€‰é¡¹</p>\n<blockquote>\n<p><strong>æ€»ç»“</strong>ï¼š</p>\n<p>docker run å‘½ä»¤çš„å¸¸è§å‚æ•°æœ‰å“ªäº›ï¼Ÿ</p>\n<ul>\n<li><code>--name</code> ï¼šæŒ‡å®šå®¹å™¨åç§°</li>\n<li><code>-p</code> ï¼šæŒ‡å®šç«¯å£æ˜ å°„</li>\n<li><code>-d</code> ï¼šè®©å®¹å™¨åå°è¿è¡Œ</li>\n</ul>\n<p>æŸ¥çœ‹å®¹å™¨æ—¥å¿—çš„å‘½ä»¤ï¼š</p>\n<ul>\n<li>docker logs</li>\n<li>æ·»åŠ  - f å‚æ•°å¯ä»¥æŒç»­æŸ¥çœ‹æ—¥å¿—</li>\n</ul>\n<p>æŸ¥çœ‹å®¹å™¨çŠ¶æ€ï¼š</p>\n<ul>\n<li>docker ps</li>\n</ul>\n</blockquote>\n<h5 id=\"7553-è¿›å…¥nginxå®¹å™¨ä¿®æ”¹htmlæ–‡ä»¶å†…å®¹æ·»åŠ -ä¼ æ™ºæ•™è‚²æ¬¢è¿æ‚¨\"><a class=\"anchor\" href=\"#7553-è¿›å…¥nginxå®¹å™¨ä¿®æ”¹htmlæ–‡ä»¶å†…å®¹æ·»åŠ -ä¼ æ™ºæ•™è‚²æ¬¢è¿æ‚¨\">#</a> 7.5.5.3ã€è¿›å…¥ Nginx å®¹å™¨ï¼Œä¿®æ”¹ HTML æ–‡ä»¶å†…å®¹ï¼Œæ·»åŠ  â€œä¼ æ™ºæ•™è‚²æ¬¢è¿æ‚¨â€ğŸŒ´</h5>\n<p>1ã€è¿›å…¥å®¹å™¨ã€‚è¿›å…¥æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„ nginx å®¹å™¨çš„å‘½ä»¤ä¸ºï¼š</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> <span class=\"token builtin class-name\">exec</span> <span class=\"token parameter variable\">-it</span> mn <span class=\"token function\">bash</span></pre></td></tr></table></figure><p><strong>å‘½ä»¤è§£è¯»</strong>ï¼š</p>\n<ul>\n<li>docker execï¼šè¿›å…¥å®¹å™¨å†…éƒ¨ï¼Œæ‰§è¡Œä¸€ä¸ªå‘½ä»¤</li>\n<li>-itï¼šç»™å½“å‰è¿›å…¥çš„å®¹å™¨åˆ›å»ºä¸€ä¸ªæ ‡å‡†è¾“å…¥ï¼Œè¾“å‡ºç»ˆç«¯ï¼Œå…è®¸æˆ‘ä»¬ä¸å®¹å™¨äº¤äº’</li>\n<li>mnï¼šè¦è¿›å…¥çš„å®¹å™¨çš„åç§°</li>\n<li>bashï¼šè¿›å…¥å®¹å™¨åæ‰§è¡Œçš„å‘½ä»¤ï¼Œbash æ˜¯ä¸€ä¸ª linux ç»ˆç«¯äº¤äº’å‘½ä»¤</li>\n</ul>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker exec -it mn bash</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>root@9672ddfc088c:/<span class=\"token comment\">#</span></pre></td></tr></table></figure><p>é€šè¿‡ ls å‘½ä»¤æŸ¥çœ‹å†…éƒ¨éƒ½æœ‰ä»€ä¹ˆï¼š</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>root@9672ddfc088c:/<span class=\"token comment\"># ls</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>bin   dev                  docker-entrypoint.sh  home  lib32  libx32  mnt  proc  run   srv  tmp  var</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>boot  docker-entrypoint.d  etc                   lib   lib64  media   opt  root  sbin  sys  usr</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>root@9672ddfc088c:/<span class=\"token comment\">#</span></pre></td></tr></table></figure><p>è¿™äº›æˆ‘ä»¬å¸¸è§çš„æ˜¯ linux æ ¹ç›®å½•ç»“æ„ï¼Œä½†æ˜¯è¿™æ˜¯é˜‰å‰²ç‰ˆçš„ã€‚å®¹å™¨çš„å†…éƒ¨ä¼šæœ‰è‡ªå·±çš„ä¸€å¥—æ–‡ä»¶ç³»ç»Ÿï¼Œçœ‹èµ·æ¥å’Œ linux çš„ç³»ç»Ÿç›®å½•ä¸€æ ·ï¼Œä½†æ˜¯è¿™é‡Œåªæœ‰ nginx è¿è¡Œå®ƒè‡ªå·±éœ€è¦çš„æ–‡ä»¶</p>\n<p>è¦æƒ³çœ‹ nginx å­˜æ”¾åˆ°å“ªé‡Œäº†æˆ‘ä»¬éœ€è¦å» Docker Hub çš„ nginx å‘å¸ƒé¡µé¢æŸ¥çœ‹ï¼š</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310081844719.png\" alt=\"image-20231008184405334\" /></p>\n<p>2ã€è¿›å…¥ nginx çš„ HTML æ‰€åœ¨ç›®å½• /user/share/nginx/html</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">cd</span> /user/share/nginx/html</pre></td></tr></table></figure><p>3ã€ä¿®æ”¹ index.html çš„å†…å®¹</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sed</span> <span class=\"token parameter variable\">-i</span> <span class=\"token parameter variable\">-e</span> <span class=\"token string\">'s#Welcome to nginx#ä¼ æ™ºæ•™è‚²æ¬¢è¿æ‚¨#g'</span> <span class=\"token parameter variable\">-e</span> <span class=\"token string\">'s#&lt;head>#&lt;head>&lt;meta charset=\"utf-8\">#g'</span> index.html</pre></td></tr></table></figure><p>å†å»è®¿é—® nginx é¦–é¡µ</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310081913648.png\" alt=\"image-20231008191300720\" /></p>\n<h4 id=\"756-æŸ¥çœ‹åœæ­¢çš„å®¹å™¨\"><a class=\"anchor\" href=\"#756-æŸ¥çœ‹åœæ­¢çš„å®¹å™¨\">#</a> 7.5.6ã€æŸ¥çœ‹åœæ­¢çš„å®¹å™¨ğŸŒ²</h4>\n<p>å…ˆæŸ¥çœ‹ docker å®¹å™¨çš„è¿è¡ŒçŠ¶æ€</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker ps</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>CONTAINER ID   IMAGE     COMMAND                  CREATED             STATUS             PORTS                               NAMES</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>9672ddfc088c   nginx     <span class=\"token string\">\"/docker-entrypoint.â€¦\"</span>   About an hour ago   Up About an hour   <span class=\"token number\">0.0</span>.0.0:80-<span class=\"token operator\">></span><span class=\"token number\">80</span>/tcp, :::80-<span class=\"token operator\">></span><span class=\"token number\">80</span>/tcp   mn</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><p>åœæ­¢è¯¥å®¹å™¨</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker stop mn</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>mn</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker ps</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°åœæ­¢åé€šè¿‡ docker ps æŸ¥çœ‹çŠ¶æ€å°±çœ‹ä¸åˆ° nginx å®¹å™¨äº†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ docker ps -a æ¥è¿›è¡ŒæŸ¥çœ‹è¢«æ€æ­»çš„å®¹å™¨</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker ps -a</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>CONTAINER ID   IMAGE     COMMAND                  CREATED             STATUS                          PORTS     NAMES</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>9672ddfc088c   nginx     <span class=\"token string\">\"/docker-entrypoint.â€¦\"</span>   About an hour ago   Exited <span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> About a minute ago             mn</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><blockquote>\n<p>æ€»ç»“ï¼š</p>\n<p>æŸ¥çœ‹å®¹å™¨çŠ¶æ€</p>\n<ul>\n<li>docker ps</li>\n<li>æ·»åŠ  - a å‚æ•°æŸ¥çœ‹æ‰€æœ‰çŠ¶æ€çš„å®¹å™¨</li>\n</ul>\n<p>åˆ é™¤å®¹å™¨</p>\n<ul>\n<li>docker rm</li>\n<li>ä¸èƒ½åˆ é™¤è¿è¡Œä¸­çš„å®¹å™¨ï¼Œé™¤éæ·»åŠ  - f å‚æ•°</li>\n</ul>\n<p>è¿›å…¥å®¹å™¨ï¼š</p>\n<ul>\n<li>å‘½ä»¤æ˜¯ <code>docker exec -it [å®¹å™¨å][è¦æ‰§è¡Œçš„å‘½ä»¤]</code></li>\n<li>exec å‘½ä»¤å¯ä»¥è¿›å…¥å®¹å™¨ä¿®æ”¹æ–‡ä»¶ï¼Œä½†æ˜¯åœ¨å®¹å™¨å†…ä¿®æ”¹æ–‡ä»¶æ—¶ä¸æ¨èçš„</li>\n</ul>\n</blockquote>\n<h4 id=\"757-æ•°æ®å·\"><a class=\"anchor\" href=\"#757-æ•°æ®å·\">#</a> 7.5.7ã€æ•°æ®å·ğŸŒ²</h4>\n<p>å®¹å™¨ä¸æ•°æ®è€¦åˆçš„é—®é¢˜</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310082044250.png\" alt=\"image-20231008204446853\" /></p>\n<p>ä¸Šé¢çš„é—®é¢˜æ€ä¹ˆè§£å†³å‘¢ï¼Œè¿™å°±è¦å­¦ä¹  <mark>æ•°æ®å·</mark> æ¥è§£å†³äº†</p>\n<p>æ•°æ®å· (volume) æ˜¯ä¸€ä¸ªè™šæ‹Ÿç›®å½•ï¼ŒæŒ‡å‘å®¿ä¸»æœºæ–‡ä»¶ç³»ç»Ÿä¸­çš„æŸä¸ªç›®å½•ã€‚</p>\n<blockquote>\n<p>æ¯”å¦‚è¯´æœ‰ä¸€ä¸ª Docker ä¸»æœºï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªä¸»æœºä¸Šå°±ä¼šç”± Docker å»ç®¡ç†å¾ˆå¤šå¾ˆå¤šçš„æ•°æ®å·ã€‚è€Œæ‰€æœ‰çš„æ•°æ®å·ä¸€å®šéƒ½ä¼šæŒ‡å‘å®¿ä¸»æœºæ–‡ä»¶ç³»ç»Ÿä¸Šçš„ä¸€ä¸ªç›®å½•è¿™ä¸ªç›®å½•å°±æ˜¯ï¼švar/lib/docker/volumesã€‚</p>\n</blockquote>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310082048323.png\" alt=\"image-20231008204850370\" /></p>\n<blockquote>\n<p>æ¯”æ–¹è¯´æˆ‘ä»¬ç°åœ¨åˆ©ç”¨ Docker åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„æ•°æ®å·ï¼Œè¿™ä¸ªæ•°æ®å·çš„åå­—å« htmlï¼Œé‚£ä¹ˆ Docker ä¸€å®šä¼šåœ¨ /var/lib/docker/volumes æŒ‡å®šçš„å®¿ä¸»æœºæ–‡ä»¶ç³»ç»Ÿä¸‹åˆ›å»ºå‡ºä¸€ä¸ª html çš„ç›®å½•</p>\n</blockquote>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310082050696.png\" alt=\"image-20231008205044637\" /></p>\n<blockquote>\n<p>æ¯”æ–¹è¯´æˆ‘åˆåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„æ•°æ®å· confï¼Œå®ƒåŒæ ·ä¼šåœ¨ docker æŒ‡å®šçš„ volumes ç›®å½•ä¸‹å†åˆ›å»ºä¸€ä¸ª conf çœŸæ˜¯ç›®å½•</p>\n</blockquote>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310082051742.png\" alt=\"image-20231008205151242\" /></p>\n<blockquote>\n<p>æ¯ä¸€ä¸ªæ•°æ®å·éƒ½è·Ÿä¸€ä¸ªçœŸæ˜¯ç›®å½•è¿›è¡Œæ˜ å°„ã€‚æ‰€ä»¥å¯ä»¥è®¤ä¸ºæ•°æ®å·æ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„å¹¶ä¸çœŸå®å­˜åœ¨çš„ã€‚åªæ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œè€ŒçœŸæ­£æŒ‡å‘çš„æ˜¯ (å®¿ä¸»æœº) ç¡¬ç›˜ä¸Šçš„çœŸå®æ–‡ä»¶å¤¹</p>\n</blockquote>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310082053614.png\" alt=\"image-20231008205305336\" /></p>\n<blockquote>\n<p>å®¹å™¨åˆ›å»ºåå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ•°æ®å·ï¼Œnginx çš„å†…éƒ¨ç›®å½•ä¸æ•°æ®å·è¿›è¡Œå…³è”ï¼Œå½“å®¹å™¨ä¸­ nginx ä¸æ•°æ®å·è¿›è¡Œå…³è”æ—¶ï¼Œå®ƒçš„æœ¬è´¨å…¶å®æ˜¯å’Œå®¿ä¸»æœºæ–‡ä»¶ç³»ç»Ÿä¸Šçš„ html å’Œ conf ç›®å½•è¿›è¡Œå…³è”çš„ã€‚è¿™æ—¶ docker å°±ä¼šå»ç®¡ç†è¿™ä¸ªå®¹å™¨äº†ï¼Œæ¯”æ–¹è¯´åœ¨å®¹å™¨çš„ html ç›®å½•é‡Œå†™äº†ç‚¹ä»€ä¹ˆä¸œè¥¿ï¼Œè¿™äº›ä¸œè¥¿ä¼šç«‹å³å†™å…¥åˆ°å®¿ä¸»æœºæ–‡ä»¶ç³»ç»Ÿé‡Œã€‚è€Œåè¿‡æ¥å¦‚æœåœ¨å®¿ä¸»æœºé‡Œå¯¹ html ç›®å½•é‡ŒæŸä¸€ä¸ªæ–‡ä»¶è¿›è¡Œäº†ä¿®æ”¹é‚£ä¹ˆä¹Ÿä¼šç«‹å³ååº”åˆ°å®¹å™¨å†…çš„ html ç›®å½•ä¸­</p>\n<p>å¯ä»¥ç†è§£ä¸º å®¹å™¨ ä¸ å®¿ä¸»æœº ä¹‹é—´ çš„æ•°æ®åŒæ­¥æ˜¯é€šè¿‡æ•°æ®å·è¿™ä¸ªä¸­é—´æ¡¥æ¢å®Œæˆçš„</p>\n</blockquote>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310082056426.png\" alt=\"image-20231008205636159\" /></p>\n<blockquote>\n<p>è¿™æ—¶å°±å†ä¹Ÿä¸ç”¨è¿›å…¥å®¹å™¨å†…å»åšä¿®æ”¹äº†ç›´æ¥åœ¨å®¿ä¸»æœºé€šè¿‡é«˜çº§ç¼–è¾‘å·¥å…·è¿›è¡Œä¿®æ”¹</p>\n</blockquote>\n<h5 id=\"7571-æ•°æ®å…±äº«\"><a class=\"anchor\" href=\"#7571-æ•°æ®å…±äº«\">#</a> 7.5.7.1ã€æ•°æ®å…±äº«ğŸŒ´</h5>\n<p>å°†å¦ä¸€ä¸ªå®¹å™¨æŒ‚è½½åˆ°æ•°æ®å·çš„ç›®å½•ä¸Šä¹Ÿèƒ½è®¿é—®æ“ä½œé‡Œé¢çš„æ•°æ®å’Œé…ç½®çš„ä¿¡æ¯</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310082103306.png\" alt=\"image-20231008210328135\" /></p>\n<h5 id=\"7572-æ•°æ®å®‰å…¨åˆ é™¤é—®é¢˜\"><a class=\"anchor\" href=\"#7572-æ•°æ®å®‰å…¨åˆ é™¤é—®é¢˜\">#</a> 7.5.7.2ã€æ•°æ®å®‰å…¨åˆ é™¤é—®é¢˜ğŸŒ´</h5>\n<p>å°†å®¹å™¨åˆ é™¤ï¼Œæ•°æ®å·ä¸ä¼šè¢«åˆ é™¤ï¼Œè¿˜å¯ä»¥å°†æ–°çš„å®¹å™¨é‡æ–°æŒ‚è½½åˆ°æ•°æ®å·ä¸Šé‡Œé¢çš„é…ç½®å’Œæ•°æ®éƒ½å›æ¥äº†</p>\n<h5 id=\"7573-æ“ä½œæ•°æ®å·\"><a class=\"anchor\" href=\"#7573-æ“ä½œæ•°æ®å·\">#</a> 7.5.7.3ã€æ“ä½œæ•°æ®å·ğŸŒ´</h5>\n<p>æ•°æ®å·æ“ä½œçš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> volume<span class=\"token punctuation\">[</span>COMMAND<span class=\"token punctuation\">]</span></pre></td></tr></table></figure><p>docker volume å‘½ä»¤æ˜¯æ•°æ®å·æ“ä½œï¼Œæ ¹æ®å‘½ä»¤åè·Ÿéšçš„ command æ¥ç¡®å®šä¸‹ä¸€æ­¥çš„æ“ä½œï¼š</p>\n<ul>\n<li>create åˆ›å»ºä¸€ä¸ª volume</li>\n<li>inspect æ˜¾ç¤ºä¸€ä¸ªæˆ–å¤šä¸ª volume çš„ä¿¡æ¯</li>\n<li>ls åˆ—å‡ºæ‰€æœ‰çš„ volume</li>\n<li>prune åˆ é™¤æœªä½¿ç”¨çš„ volume</li>\n<li>rm åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªæŒ‡å®šçš„ volume</li>\n</ul>\n<h6 id=\"75731-æ¡ˆä¾‹åˆ›å»ºä¸€ä¸ªæ•°æ®å·å¹¶æŸ¥çœ‹æ•°æ®å·åœ¨å®¿ä¸»æœºçš„ç›®å½•ä½ç½®\"><a class=\"anchor\" href=\"#75731-æ¡ˆä¾‹åˆ›å»ºä¸€ä¸ªæ•°æ®å·å¹¶æŸ¥çœ‹æ•°æ®å·åœ¨å®¿ä¸»æœºçš„ç›®å½•ä½ç½®\">#</a> 7.5.7.3.1ã€æ¡ˆä¾‹ï¼Œåˆ›å»ºä¸€ä¸ªæ•°æ®å·ï¼Œå¹¶æŸ¥çœ‹æ•°æ®å·åœ¨å®¿ä¸»æœºçš„ç›®å½•ä½ç½®ğŸ‹</h6>\n<p>1ã€åˆ›å»ºä¸€ä¸ªåä¸º html çš„æ•°æ®å·</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker volume create html</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>html</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><p>2ã€æŸ¥çœ‹åˆ›å»ºå¥½çš„æ•°æ®å· ä½¿ç”¨å‘½ä»¤åˆ—å‡ºæ‰€æœ‰çš„æ•°æ®å·</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker volume ls</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>DRIVER    VOLUME NAME</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token builtin class-name\">local</span>     2c26106500b13248f06d9d3d89e3f9cc4395f02bc013e4ad20ef405b504b1ca0</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token builtin class-name\">local</span>     96f2fa7ba9c8131ae29e9e046d86d33c48ba9a14ad145b42837e281c0f8a0c00</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token builtin class-name\">local</span>     356ef50e5c9ff24e07f8bcc1f9d581f41df05ce8688025f2294d2333fd86842b</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token builtin class-name\">local</span>     d3c6bed2dc6b02bd7755c7e20a02a6679d5bc1bdc08e302adb0615f6d68b3b3a</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token builtin class-name\">local</span>     html</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><p>3ã€æŸ¥çœ‹ html æ•°æ®å·çš„æ‰€åœ¨ç›®å½•</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker inspect html</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token string\">\"CreatedAt\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2023-10-08T20:59:39-04:00\"</span>,</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token string\">\"Driver\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"local\"</span>,</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token string\">\"Labels\"</span><span class=\"token builtin class-name\">:</span> null,</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token comment\"># å­˜å‚¨ç›®å½•ï¼Œä¹Ÿå°±æ˜¯æŒ‚è½½ç‚¹</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token string\">\"Mountpoint\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"/var/lib/docker/volumes/html/_data\"</span>,</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token string\">\"Name\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"html\"</span>,</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token string\">\"Options\"</span><span class=\"token builtin class-name\">:</span> null,</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token string\">\"Scope\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"local\"</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><p>4ã€ä½¿ç”¨ prune ç§»é™¤æœ¬åœ°æœªä½¿ç”¨çš„æ•°æ®å·</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker volume prune</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>WARNING<span class=\"token operator\">!</span> This will remove anonymous <span class=\"token builtin class-name\">local</span> volumes not used by at least one container.</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Are you sure you want to continue? <span class=\"token punctuation\">[</span>y/N<span class=\"token punctuation\">]</span> y</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Deleted Volumes:</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>2c26106500b13248f06d9d3d89e3f9cc4395f02bc013e4ad20ef405b504b1ca0</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>96f2fa7ba9c8131ae29e9e046d86d33c48ba9a14ad145b42837e281c0f8a0c00</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>d3c6bed2dc6b02bd7755c7e20a02a6679d5bc1bdc08e302adb0615f6d68b3b3a</pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>Total reclaimed space: 0B</pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><p>5ã€ä½¿ç”¨ docker volume ls åˆ—å‡ºæ‰€æœ‰çš„æ•°æ®å·</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker volume ls</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>DRIVER    VOLUME NAME</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token builtin class-name\">local</span>     356ef50e5c9ff24e07f8bcc1f9d581f41df05ce8688025f2294d2333fd86842b</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token builtin class-name\">local</span>     html</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><p>å°‘äº†ä¸€äº›æ•°æ®å·é‚£äº›è¢«ç§»é™¤äº†</p>\n<p>6ã€ä½¿ç”¨ rm åˆ é™¤ä¸€ä¸ªæŒ‡å®šçš„æ•°æ®å·ï¼Œå¦‚æœæ— æ³•åˆ é™¤å¯ä»¥åŠ ä¸Šå‚æ•° -f å¼ºåˆ¶åˆ é™¤</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker volume rm html</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>html</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker volume ls</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>DRIVER    VOLUME NAME</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token builtin class-name\">local</span>     356ef50e5c9ff24e07f8bcc1f9d581f41df05ce8688025f2294d2333fd86842b</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><blockquote>\n<p>æ•°æ®å·çš„ä½œç”¨ï¼š</p>\n<ul>\n<li>j å°†å®¹å™¨ä¸æ•°æ®åˆ†ç¦»ï¼Œè§£è€¦åˆï¼Œæ–¹ä¾¿æ“ä½œå®¹å™¨å†…æ•°æ®ï¼Œä¿è¯æ•°æ®å®‰å…¨</li>\n</ul>\n<p>æ•°æ®å·æ“ä½œï¼š</p>\n<ul>\n<li><code>docker volume create [åç§°]</code>  åˆ›å»ºä¸€ä¸ªæ•°æ®å·</li>\n<li><code>docker volume ls</code>  åˆ—å‡ºæ‰€æœ‰å­˜åœ¨çš„æ•°æ®å·</li>\n<li><code>docker volume inspect [åç§°]</code>  æŸ¥çœ‹æŒ‡å®šæ•°æ®å·çš„è¯¦ç»†ä¿¡æ¯æˆ–æ‰€åœ¨ç›®å½•</li>\n<li><code>docker volume rm [åç§°]</code>  åˆ é™¤æŒ‡å®šçš„æ•°æ®å·ï¼Œå¯ä»¥åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªï¼Œå¯ä»¥å¼ºåˆ¶åˆ é™¤</li>\n<li><code>docker volume prune</code>  ç§»é™¤æœªä½¿ç”¨çš„æ•°æ®å·</li>\n</ul>\n</blockquote>\n<h5 id=\"7574-æŒ‚è½½æ•°æ®å·\"><a class=\"anchor\" href=\"#7574-æŒ‚è½½æ•°æ®å·\">#</a> 7.5.7.4ã€æŒ‚è½½æ•°æ®å·ğŸŒ´</h5>\n<p>æˆ‘ä»¬åœ¨åˆ›å»ºå®¹å™¨æ—¶ï¼Œå¯ä»¥é€šè¿‡  <code>-v</code>  å‚æ•°æ¥æŒ‚è½½ä¸€ä¸ªæ•°æ®å·åˆ°æŸä¸ªå®¹å™¨ç›®å½•</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310090914664.png\" alt=\"image-20231009091445924\" /></p>\n<p>è¿™é‡Œé¢å”¯ä¸€æ²¡è§è¿‡çš„å°±æ˜¯  <code>-v</code>  å‚æ•°äº†ï¼Œè§£é‡Šå¦‚ä¸‹ï¼š</p>\n<p>å‰åŠéƒ¨åˆ†çš„ html ä¸ºæ•°æ®å·ï¼šååŠéƒ¨åˆ†ä¸ºå®¹å™¨å†…çš„ç›®å½•ã€‚</p>\n<p>è¿™è¡Œå‘½ä»¤çš„æ„æ€å°±æ˜¯å°†åä¸º html çš„æ•°æ®å·æŒ‚è½½åˆ°å®¹å™¨å†…çš„ /root/html ç›®å½•ä¸‹</p>\n<h6 id=\"75741-æ¡ˆä¾‹åˆ›å»ºä¸€ä¸ªnginxå®¹å™¨ä¿®æ”¹å®¹å™¨å†…çš„htmlç›®å½•å†…çš„indexhtmlå†…å®¹\"><a class=\"anchor\" href=\"#75741-æ¡ˆä¾‹åˆ›å»ºä¸€ä¸ªnginxå®¹å™¨ä¿®æ”¹å®¹å™¨å†…çš„htmlç›®å½•å†…çš„indexhtmlå†…å®¹\">#</a> 7.5.7.4.1ã€æ¡ˆä¾‹ï¼Œåˆ›å»ºä¸€ä¸ª Nginx å®¹å™¨ï¼Œä¿®æ”¹å®¹å™¨å†…çš„ html ç›®å½•å†…çš„ index.html å†…å®¹ğŸ‹</h6>\n<blockquote>\n<p><strong>éœ€æ±‚è¯´æ˜</strong>ï¼š</p>\n<p>ä¸Šä¸ªæ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬è¿›å…¥ nginx å®¹å™¨å†…éƒ¨ï¼Œå·²ç»çŸ¥é“ nginx çš„ html ç›®å½•æ‰€åœ¨ä½ç½® /user/share/nginx/html ï¼Œæˆ‘ä»¬éœ€è¦æŠŠè¿™ä¸ªç›®å½•æŒ‚è½½åˆ° html è¿™ä¸ªæ•°æ®å·ä¸Šï¼Œæ–¹ä¾¿æ“ä½œå…¶ä¸­çš„å†…å®¹ã€‚</p>\n</blockquote>\n<p><strong>æç¤º</strong>ï¼šè¿è¡Œå®¹å™¨æ—¶ä½¿ç”¨  <code>-v</code>  å‚æ•°æŒ‚è½½æ•°æ®å·</p>\n<p><strong>æ­¥éª¤</strong>ï¼š</p>\n<p>&lt;font color='red'&gt; æé†’ &lt;/font&gt;ï¼šå¦‚æœæ•°æ®å·ä¸å­˜åœ¨åœ¨åˆ›å»ºå®¹å™¨çš„æ—¶å€™é‡Œé¢ <code>-v</code>  å‚æ•°æ‰§è¡Œæ•°æ®å·å°±ä¼šè‡ªåŠ¨è¢«åˆ›å»º</p>\n<p>1ã€åˆ›å»ºå®¹å™¨å¹¶æŒ‚è½½æ•°æ®å·åˆ°å®¹å™¨å†…çš„ HTML ç›®å½•</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker run --name mn -p 80:80 -v html:/usr/share/nginx/html -d nginx</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>a4e6d36a4c1ccb8948d93990839244207cb1db9856a607680350871c13fc7458</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker ps</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>CONTAINER ID   IMAGE     COMMAND                  CREATED         STATUS        PORTS                               NAMES</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>a4e6d36a4c1c   nginx     <span class=\"token string\">\"/docker-entrypoint.â€¦\"</span>   <span class=\"token number\">2</span> seconds ago   Up <span class=\"token number\">1</span> second   <span class=\"token number\">0.0</span>.0.0:80-<span class=\"token operator\">></span><span class=\"token number\">80</span>/tcp, :::80-<span class=\"token operator\">></span><span class=\"token number\">80</span>/tcp   mn</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><p>2ã€è¿›å…¥ html æ•°æ®å·æ‰€åœ¨ä½ç½®ï¼Œå¹¶ä¿®æ”¹ HTML å†…å®¹</p>\n<p>2.1ã€é¦–å…ˆçœ‹ä¸€ä¸‹ html æ•°æ®å·çš„å…·ä½“ä½ç½®</p>\n<p>2.2ã€è¿›å…¥åˆ°ç›®å½•</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker volume inspect html</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token string\">\"CreatedAt\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2023-10-08T21:26:51-04:00\"</span>,</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        <span class=\"token string\">\"Driver\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"local\"</span>,</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token string\">\"Labels\"</span><span class=\"token builtin class-name\">:</span> null,</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token string\">\"Mountpoint\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"/var/lib/docker/volumes/html/_data\"</span>,</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token string\">\"Name\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"html\"</span>,</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token string\">\"Options\"</span><span class=\"token builtin class-name\">:</span> null,</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token string\">\"Scope\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"local\"</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># cd /var/lib/docker/volumes/html/_data</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost _data<span class=\"token punctuation\">]</span><span class=\"token comment\"># </span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost _data<span class=\"token punctuation\">]</span><span class=\"token comment\"># ls -ahl</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>total <span class=\"token number\">8</span>.0K</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>drwxr-xr-x. <span class=\"token number\">2</span> root root  <span class=\"token number\">40</span> Oct  <span class=\"token number\">9</span> 02:54 <span class=\"token builtin class-name\">.</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>drwx-----x. <span class=\"token number\">3</span> root root  <span class=\"token number\">19</span> Oct  <span class=\"token number\">8</span> <span class=\"token number\">21</span>:26 <span class=\"token punctuation\">..</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>-rw-r--r--. <span class=\"token number\">1</span> root root <span class=\"token number\">497</span> Aug <span class=\"token number\">15</span> <span class=\"token number\">13</span>:03 50x.html</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>-rw-r--r--. <span class=\"token number\">1</span> root root <span class=\"token number\">615</span> Aug <span class=\"token number\">15</span> <span class=\"token number\">13</span>:03 index.html</pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost _data<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310091459700.png\" alt=\"image-20231009145716659\" /></p>\n<p>æˆ‘ä»¬å¯ä»¥å³é”® index.html ç›´æ¥åœ¨ windows ä¸Šè¿›è¡Œä¿®æ”¹ç„¶åä¿å­˜é‚£ä¹ˆ nginx å®¹å™¨å†…çš„ index.html ä¹Ÿå°±è¢«ä¿®æ”¹äº†</p>\n<p>æ”¹å®Œä¿å­˜åè¿™ä¸ªå·¥å…·ä¼šæç¤ºæ˜¯å¦ä¿å­˜åˆ° Linux ç³»ç»Ÿä¸­ index æ–‡ä»¶å»è¿˜æ˜¯å¾ˆæ™ºèƒ½çš„</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310091505065.png\" alt=\"image-20231009150527902\" /></p>\n<p>ä¸‹é¢å°±æ˜¯ä¿®æ”¹äº†å†…å®¹æˆåŠŸäº†ï¼Œä½†æ˜¯ä¹±ç </p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310091505224.png\" alt=\"image-20231009150556316\" /></p>\n<blockquote>\n<p><strong>æ€»ç»“</strong>ï¼š</p>\n<p>æ•°æ®å·æŒ‚è½½æ–¹å¼ï¼š</p>\n<ul>\n<li><code>-v volumeName: /targetContainerPath</code></li>\n<li>å¦‚æœå®¹å™¨è¿è¡Œæ—¶ volume ä¸å­˜åœ¨ï¼Œä¼šè‡ªåŠ¨è¢«åˆ›å»ºå‡ºæ¥</li>\n</ul>\n</blockquote>\n<p>é€šè¿‡æ¡ˆä¾‹æ¼”ç¤ºå®¿ä¸»æœºç›´æ¥ä¸å®¹å™¨è¿›è¡ŒæŒ‚è½½</p>\n<h6 id=\"75742-å®¿ä¸»æœºç›´æ¥ä¸å®¹å™¨è¿›è¡ŒæŒ‚è½½\"><a class=\"anchor\" href=\"#75742-å®¿ä¸»æœºç›´æ¥ä¸å®¹å™¨è¿›è¡ŒæŒ‚è½½\">#</a> 7.5.7.4.2ã€å®¿ä¸»æœºç›´æ¥ä¸å®¹å™¨è¿›è¡ŒæŒ‚è½½ğŸ‹</h6>\n<p>æ¡ˆä¾‹ï¼Œåˆ›å»ºå¹¶è¿è¡Œä¸€ä¸ª MYSQL å®¹å™¨ï¼Œå°†å®¿ä¸»æœºç›®å½•ç›´æ¥æŒ‚è½½åˆ°å®¹å™¨</p>\n<p>æç¤ºï¼šç›®å½•æŒ‚è½½ä¸æ•°æ®å·æŒ‚è½½çš„è¯­æ³•æ˜¯ç±»ä¼¼çš„ï¼š</p>\n<ul>\n<li><code>-v [å®¿ä¸»æœºç›®å½•]:[å®¹å™¨ç›®å½•]</code></li>\n<li><code>-v [å®¿ä¸»æœºæ–‡ä»¶]:[å®¹å™¨å†…æ–‡ä»¶]</code></li>\n</ul>\n<p>å®ç°æ€è·¯å¦‚ä¸‹ï¼š</p>\n<p>1ã€åœ¨å°†è¯¾å‰èµ„æ–™ä¸­çš„ mysql.tar æ–‡ä»¶ä¸Šä¼ åˆ°è™šæ‹Ÿæœºï¼Œé€šè¿‡ load å‘½ä»¤åŠ è½½ä¸ºé•œåƒ</p>\n<p>æ“ä½œï¼šç›´æ¥æ‹–è¿›å»å³å¯</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310091539535.png\" alt=\"image-20231009153911060\" /></p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost tmp<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker load -i mysql.tar</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>5dacd731af1b: Loading layer <span class=\"token punctuation\">[</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span>  <span class=\"token number\">58</span>.45MB/58.45MB</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>f411d8bde01c: Loading layer <span class=\"token punctuation\">[</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span>  <span class=\"token number\">338</span>.4kB/338.4kB</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>0aa7d65147ef: Loading layer <span class=\"token punctuation\">[</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span>  <span class=\"token number\">10</span>.44MB/10.44MB</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>3437f67a712b: Loading layer <span class=\"token punctuation\">[</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span>  <span class=\"token number\">4</span>.472MB/4.472MB</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>ec41e34b35a0: Loading layer <span class=\"token punctuation\">[</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span>  <span class=\"token number\">1</span>.536kB/1.536kB</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>458d25c646d8: Loading layer <span class=\"token punctuation\">[</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span>  <span class=\"token number\">46</span>.15MB/46.15MB</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>97874ea0e7f9: Loading layer <span class=\"token punctuation\">[</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span>  <span class=\"token number\">31</span>.74kB/31.74kB</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>5075b9328698: Loading layer <span class=\"token punctuation\">[</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span>  <span class=\"token number\">3</span>.584kB/3.584kB</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>364557e875f1: Loading layer <span class=\"token punctuation\">[</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span>  <span class=\"token number\">257</span>.3MB/257.3MB</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>9209148debed: Loading layer <span class=\"token punctuation\">[</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span>  <span class=\"token number\">9</span>.728kB/9.728kB</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>82582edf9553: Loading layer <span class=\"token punctuation\">[</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">></span><span class=\"token punctuation\">]</span>  <span class=\"token number\">1</span>.536kB/1.536kB</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>Loaded image: mysql:5.7.25</pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost tmp<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost tmp<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker images</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>REPOSITORY   TAG       IMAGE ID       CREATED       SIZE</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>nginx        latest    61395b4c586d   <span class=\"token number\">2</span> weeks ago   187MB</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>redis        latest    7c4b517da47d   <span class=\"token number\">4</span> weeks ago   153MB</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>mysql        <span class=\"token number\">5.7</span>.25    98455b9624a9   <span class=\"token number\">4</span> years ago   372MB</pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost tmp<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><p>2ã€åˆ›å»ºç›®å½• /tem/mysql/data</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost tmp<span class=\"token punctuation\">]</span><span class=\"token comment\"># mkdir -p mysql/data</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost tmp<span class=\"token punctuation\">]</span><span class=\"token comment\"># mkdir -p mysql/conf</span></pre></td></tr></table></figure><p>3ã€åˆ›å»ºç›®å½• /tmp/mysql/confï¼Œå°†è¯¾å‰èµ„æ–™æä¾›çš„ hmy.cnf æ–‡ä»¶ä¸Šä¼ åˆ° /tmp/mysql/conf</p>\n<p>hmy.conf é…ç½®æ–‡ä»¶å†…å®¹ï¼š</p>\n<pre><code>[mysqld]\nskip-name-resolve\ncharacter_set_server=utf8\ndatadir=/var/lib/mysql\nserver-id=1000\n</code></pre>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310091545686.png\" alt=\"image-20231009154459349\" /></p>\n<p>4ã€å» DockerHub æŸ¥é˜…èµ„æ–™ï¼Œåˆ›å»ºå¹¶è¿è¡Œ MySQL å®¹å™¨</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> run <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token parameter variable\">--name</span> some-mysql <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># ç¯å¢ƒå˜é‡ environment variables è®¾ç½® mysql å¯†ç </span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token parameter variable\">-e</span> <span class=\"token assign-left variable\">MYSQL_ROOT_PASSWORD</span><span class=\"token operator\">=</span><span class=\"token number\">123</span> <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># è®¾ç½®å®¿ä¸»æœºä¸å®¹å™¨çš„ç«¯å£éƒ½ä¸º 3306</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token parameter variable\">-p</span> <span class=\"token number\">3306</span>:3306</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># æŒ‚è½½é…ç½®æ–‡ä»¶ç›®å½•ï¼Œå‰é¢æ˜¯å®¿ä¸»æœºç›®å½•åé¢æ˜¯å®¹å™¨å†…çš„é…ç½®æ–‡ä»¶ç›®å½•å¯ä»¥å»å®˜ç½‘æŸ¥çœ‹</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token parameter variable\">-v</span> /tmp/mysql/conf/hmy.cnf:/etc/mysql/conf.d/hmy.cnf <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\"># æŒ‚è½½æ•°æ®ç›®å½•</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token parameter variable\">-v</span> /tmp/mysql/data:/var/lib/mysql <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token parameter variable\">-d</span> mysql:5.7.25</pre></td></tr></table></figure><p>å¯å¤åˆ¶å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> run <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token parameter variable\">--name</span> some-mysql <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token parameter variable\">-e</span> <span class=\"token assign-left variable\">MYSQL_ROOT_PASSWORD</span><span class=\"token operator\">=</span><span class=\"token number\">123</span> <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token parameter variable\">-p</span> <span class=\"token number\">3306</span>:3306 <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token parameter variable\">-v</span> /tmp/mysql/conf/hmy.cnf:/etc/mysql/conf.d/hmy.cnf <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token parameter variable\">-v</span> /tmp/mysql/data:/var/lib/mysql <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token parameter variable\">-d</span> mysql:5.7.25</pre></td></tr></table></figure><p>my.conf å°±æ˜¯ mysql çš„é»˜è®¤é…ç½®æ–‡ä»¶äº†ä½†æ˜¯å¹¶ä¸å»ºè®®å»è¦†ç›–å®ƒï¼Œå®ƒé‡Œé¢ä¸œè¥¿å¾ˆå¤šï¼Œæˆ‘ä»¬åªæ˜¯å¸Œæœ›è¦ç®€åŒ–çš„é…ç½® ä¸‹é¢æ–‡æ¡£è¯´ï¼Œmy.conf é…ç½®æ–‡ä»¶é‡ŒåŒ…å«äº†ä¸¤ä¸ªç›®å½•ä¸€ä¸ªæ˜¯ /etc/mysql/conf.d æˆ– /etc/mysql/mysql/conf.d å…¶ä¸­.d åç¼€å°±æ˜¯ç›®å½•çš„æ„æ€ï¼Œå› æ­¤æ”¾åˆ°è¿™ä¸¤ä¸ªåŒ…å«çš„ç›®å½•é‡Œé¢çš„ä¸€åˆ‡æ–‡ä»¶éƒ½ä¼šè¢«åŠ è½½åˆ°ä¸€èµ·ä½œä¸ºåˆå¹¶é…ç½®</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310091602833.png\" alt=\"image-20231009160248603\" /></p>\n<p>è¦æ±‚ï¼š</p>\n<ol>\n<li>æŒ‚è½½ /tmp/myql/data åˆ° mysql å®¹å™¨å†…æ•°æ®å­˜å‚¨åˆ°ç›®å½•</li>\n<li>æŒ‚è½½ /tmp/myql/conf/hmy/cnf åˆ° mysql å®¹å™¨çš„é…ç½®æ–‡ä»¶</li>\n<li>è®¾ç½® MySQL å¯†ç </li>\n</ol>\n<p>æ‰“å¼€é“¾æ¥ mysql çš„å·¥å…·è¿›è¡Œè¿æ¥ï¼Œè¿æ¥çš„æ˜¯ Linux ä¸­çš„ mysql</p>\n<p>è¿æ¥å¯†ç æ˜¯ä¸Šé¢åˆ›å»ºå®¹å™¨çš„æ—¶å€™çš„å¯†ç ä¹Ÿå°±æ˜¯ 123</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310091640299.png\" alt=\"image-20231009164005163\" /></p>\n<p>è¿æ¥æˆåŠŸï¼</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310091640185.png\" alt=\"image-20231009164040831\" /></p>\n<p>æŸ¥çœ‹å®¿ä¸»æœºçš„ data ç›®å½•å¯ä»¥çœ‹åˆ°é‡Œé¢çš„ mysql æ•°æ®å°±å…¨éƒ½å†™è¿›æ¥äº†</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>âœ  /tmp <span class=\"token builtin class-name\">cd</span> mysql/data</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>âœ  data <span class=\"token function\">ls</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>auto.cnf    ca.pem           client-key.pem  ibdata1      ib_logfile1  mysql               private_key.pem  server-cert.pem  sys</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>ca-key.pem  client-cert.pem  ib_buffer_pool  ib_logfile0  ibtmp1       performance_schema  public_key.pem   server-key.pem</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>âœ  data</pre></td></tr></table></figure><h5 id=\"7575-æ•°æ®å·æŒ‚è½½å’Œç›®å½•ç›´æ¥æŒ‚è½½çš„åŒºåˆ«\"><a class=\"anchor\" href=\"#7575-æ•°æ®å·æŒ‚è½½å’Œç›®å½•ç›´æ¥æŒ‚è½½çš„åŒºåˆ«\">#</a> 7.5.7.5ã€æ•°æ®å·æŒ‚è½½å’Œç›®å½•ç›´æ¥æŒ‚è½½çš„åŒºåˆ«ğŸŒ´</h5>\n<p>å½“æˆ‘ä»¬ç”¨æ•°æ®å·æ—¶ï¼ŒDocker ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬åˆ›å»ºæ•°æ®å·å¯¹åº”çš„ç›®å½•ï¼Œè¿™æ ·æ•°æ®å·å°±æŒ‡å‘äº†å®¿ä¸»æœºçš„ html ç›®å½•ã€‚è€Œ Docker æŒ‚è½½æ—¶åªéœ€è¦æŒ‚è½½åˆ°æ•°æ®å·çš„ html ç›®å½•ä¸Šå°±å¯ä»¥äº†ã€‚å®ƒä¸éœ€è¦å…³ç³»å®¿ä¸»æœºçš„ html ç›®å½•åœ¨å“ªé‡Œï¼Œè¿™ç§æ–¹å¼ç­‰äºå…¨æƒäº¤ç»™äº† Docker å»å¤„ç†</p>\n<p>è¿™æ˜¯æ•°æ®å·æŒ‚è½½çš„ä¼˜åŠ¿ï¼Œä½†æ˜¯åŠ£åŠ¿å‘¢ï¼Ÿ</p>\n<p>åŠ£åŠ¿å°±æ˜¯ï¼Œç›®å½•ä¸æ˜¯æˆ‘ä»¬åˆ›å»ºçš„ï¼Œåˆ°å“ªåˆ›å»ºäº†æˆ‘ä»¬ä¹Ÿä¸çŸ¥é“ç›®å½•ç»“æ„ä¹Ÿæ¯”è¾ƒæ·±æƒ³å»æ‰¾æ¯”è¾ƒéº»çƒ¦</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310091651091.png\" alt=\"image-20231009165142878\" /></p>\n<p>è€Œç¬¬äºŒç§æ–¹å¼ç›´æ¥æŒ‚è½½ï¼Œå®¿ä¸»æœºç›®å½•æ˜¯æˆ‘ä»¬è‡ªå·±åˆ›å»ºçš„ï¼Œåˆ›å»ºç›®å½•çš„æ—¶å€™æŒºéº»çƒ¦çš„ä½†æ˜¯è‡ªå·±çŸ¥é“è¿™ä¸ªç›®å½•åœ¨å“ªï¼Œå°†æ¥æŒ‚è½½çš„æ—¶å€™ä¹Ÿæ²¡æœ‰äººå¸®æˆ‘åšä»€ä¹ˆä»£ç†ã€‚æˆ‘ç›´æ¥æŒ‚ä¸Šå»å°±è¡Œäº†ã€‚å› æ­¤æˆ‘æƒ³å¿«é€Ÿå®šä½è¿™ä¸ªæ–‡ä»¶åœ¨å“ªå°±å¯ä»¥ä¸€ç›®äº†ç„¶ï¼Œè¿™å°±æ˜¯ç›´æ¥æŒ‚è½½çš„ä¼˜åŠ¿ï¼ŒåŠ£åŠ¿å°±æ˜¯è‡ªå·±æŒ‚è½½</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310091654555.png\" alt=\"image-20231009165439938\" /></p>\n<blockquote>\n<p><strong>æ€»ç»“</strong>:</p>\n<ol>\n<li>docker run çš„å‘½ä»¤é€šè¿‡ -v å‚æ•°æŒ‚è½½æ–‡ä»¶æˆ–ç›®å½•åˆ°å®¹å™¨ä¸­ï¼š\n<ol>\n<li><code>-v volume [åç§°]</code>  ï¼šå®¹å™¨å†…ç›®å½•</li>\n<li><code>-v</code>  å®¿ä¸»æœºæ–‡ä»¶ï¼šå®¹å™¨å†…æ–‡ä»¶</li>\n<li><code>-v</code>  å®¿ä¸»æœºç›®å½•ï¼šå®¹å™¨å†…ç›®å½•</li>\n</ol>\n</li>\n<li>æ•°æ®å·æŒ‚è½½ä¸ç›®å½•ç›´æ¥æŒ‚è½½çš„åŒºåˆ«ï¼š\n<ol>\n<li>æ•°æ®å·æŒ‚è½½è€¦åˆåº¦ä½ï¼Œç”± docker æ¥ç®¡ç†ç›®å½•ï¼Œä½†æ˜¯ç›®å½•è¾ƒæ·±ï¼Œä¸å¥½æ‰¾</li>\n<li>ç›®å½•ç›´æ¥æŒ‚è½½è€¦åˆåº¦é«˜ï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±ç®¡ç†ç›®å½•ï¼Œä¸è¿‡ç›®å½•å®¹æ˜“æ‰¾åˆ°</li>\n</ol>\n</li>\n</ol>\n</blockquote>\n<h3 id=\"76-dockerfileè‡ªå®šä¹‰é•œåƒ\"><a class=\"anchor\" href=\"#76-dockerfileè‡ªå®šä¹‰é•œåƒ\">#</a> 7.6ã€Dockerfile è‡ªå®šä¹‰é•œåƒğŸŒ³</h3>\n<h4 id=\"è‡ªå®šä¹‰é•œåƒ\"><a class=\"anchor\" href=\"#è‡ªå®šä¹‰é•œåƒ\">#</a> è‡ªå®šä¹‰é•œåƒ</h4>\n<h5 id=\"761-é•œåƒç»“æ„\"><a class=\"anchor\" href=\"#761-é•œåƒç»“æ„\">#</a> 7.6.1ã€é•œåƒç»“æ„ğŸŒ´</h5>\n<ul>\n<li>é•œåƒæ˜¯å°†åº”ç”¨ç¨‹åºåŠå…¶éœ€è¦çš„ç³»ç»Ÿå‡½æ•°åº“ï¼Œç¯å¢ƒï¼Œé…ç½®ï¼Œä¾èµ–æ‰“åŒ…è€Œæˆã€‚</li>\n</ul>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310091711487.png\" alt=\"image-20231009171118975\" /></p>\n<p>å¦‚æœè¦åˆ¶ä½œä¸€ä¸ªé•œåƒï¼Œå°±ä¸€å®šè¦å…ˆäº†è§£å®ƒå†…éƒ¨çš„æ„æˆ</p>\n<p>ä¸Šé¢è¯´åˆ°é•œåƒå°±æ˜¯ç³»ç»Ÿå‡½æ•°åº“ï¼Œç¯å¢ƒï¼Œé…ç½®ï¼Œä¾èµ–ç»„æˆçš„ï¼Œè€Œä¸”å®ƒä»¬ä¹‹é—´æœ‰ç›¸äº’ä¹‹é—´çš„ä¾èµ–å…³ç³»æˆ–è€…é¡ºåºã€‚é•œåƒä¸ä»…ä»…æ˜¯æŠŠä¸€å¯¹ä¸œè¥¿ç»„åˆåœ¨ä¸€èµ·è€Œä¸”è¿˜è¦æŒ‰ç…§ä¸€å®šé¡ºåºå»ç¿»å±‚</p>\n<p>ä¸‹é¢ä»¥ mysql ä¸ºä¾‹è®²è®²é•œåƒç»“æ„ï¼Œæˆ‘ä»¬æŠŠ mysql ç»“æ„æ‰“æ•£</p>\n<p>ä¸‹å›¾ä¸­ mysql é•œåƒç»“æ„åˆ†æˆäº† n å±‚ï¼Œå®ƒå°±æ˜¯æŒ‰ç…§ä¸Šé¢çš„ä¾èµ–é¡ºåºæ¥åˆ†å±‚çš„ï¼Œè¦æƒ³æ„å»ºä¸€ä¸ªé•œåƒï¼Œæœ€åº•å±‚ä¸€å®šæ˜¯å®ƒæ‰€åœ¨çš„ç³»ç»Ÿå‡½æ•°åº“ï¼Œè€Œæœ€ä¸‹é¢å°±æ˜¯ç”¨äº† Ubuntu æ“ä½œç³»ç»Ÿï¼ŒæŠŠ mysql å®‰è£…åŒ…æ‹·è´ä¸‹æ¥ç„¶ååœ¨æ­¤åŸºäºä¸Šä½¿ç”¨ rpm è¿›è¡Œå®‰è£… mysqlï¼Œå®‰è£…å®Œäº†è¿›è¡Œé…ç½®æ–‡ä»¶çš„é…ç½®ç­‰ç­‰ï¼Œæ‰€æœ‰çš„å®‰è£…é…ç½®å®Œæµç¨‹å°±å®Œæˆçš„å·®ä¸å¤šäº†ï¼Œè¿˜å·®ä¸€ä¸ªå…¥å£ Entrypoint é€šè¿‡è¿™ä¸ªå…¥å£å¯åŠ¨ç¨‹åºçš„ï¼Œè¿™å°±æ˜¯é•œåƒçš„æ„æˆæµç¨‹</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310091724288.png\" alt=\"image-20231009172404559\" /></p>\n<blockquote>\n<p><strong>æ€»ç»“</strong>ï¼š</p>\n<p>é•œåƒæ˜¯åˆ†å±‚ç»“æ„ï¼Œæ¯ä¸€å±‚ç§°ä¸ºä¸€ä¸ª Layer</p>\n<ul>\n<li>BaseImage å±‚ï¼šåŒ…å«åŸºæœ¬çš„ç³»ç»Ÿå‡½æ•°åº“ï¼Œç¯å¢ƒå˜é‡ï¼Œæ–‡ä»¶ç³»ç»Ÿ</li>\n<li>Entrypointï¼šå…¥å£ï¼Œæ˜¯é•œåƒä¸­åº”ç”¨å¯åŠ¨çš„å‘½ä»¤</li>\n<li>å…¶å®ƒï¼šåœ¨ BaseImage åŸºç¡€ä¸Šæ·»åŠ ä¾èµ–ï¼Œå®‰è£…ç¨‹åºï¼Œå®Œæˆæ•´ä¸ªåº”ç”¨çš„å®‰è£…å’Œé…ç½®</li>\n</ul>\n</blockquote>\n<h3 id=\"762-ä»€ä¹ˆæ˜¯dockerfile\"><a class=\"anchor\" href=\"#762-ä»€ä¹ˆæ˜¯dockerfile\">#</a> 7.6.2ã€ä»€ä¹ˆæ˜¯ DockerfileğŸŒ²</h3>\n<p>Dockerfile å°±æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªä¸ªçš„æŒ‡ä»¤ (Instruction) ï¼Œç”¨æŒ‡ä»¤æ¥è¯´æ˜è¦æ‰§è¡Œä»€ä¹ˆæ“ä½œæ¥æ„å»ºé•œåƒã€‚æ¯ä¸€ä¸ªæŒ‡ä»¤éƒ½ä¼šå½¢æˆä¸€å±‚ Layer</p>\n<table>\n<thead>\n<tr>\n<th>æŒ‡ä»¤</th>\n<th>è¯´æ˜</th>\n<th>ç¤ºä¾‹</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>FROM</td>\n<td>æŒ‡å®šåŸºç¡€é•œåƒ</td>\n<td>FROM centos:6</td>\n</tr>\n<tr>\n<td>ENV</td>\n<td>è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œå¯åœ¨åé¢æŒ‡ä»¤ä½¿ç”¨</td>\n<td>ENV key value</td>\n</tr>\n<tr>\n<td>COPY</td>\n<td>æ‹·è´æœ¬åœ°æ–‡ä»¶åˆ°é•œåƒçš„æŒ‡å®šç›®å½•</td>\n<td>COPY ./mysql-5.7.rpm /tmp</td>\n</tr>\n<tr>\n<td>RUN</td>\n<td>æ‰§è¡Œ Linux çš„ shell å‘½ä»¤ï¼Œä¸€èˆ¬æ˜¯å®‰è£…è¿‡ç¨‹çš„å‘½ä»¤</td>\n<td>RUN yum install gcc</td>\n</tr>\n<tr>\n<td>EXPOSE</td>\n<td>æŒ‡å®šå®¹å™¨è¿è¡Œæ—¶ç›‘å¬çš„ç«¯å£ï¼Œæ˜¯ç»™é•œåƒä½¿ç”¨è€…çœ‹çš„</td>\n<td>EXPOSE 8080</td>\n</tr>\n<tr>\n<td>ENTPYOINT</td>\n<td>é•œåƒä¸­åº”ç”¨çš„å¯åŠ¨å‘½ä»¤ï¼Œå®¹å™¨è¿è¡Œæ—¶è°ƒç”¨</td>\n<td>ENTPYPOINT java -jar x</td>\n</tr>\n</tbody>\n</table>\n<p>æ›´æ–°è¯¦ç»†è¯­æ³•è¯´æ˜ï¼Œè¯·å‚è€ƒå®˜ç½‘æ–‡æ¡£ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLmRvY2tlci5jb20vZW5naW5lL3JlZmVyZW5jZS9idWlsZGVy\">https://docs.docker.com/engine/reference/builder</span></p>\n<h3 id=\"763-æ¡ˆä¾‹åŸºäºubuntué•œåƒæ„å»ºä¸€ä¸ªæ–°é•œåƒè¿è¡Œä¸€ä¸ªjavaé¡¹ç›®\"><a class=\"anchor\" href=\"#763-æ¡ˆä¾‹åŸºäºubuntué•œåƒæ„å»ºä¸€ä¸ªæ–°é•œåƒè¿è¡Œä¸€ä¸ªjavaé¡¹ç›®\">#</a> 7.6.3ã€æ¡ˆä¾‹ï¼ŒåŸºäº Ubuntu é•œåƒæ„å»ºä¸€ä¸ªæ–°é•œåƒï¼Œè¿è¡Œä¸€ä¸ª java é¡¹ç›®ğŸŒ²</h3>\n<p>æ­¥éª¤ï¼š</p>\n<p>1ã€æ–°å»ºä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ docker-demo</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>âœ  /tmp <span class=\"token function\">mkdir</span> docker-demo</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>âœ  /tmp <span class=\"token builtin class-name\">cd</span> docker-demo</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>âœ  docker-demo l</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>total <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>drwxrwxr-x.  <span class=\"token number\">2</span> dkx  dkx    <span class=\"token number\">6</span> Oct  <span class=\"token number\">9</span> 05:52 <span class=\"token builtin class-name\">.</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>drwxrwxrwt. <span class=\"token number\">11</span> root root <span class=\"token number\">228</span> Oct  <span class=\"token number\">9</span> 05:52 <span class=\"token punctuation\">..</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>âœ  docker-demo</pre></td></tr></table></figure><p>2ã€æ‹·è´ docker-demo.jar æ–‡ä»¶åˆ° docker-demo è¿™ä¸ªç›®å½•ä¸­</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310091756545.png\" alt=\"image-20231009175606996\" /></p>\n<p>3ã€æ‹·è´ jdk8.tar.gz æ–‡ä»¶åˆ° docker-demo è¿™ä¸ªç›®å½•</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310091801025.png\" alt=\"image-20231009180127529\" /></p>\n<p>4ã€æ‹·è´ Dockerfile åˆ° docker-demo ç›®å½•</p>\n<p>Dockerfile å†…å®¹</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># æŒ‡å®šåŸºç¡€é•œåƒ</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>FROM ubuntu:16.04</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># é…ç½®ç¯å¢ƒå˜é‡ï¼ŒJDK çš„å®‰è£…ç›®å½•</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>ENV <span class=\"token assign-left variable\">JAVA_DIR</span><span class=\"token operator\">=</span>/usr/local</pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\"># æ‹·è´ jdk å’Œ java é¡¹ç›®çš„åŒ…</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>COPY ./jdk8.tar.gz <span class=\"token variable\">$JAVA_DIR</span>/</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>COPY ./docker-demo.jar /tmp/app.jar</pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># å®‰è£… JDK</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>RUN <span class=\"token builtin class-name\">cd</span> <span class=\"token variable\">$JAVA_DIR</span> <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">tar</span> <span class=\"token parameter variable\">-xf</span> ./jdk8.tar.gz <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">mv</span> ./jdk1.8.0_144 ./java8</pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token comment\"># é…ç½®ç¯å¢ƒå˜é‡</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>ENV <span class=\"token assign-left variable\">JAVA_HOME</span><span class=\"token operator\">=</span><span class=\"token variable\">$JAVA_DIR</span>/java8</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>ENV <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token environment constant\">$PATH</span><span class=\"token builtin class-name\">:</span><span class=\"token variable\">$JAVA_HOME</span>/bin</pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token comment\"># æš´éœ²ç«¯å£</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>EXPOSE <span class=\"token number\">8090</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token comment\"># å…¥å£ï¼Œjava é¡¹ç›®çš„å¯åŠ¨å‘½ä»¤</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>ENTRYPOINT <span class=\"token function\">java</span> <span class=\"token parameter variable\">-jar</span> /tmp/app.jar</pre></td></tr></table></figure><p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310091802428.png\" alt=\"image-20231009180246866\" /></p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>âœ  docker-demo ll</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>total 202M</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>-rw-r--r--. <span class=\"token number\">1</span> dkx dkx  25M Oct  <span class=\"token number\">9</span> 06:02 docker-demo.jar</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>-rw-r--r--. <span class=\"token number\">1</span> dkx dkx  <span class=\"token number\">494</span> Oct  <span class=\"token number\">9</span> 06:02 Dockerfile</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>-rw-r--r--. <span class=\"token number\">1</span> dkx dkx 177M Oct  <span class=\"token number\">9</span> 06:02 jdk8.tar.gz</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>âœ  docker-demo</pre></td></tr></table></figure><p>6ã€åœ¨ docker-demo ç›®å½•ä¸­è¿è¡Œå‘½ä»¤ï¼š <code>docker build -t javaweb:1.0 .</code></p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>âœ  docker-demo <span class=\"token function\">sudo</span> <span class=\"token function\">docker</span> build <span class=\"token parameter variable\">-t</span> javaweb:1.0 <span class=\"token builtin class-name\">.</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">[</span>sudo<span class=\"token punctuation\">]</span> password <span class=\"token keyword\">for</span> dkx:</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">[</span>+<span class=\"token punctuation\">]</span> Building <span class=\"token number\">46</span>.3s <span class=\"token punctuation\">(</span><span class=\"token number\">9</span>/9<span class=\"token punctuation\">)</span> FINISHED                                                                                                          docker:default</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>internal<span class=\"token punctuation\">]</span> load build definition from Dockerfile                                                                                                 <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> transferring dockerfile: 591B                                                                                                                 <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>internal<span class=\"token punctuation\">]</span> load .dockerignore                                                                                                                    <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> transferring context: 2B                                                                                                                      <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>internal<span class=\"token punctuation\">]</span> load metadata <span class=\"token keyword\">for</span> docker.io/library/ubuntu:16.04                                                                                      <span class=\"token number\">5</span>.6s</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span>/4<span class=\"token punctuation\">]</span> FROM docker.io/library/ubuntu:16.04@sha256:1f1a2d56de1d604801a9671f301190704c25d604a416f59e03c04f5c6ffee0d6                               <span class=\"token number\">30</span>.9s</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> resolve docker.io/library/ubuntu:16.04@sha256:1f1a2d56de1d604801a9671f301190704c25d604a416f59e03c04f5c6ffee0d6                                <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> sha256:1f1a2d56de1d604801a9671f301190704c25d604a416f59e03c04f5c6ffee0d6 <span class=\"token number\">1</span>.42kB / <span class=\"token number\">1</span>.42kB                                                       <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> sha256:a3785f78ab8547ae2710c89e627783cfa7ee7824d3468cae6835c9f4eae23ff7 <span class=\"token number\">1</span>.15kB / <span class=\"token number\">1</span>.15kB                                                       <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> sha256:b6f50765242581c887ff1acc2511fa2d885c52d8fb3ac8c4bba131fd86567f2e <span class=\"token number\">3</span>.36kB / <span class=\"token number\">3</span>.36kB                                                       <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"14\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> sha256:58690f9b18fca6469a14da4e212c96849469f9b1be6661d2342a4bf01774aa50 <span class=\"token number\">46</span>.50MB / <span class=\"token number\">46</span>.50MB                                                    <span class=\"token number\">27</span>.2s</pre></td></tr><tr><td data-num=\"15\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> sha256:b51569e7c50720acf6860327847fe342a1afbe148d24c529fb81df105e3eed01 857B / 857B                                                           <span class=\"token number\">0</span>.9s</pre></td></tr><tr><td data-num=\"16\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> sha256:da8ef40b9ecabc2679fe2419957220c0272a965c5cf7e0269fa1aeeb8c56f2e1 528B / 528B                                                           <span class=\"token number\">0</span>.8s</pre></td></tr><tr><td data-num=\"17\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> sha256:fb15d46c38dcd1ea0b1990006c3366ecd10c79d374f341687eb2cb23a2c8672e 170B / 170B                                                           <span class=\"token number\">1</span>.5s</pre></td></tr><tr><td data-num=\"18\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> extracting sha256:58690f9b18fca6469a14da4e212c96849469f9b1be6661d2342a4bf01774aa50                                                            <span class=\"token number\">3</span>.5s</pre></td></tr><tr><td data-num=\"19\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> extracting sha256:b51569e7c50720acf6860327847fe342a1afbe148d24c529fb81df105e3eed01                                                            <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"20\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> extracting sha256:da8ef40b9ecabc2679fe2419957220c0272a965c5cf7e0269fa1aeeb8c56f2e1                                                            <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"21\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> extracting sha256:fb15d46c38dcd1ea0b1990006c3366ecd10c79d374f341687eb2cb23a2c8672e                                                            <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"22\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>internal<span class=\"token punctuation\">]</span> load build context                                                                                                                    <span class=\"token number\">1</span>.6s</pre></td></tr><tr><td data-num=\"23\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> transferring context: <span class=\"token number\">211</span>.19MB                                                                                                                <span class=\"token number\">1</span>.6s</pre></td></tr><tr><td data-num=\"24\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token number\">2</span>/4<span class=\"token punctuation\">]</span> COPY ./jdk8.tar.gz /usr/local/                                                                                                             <span class=\"token number\">0</span>.7s</pre></td></tr><tr><td data-num=\"25\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span>/4<span class=\"token punctuation\">]</span> COPY ./docker-demo.jar /tmp/app.jar                                                                                                        <span class=\"token number\">0</span>.1s</pre></td></tr><tr><td data-num=\"26\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token number\">4</span>/4<span class=\"token punctuation\">]</span> RUN <span class=\"token builtin class-name\">cd</span> /usr/local  <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">tar</span> <span class=\"token parameter variable\">-xf</span> ./jdk8.tar.gz  <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">mv</span> ./jdk1.8.0_144 ./java8                                                                  <span class=\"token number\">4</span>.8s</pre></td></tr><tr><td data-num=\"27\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> exporting to image                                                                                                                               <span class=\"token number\">4</span>.0s</pre></td></tr><tr><td data-num=\"28\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> exporting layers                                                                                                                              <span class=\"token number\">3</span>.9s</pre></td></tr><tr><td data-num=\"29\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> writing image sha256:7163e4e0d2b830e1f411e6d50c40cb258e0110888af48e8ddce9642f72f564c1                                                         <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"30\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> naming to docker.io/library/javaweb:1.0                                                                                                       <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>âœ  docker-demo</pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°é•œåƒæ„å»ºå¥½äº†</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker images</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>REPOSITORY   TAG       IMAGE ID       CREATED              SIZE</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>javaweb      <span class=\"token number\">1.0</span>       7163e4e0d2b8   About a minute ago   722MB</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>nginx        latest    61395b4c586d   <span class=\"token number\">2</span> weeks ago          187MB</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>redis        latest    7c4b517da47d   <span class=\"token number\">4</span> weeks ago          153MB</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>mysql        <span class=\"token number\">5.7</span>.25    98455b9624a9   <span class=\"token number\">4</span> years ago          372MB</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><p>åˆ›å»ºå®¹å™¨å¹¶è¿è¡Œ</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker run --name web -p 8090:8090 -d javaweb:1.0</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>de4fc104d20fd0c7a44fe227aa07bbba8fb5fd6c7ca04400e7b90c93375573a5</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker ps</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>CONTAINER ID   IMAGE          COMMAND                  CREATED         STATUS         PORTS                                                  NAMES</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>de4fc104d20f   javaweb:1.0    <span class=\"token string\">\"/bin/sh -c 'java -jâ€¦\"</span>   <span class=\"token number\">4</span> seconds ago   Up <span class=\"token number\">2</span> seconds   <span class=\"token number\">0.0</span>.0.0:8090-<span class=\"token operator\">></span><span class=\"token number\">8090</span>/tcp, :::8090-<span class=\"token operator\">></span><span class=\"token number\">8090</span>/tcp              web</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>10d26568836c   mysql:5.7.25   <span class=\"token string\">\"docker-entrypoint.sâ€¦\"</span>   <span class=\"token number\">2</span> hours ago     Up <span class=\"token number\">2</span> hours     <span class=\"token number\">0.0</span>.0.0:3306-<span class=\"token operator\">></span><span class=\"token number\">3306</span>/tcp, :::3306-<span class=\"token operator\">></span><span class=\"token number\">3306</span>/tcp, <span class=\"token number\">33060</span>/tcp   some-mysql</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>2ba6c6cf79f4   nginx          <span class=\"token string\">\"/docker-entrypoint.â€¦\"</span>   <span class=\"token number\">4</span> hours ago     Up <span class=\"token number\">4</span> hours     <span class=\"token number\">0.0</span>.0.0:80-<span class=\"token operator\">></span><span class=\"token number\">80</span>/tcp, :::80-<span class=\"token operator\">></span><span class=\"token number\">80</span>/tcp                      mn</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><p>è®¿é—®é¡µé¢ uriï¼š<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMjQ5LjEyODo4MDkwL2hlbGxvL2NvdW50\">http://192.168.249.128:8090/hello/count</span></p>\n<p>è®¿é—®æˆåŠŸ</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310091907846.png\" alt=\"image-20231009190718545\" /></p>\n<p>&lt;font color='red'&gt; é—®é¢˜ &lt;/font&gt;ï¼š</p>\n<p>å¦‚æœæ¯ä¸ªå¾®æœåŠ¡æ„å»ºéƒ½è¦è¿›è¡Œä¸‹é¢çš„æµç¨‹ä¼šå¾ˆéº»çƒ¦</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># æŒ‡å®šåŸºç¡€é•œåƒ</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>FROM ubuntu:16.04</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># é…ç½®ç¯å¢ƒå˜é‡ï¼ŒJDK çš„å®‰è£…ç›®å½•</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>ENV <span class=\"token assign-left variable\">JAVA_DIR</span><span class=\"token operator\">=</span>/usr/local</pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\"># æ‹·è´ jdk å’Œ java é¡¹ç›®çš„åŒ…</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>COPY ./jdk8.tar.gz <span class=\"token variable\">$JAVA_DIR</span>/</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>COPY ./docker-demo.jar /tmp/app.jar</pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\"># å®‰è£… JDK</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>RUN <span class=\"token builtin class-name\">cd</span> <span class=\"token variable\">$JAVA_DIR</span> <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">tar</span> <span class=\"token parameter variable\">-xf</span> ./jdk8.tar.gz <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">mv</span> ./jdk1.8.0_144 ./java8</pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token comment\"># é…ç½®ç¯å¢ƒå˜é‡</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>ENV <span class=\"token assign-left variable\">JAVA_HOME</span><span class=\"token operator\">=</span><span class=\"token variable\">$JAVA_DIR</span>/java8</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>ENV <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token environment constant\">$PATH</span><span class=\"token builtin class-name\">:</span><span class=\"token variable\">$JAVA_HOME</span>/bin</pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token comment\"># æš´éœ²ç«¯å£</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>EXPOSE <span class=\"token number\">8090</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token comment\"># å…¥å£ï¼Œjava é¡¹ç›®çš„å¯åŠ¨å‘½ä»¤</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>ENTRYPOINT <span class=\"token function\">java</span> <span class=\"token parameter variable\">-jar</span> /tmp/app.jar</pre></td></tr></table></figure><p>ä»é…ç½®ç¯å¢ƒå‰ n å±‚çš„å†…å®¹ä¸ä¼šå˜ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å‰ n å±‚æå‰æ„å»ºå¥½åšä¸€ä¸ªé•œåƒã€‚ä»¥åå°±éƒ½åœ¨è¿™ä¸ªæ„å»ºå¥½çš„åŸºç¡€ä¸Šå»æ„å»ºé•œåƒæ˜¯ä¸æ˜¯å°±æ–¹ä¾¿å¤šäº†ã€‚</p>\n<p>ä½†å®é™…ä¸Šå·²ç»æœ‰äººå¸®æˆ‘ä»¬åšå¥½äº†è¿™ä»¶äº‹å„¿äº†ã€‚</p>\n<p>å°±æ˜¯å¦‚ä¸‹ï¼š</p>\n<h3 id=\"764-åŸºäºjava8-alpineé•œåƒå°†ä¸€ä¸ªjavaé¡¹ç›®æ„å»ºä¸ºé•œåƒ\"><a class=\"anchor\" href=\"#764-åŸºäºjava8-alpineé•œåƒå°†ä¸€ä¸ªjavaé¡¹ç›®æ„å»ºä¸ºé•œåƒ\">#</a> 7.6.4ã€åŸºäº java:8-alpine é•œåƒï¼Œå°†ä¸€ä¸ª java é¡¹ç›®æ„å»ºä¸ºé•œåƒğŸŒ²</h3>\n<p><strong>å®ç°æ€è·¯å¦‚ä¸‹</strong>ï¼š</p>\n<p>1ã€æ–°å»ºä¸€ä¸ªç©ºçš„ç›®å½•ï¼Œç„¶ååœ¨ç›®å½•ä¸­æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå‘½åä¸º Dockerfile</p>\n<p>2ã€æ‹·è´ docker-demo.jar åˆ°è¿™ä¸ªç›®å½•ä¸­</p>\n<p>3ã€ç¼–å†™ Dockerfile æ–‡ä»¶ï¼š</p>\n<ol>\n<li>åŸºäº java:8-alpine ä½œä¸ºåŸºç¡€é•œåƒ</li>\n<li>å°† app.jar æ‹·è´åˆ°é•œåƒä¸­</li>\n<li>æš´æ¼ç«¯å£</li>\n<li>ç¼–å†™å…¥å£ ENTRYPOINT</li>\n</ol>\n<p>4ã€ä½¿ç”¨ docker build å‘½ä»¤æ„å»ºé•œåƒ</p>\n<p>5ã€ä½¿ç”¨ docker run åˆ›å»ºå®¹å™¨å¹¶è¿è¡Œ</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># æŒ‡å®šåŸºç¡€é•œåƒ</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>FROM java:8-alpine</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># æš´éœ²ç«¯å£</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>EXPOSE <span class=\"token number\">8090</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\"># å…¥å£ï¼Œjava é¡¹ç›®çš„å¯åŠ¨å‘½ä»¤</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>ENTRYPOINT <span class=\"token function\">java</span> <span class=\"token parameter variable\">-jar</span> /tmp/app.jar</pre></td></tr></table></figure><p>ç›´æ¥èŠ‚çœäº†å¤§é‡çš„ä»£ç å·¥ä½œ</p>\n<p>ä¿®æ”¹å®Œæˆä¿å­˜åï¼Œè¦†ç›– Linuxï¼Œ/tmp/docker-demo ä¸­çš„ Dockerfile æ–‡ä»¶</p>\n<p>è¦†ç›–æˆåŠŸ</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310091923461.png\" alt=\"image-20231009192320991\" /></p>\n<p>ä½¿ç”¨ cat å‘½ä»¤æŸ¥çœ‹ä¸‹ä¿®æ”¹æƒ…å†µ</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\"># cat /tmp/docker-demo/Dockerfile</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># æŒ‡å®šåŸºç¡€é•œåƒ</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>FROM java:8-alpine</pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># æš´éœ²ç«¯å£</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>EXPOSE <span class=\"token number\">8090</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># å…¥å£ï¼Œjava é¡¹ç›®çš„å¯åŠ¨å‘½ä»¤</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>ENTRYPOINT <span class=\"token function\">java</span> <span class=\"token parameter variable\">-jar</span> /tmp/app.jar<span class=\"token punctuation\">[</span>root@localhost ~<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><p>å†æ¬¡è¿›è¡Œæ„å»ºé•œåƒ</p>\n<p>å¦‚æœæ„å»ºé‡åˆ°æŠ¥é”™å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>âœ  docker-demo <span class=\"token function\">sudo</span> <span class=\"token function\">docker</span> build <span class=\"token parameter variable\">-t</span> javaweb:1.0 <span class=\"token builtin class-name\">.</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">[</span>+<span class=\"token punctuation\">]</span> Building <span class=\"token number\">2</span>.7s <span class=\"token punctuation\">(</span><span class=\"token number\">3</span>/3<span class=\"token punctuation\">)</span> FINISHED                                                                                                           docker:default</pre></td></tr><tr><td data-num=\"3\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>internal<span class=\"token punctuation\">]</span> load .dockerignore                                                                                                                    <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> transferring context: 2B                                                                                                                      <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>internal<span class=\"token punctuation\">]</span> load build definition from Dockerfile                                                                                                 <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> transferring dockerfile: 245B                                                                                                                 <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> ERROR <span class=\"token punctuation\">[</span>internal<span class=\"token punctuation\">]</span> load metadata <span class=\"token keyword\">for</span> docker.io/library/openjava:8-alpine                                                                           <span class=\"token number\">2</span>.6s</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>------</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> <span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>internal<span class=\"token punctuation\">]</span> load metadata <span class=\"token keyword\">for</span> docker.io/library/openjava:8-alpine:</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>------</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>Dockerfile:2</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>--------------------</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>   <span class=\"token number\">1</span> <span class=\"token operator\">|</span>     <span class=\"token comment\"># æŒ‡å®šåŸºç¡€é•œåƒ</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>   <span class=\"token number\">2</span> <span class=\"token operator\">|</span> <span class=\"token operator\">>></span><span class=\"token operator\">></span> FROM openjava:8-alpine</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>   <span class=\"token number\">3</span> <span class=\"token operator\">|</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>   <span class=\"token number\">4</span> <span class=\"token operator\">|</span>     <span class=\"token comment\"># æš´éœ²ç«¯å£</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>--------------------</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>ERROR: failed to solve: openjava:8-alpine: pull access denied, repository does not exist or may require authorization: server message: insufficient_scope: authorization failed</pre></td></tr></table></figure><p>åˆ™éœ€è¦å°† Dockerfile æ–‡ä»¶ä¸­çš„ java:8-alpine æ”¹ä¸º openjdk:8-alpine</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># æŒ‡å®šåŸºç¡€é•œåƒ</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>FROM openjdk:8-alpine</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># æš´éœ²ç«¯å£</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>EXPOSE <span class=\"token number\">8090</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\"># å…¥å£ï¼Œjava é¡¹ç›®çš„å¯åŠ¨å‘½ä»¤</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>ENTRYPOINT <span class=\"token function\">java</span> <span class=\"token parameter variable\">-jar</span> /tmp/app.jar</pre></td></tr></table></figure><p>å†æ¬¡è¿›è¡Œæ„å»ºé•œåƒ</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>âœ  docker-demo <span class=\"token function\">sudo</span> <span class=\"token function\">docker</span> build <span class=\"token parameter variable\">-t</span> javaweb:1.0 <span class=\"token builtin class-name\">.</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">[</span>+<span class=\"token punctuation\">]</span> Building <span class=\"token number\">89</span>.8s <span class=\"token punctuation\">(</span><span class=\"token number\">5</span>/5<span class=\"token punctuation\">)</span> FINISHED                                                                                                          docker:default</pre></td></tr><tr><td data-num=\"3\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>internal<span class=\"token punctuation\">]</span> load .dockerignore                                                                                                                    <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> transferring context: 2B                                                                                                                      <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>internal<span class=\"token punctuation\">]</span> load build definition from Dockerfile                                                                                                 <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> transferring dockerfile: 244B                                                                                                                 <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>internal<span class=\"token punctuation\">]</span> load metadata <span class=\"token keyword\">for</span> docker.io/library/openjdk:8-alpine                                                                                  <span class=\"token number\">6</span>.1s</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span>/1<span class=\"token punctuation\">]</span> FROM docker.io/library/openjdk:8-alpine@sha256:94792824df2df33402f201713f932b58cb9de94a0cd524164a0f2283343547b3                           <span class=\"token number\">83</span>.6s</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> resolve docker.io/library/openjdk:8-alpine@sha256:94792824df2df33402f201713f932b58cb9de94a0cd524164a0f2283343547b3                            <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> sha256:a3562aa0b991a80cfe8172847c8be6dbf6e46340b759c2b782f8b8be45342717 <span class=\"token number\">3</span>.40kB / <span class=\"token number\">3</span>.40kB                                                       <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> sha256:e7c96db7181be991f19a9fb6975cdbbd73c65f4a2681348e63a141a2192a5f10 <span class=\"token number\">2</span>.76MB / <span class=\"token number\">2</span>.76MB                                                      <span class=\"token number\">10</span>.9s</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> sha256:f910a506b6cb1dbec766725d70356f695ae2bf2bea6224dbe8c7c6ad4f3664a2 238B / 238B                                                           <span class=\"token number\">0</span>.8s</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> sha256:c2274a1a0e2786ee9101b08f76111f9ab8019e368dce1e325d3c284a0ca33397 <span class=\"token number\">70</span>.73MB / <span class=\"token number\">70</span>.73MB                                                    <span class=\"token number\">80</span>.6s</pre></td></tr><tr><td data-num=\"14\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> sha256:94792824df2df33402f201713f932b58cb9de94a0cd524164a0f2283343547b3 <span class=\"token number\">1</span>.64kB / <span class=\"token number\">1</span>.64kB                                                       <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"15\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> sha256:44b3cea369c947527e266275cee85c71a81f20fc5076f6ebb5a13f19015dce71 947B / 947B                                                           <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"16\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> extracting sha256:e7c96db7181be991f19a9fb6975cdbbd73c65f4a2681348e63a141a2192a5f10                                                            <span class=\"token number\">0</span>.2s</pre></td></tr><tr><td data-num=\"17\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> extracting sha256:f910a506b6cb1dbec766725d70356f695ae2bf2bea6224dbe8c7c6ad4f3664a2                                                            <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"18\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> extracting sha256:c2274a1a0e2786ee9101b08f76111f9ab8019e368dce1e325d3c284a0ca33397                                                            <span class=\"token number\">2</span>.8s</pre></td></tr><tr><td data-num=\"19\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> exporting to image                                                                                                                               <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"20\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> exporting layers                                                                                                                              <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"21\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> writing image sha256:d92b26b799ba6c537e486f7619b96f16ae44e8d4fb296ab05cd80e9d764f5b30                                                         <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"22\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> naming to docker.io/library/javaweb:1.0                                                                                                       <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>âœ  docker-demo</pre></td></tr></table></figure><p>æ„å»ºå®Œæˆï¼</p>\n<p>å†æ¬¡è¿›è¡Œè®¿é—®é¡µé¢ uriï¼š<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMjQ5LjEyODo4MDkwL2hlbGxvL2NvdW50\">http://192.168.249.128:8090/hello/count</span></p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310091951847.png\" alt=\"image-20231009194918244\" /></p>\n<blockquote>\n<p>æ€»ç»“:</p>\n<ol>\n<li>Dockerfile çš„æœ¬è´¨æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œé€šè¿‡æŒ‡ä»¤æè¿°é•œåƒçš„æ„å»ºè¿‡ç¨‹</li>\n<li>Dockerfile çš„ç¬¬ä¸€è¡Œå¿…é¡»æ˜¯ FROMï¼Œä»ä¸€ä¸ªåŸºç¡€é•œåƒæ¥æ„å»º</li>\n<li>åŸºç¡€é•œåƒå¯ä»¥æ˜¯åŸºæœ¬æ“ä½œç³»ç»Ÿï¼Œå¦‚ Ubuntuã€‚ä¹Ÿå¯ä»¥æ˜¯å…¶å®ƒäººåˆ¶ä½œå¥½çš„é•œåƒï¼Œä¾‹å¦‚ï¼šjava:8-alpine äº¦æˆ–è€… openjdk:8-alpine</li>\n</ol>\n</blockquote>\n<h3 id=\"765-dockercompose\"><a class=\"anchor\" href=\"#765-dockercompose\">#</a> 7.6.5ã€DockerComposeğŸŒ²</h3>\n<ul>\n<li>åˆå§‹ DockerCompose</li>\n<li>éƒ¨ç½²å¾®æœåŠ¡é›†ç¾¤</li>\n</ul>\n<p>å®é™…ç”Ÿäº§ç¯å¢ƒä¸­å¾®æœåŠ¡å¾ˆå¤šå¾ˆå¤šï¼Œæ•°åä¸Šç™¾ç”šè‡³ä¸Šåƒä¸ªå¾®æœåŠ¡æˆ‘ä»¬å¦‚æœä¸€ä¸ªä¸€ä¸ªå»æ„å»ºè¿™å¯å¾—ç´¯æ­»äº†ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦æœ‰ä¸€ç§é›†ç¾¤éƒ¨ç½²çš„æ‰‹æ®µï¼Œé‚£ä¹ˆè¿™å°±æ˜¯æˆ‘ä»¬è¦å­¦ä¹ çš„ DockerCompose äº†</p>\n<h4 id=\"7651-ä»€ä¹ˆæ˜¯dockercompose\"><a class=\"anchor\" href=\"#7651-ä»€ä¹ˆæ˜¯dockercompose\">#</a> 7.6.5.1ã€ä»€ä¹ˆæ˜¯ DockerComposeğŸŒ´</h4>\n<ul>\n<li>DockerCompose å¯ä»¥åŸºäº Compose æ–‡ä»¶å¸®æˆ‘ä»¬å¿«é€Ÿçš„éƒ¨ç½²åˆ†å¸ƒå¼åº”ç”¨ï¼Œè€Œæ— éœ€æ‰‹åŠ¨ä¸€ä¸ªä¸€ä¸ªåˆ›å»ºå’Œè¿è¡Œå®¹å™¨ï¼</li>\n<li>Compose æ–‡ä»¶æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œ é€šè¿‡æŒ‡ä»¤å®šä¹‰é›†ç¾¤ä¸­çš„æ¯ä¸ªå®¹å™¨å¦‚æœè¿è¡Œã€‚</li>\n<li>Compose æ–‡ä»¶æ˜¯æŠŠ Docker run å‘½ä»¤é›†åˆè¿›æ¥çš„ç„¶åæŠŠè¯­æ³•è½¬æ¢äº†ä¸€ä¸‹</li>\n</ul>\n<p>DockerCompose æ–‡ä»¶å°±æ˜¯æŠŠ Docker run çš„å„ç§å‚æ•°è½¬æ¢æˆæŒ‡ä»¤å»å®šä¹‰äº†ã€‚</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310092019582.png\" alt=\"image-20231009201930379\" /></p>\n<ul>\n<li>DockerCompose çš„è¯¦ç»†è¯­æ³•å‚è€ƒå®˜ç½‘ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLmRvY2tlci5jb20vY29tcG9zZS9jb21wb3NlLWZpbGUv\">https://docs.docker.com/compose/compose-file/</span></li>\n</ul>\n<p>ä¸Šé¢äº†è§£åæˆ‘ä»¬å°±è¿›è¡Œå®‰è£… DockerComposeï¼š<a href=\"./Docker/Centos7%E5%AE%89%E8%A3%85Docker.md\">æŸ¥çœ‹å®‰è£…æ–‡ç« </a>.</p>\n<blockquote>\n<p><strong>æ€»ç»“</strong>ï¼š</p>\n<p>DockerCompose æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</p>\n<ul>\n<li>å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿéƒ¨ç½²åˆ†å¸ƒå¼åº”ç”¨ï¼Œæ— éœ€ä¸€ä¸ªä¸€ä¸ªå¾®æœåŠ¡å»æ„å»ºé•œåƒå’Œéƒ¨ç½²</li>\n</ul>\n</blockquote>\n<h4 id=\"7652-dockercomposeéƒ¨ç½²\"><a class=\"anchor\" href=\"#7652-dockercomposeéƒ¨ç½²\">#</a> 7.6.5.2ã€DockerCompose éƒ¨ç½²ğŸŒ´</h4>\n<p><strong>æ¡ˆä¾‹ï¼Œå°†ä¹‹å‰å­¦ä¹ çš„ cloud-demo å¾®æœåŠ¡é›†ç¾¤åˆ©ç”¨ DockerCompose éƒ¨ç½²</strong>.</p>\n<p>å®ç°æ€è·¯å¦‚ä¸‹ï¼š</p>\n<p>1ã€åˆ›å»ºä¸ cloud-demo é¡¹ç›®ç›®å½•ç›¸åŒçš„å‡ ä¸ªæ–‡ä»¶å¤¹</p>\n<p>ä¸‰ä¸ªå¾®æœåŠ¡éœ€è¦ä¾èµ–äº mysql æ‰€ä»¥éœ€è¦å‡†å¤‡ mysql çš„æ•°æ®</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310092043951.png\" alt=\"image-20231009204357169\" /></p>\n<p>2ã€æ¯ä¸ªæ–‡ä»¶å¤¹é‡Œé¢å­˜æ”¾ Dockerfile æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># åŸºç¡€é•œåƒ</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>FROM java:8-alpine</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># æ‹·è´å½“å‰ç›®å½•ä¸­çš„ app.jar åˆ° tem ç›®å½•ä¸­ï¼Œå°†è¿è¡Œçš„ jar åŒ…æ‹·è´åˆ°é•œåƒä¸­</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>COPY ./app.jar /tmp/app.jar</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># å¯åŠ¨è„šæœ¬</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>ENTRYPOINT <span class=\"token function\">java</span> <span class=\"token parameter variable\">-jar</span> /tmp/app.jar</pre></td></tr></table></figure><p>é™¤äº† mysql çš„ç›®å½•ä¸­å†åˆ›å»ºä¸¤ä¸ªç›®å½•</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310092047841.png\" alt=\"image-20231009204740200\" /></p>\n<p>conf ç›®å½•ä¸­å­˜æ”¾ mysql é…ç½®æ–‡ä»¶</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310092048636.png\" alt=\"image-20231009204801023\" /></p>\n<p>data ç›®å½•é‡Œé¢å­˜æ”¾æ•°æ®åº“çš„æ•°æ®</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310092048062.png\" alt=\"image-20231009204831646\" /></p>\n<p>3ã€æœ€å¤–å±‚åˆ›å»ºä¸€ä¸ª docker-compose.yml æ–‡ä»¶</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310092049638.png\" alt=\"image-20231009204929278\" /></p>\n<p>å†…å®¹ä¸ºï¼š</p>\n<figure class=\"highlight yml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"3.2\"</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token key atrule\">nacos</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> nacos/nacos<span class=\"token punctuation\">-</span>server</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># ç¯å¢ƒé…ç½®ï¼Œå¯åŠ¨å‚æ•°</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      <span class=\"token key atrule\">MODE</span><span class=\"token punctuation\">:</span> standalone</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"8848:8848\"</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token key atrule\">mysql</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> mysql<span class=\"token punctuation\">:</span>5.7.25</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      <span class=\"token key atrule\">MYSQL_ROOT_PASSWORD</span><span class=\"token punctuation\">:</span> <span class=\"token number\">123</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token comment\"># æ•°æ®å·æŒ‚è½½</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># ä½¿ç”¨ Linux æŒ‡ä»¤ pwd è·å–å½“å‰ç›®å½•ä½ç½®ç„¶åä»è¿™ä¸ªä½ç½®æ‰¾å¯¹åº”çš„ç›®å½•ï¼Œä¸å†™ç¡¬ç¼–ç </span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"$PWD/mysql/data:/var/lib/mysql\"</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"$PWD/mysql/conf:/etc/mysql/conf.d/\"</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token key atrule\">userservice</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token comment\"># æœåŠ¡æ„å»ºåŸºäº dockerfile å®Œæˆæ„å»ºï¼Œåœ¨å½“å‰ç›®å½•ä¸‹çš„ user-service ç›®å½•ä¸‹æ‰¾åˆ° dockerfile è¿›è¡Œæ„å»ºé•œåƒ</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span> ./user<span class=\"token punctuation\">-</span>service</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token comment\"># æœåŠ¡æ„å»ºåŸºäº dockerfile å®Œæˆæ„å»ºï¼Œåœ¨å½“å‰ç›®å½•ä¸‹çš„ order-service ç›®å½•ä¸‹æ‰¾åˆ° dockerfile è¿›è¡Œæ„å»ºé•œåƒ</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  <span class=\"token key atrule\">orderservice</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span> ./order<span class=\"token punctuation\">-</span>service</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>  <span class=\"token key atrule\">gateway</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  <span class=\"token comment\"># ç½‘å…³æ„å»ºåŸºäº dockerfile å®Œæˆæ„å»ºï¼Œåœ¨å½“å‰ç›®å½•ä¸‹çš„ gateway ç›®å½•ä¸‹æ‰¾åˆ° dockerfile è¿›è¡Œæ„å»ºé•œåƒ</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span> ./gateway</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token comment\"># åªæœ‰ç½‘å…³æš´æ¼äº†ç«¯å£ï¼Œå‰©ä¸‹ä¸Šé¢çš„å¾®æœåŠ¡éƒ½æ²¡æœ‰æš´æ¼ï¼Œå› ä¸ºç½‘å…³æ‰æ˜¯å…¥å£è€Œä¸åº”è¯¥å°†å¾®æœåŠ¡æš´æ¼å‡ºå»</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"10010:10010\"</span></pre></td></tr></table></figure><p>å°†æ¥ DockerCompose å°±ä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨çš„å»æ„å»ºè¿™ä¸‰ä¸ªå¾®æœåŠ¡çš„é•œåƒäº†ï¼Œå®ç°ä¸€æ¬¡æ€§éƒ¨ç½²</p>\n<p>4ã€ä¿®æ”¹è‡ªå·±çš„ cloud-demo é¡¹ç›®ï¼Œå°†æ•°æ®åº“ï¼Œnacos åœ°å€éƒ½å‘½åä¸º docker-compose ä¸­çš„æœåŠ¡å</p>\n<p>ä¸èƒ½æŠŠ nacosï¼Œæ•°æ®åº“ä¹‹ç±»çš„é…ç½®åœ°å€å†™æ­»ï¼Œå› ä¸ºå¾®æœåŠ¡å¯èƒ½é…ç½®åœ¨ä¸åŒçš„æœºå™¨ä¸Š</p>\n<blockquote>\n<p>ç”¨ DockerCompose éƒ¨ç½²æ—¶æ‰€æœ‰çš„æœåŠ¡ä¹‹é—´éƒ½å¯ä»¥ç”¨æœåŠ¡åç§°å»äº’ç›¸è®¿é—®ï¼Œè¿™æ˜¯ DockerCompose åº•å±‚åšäº†ä¸€äº›é…ç½®</p>\n</blockquote>\n<p>user-service ä¸­çš„ nacos é…ç½®</p>\n<figure class=\"highlight yml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">spring</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token key atrule\">application</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> userservice <span class=\"token comment\"># æœåŠ¡åç§°</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token key atrule\">profiles</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token key atrule\">active</span><span class=\"token punctuation\">:</span> dev <span class=\"token comment\"># ç¯å¢ƒ</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token key atrule\">cloud</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token key atrule\">nacos</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token key atrule\">server-addr</span><span class=\"token punctuation\">:</span> nacos<span class=\"token punctuation\">:</span><span class=\"token number\">8848</span> <span class=\"token comment\"># nacos åœ°å€</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      <span class=\"token key atrule\">discovery</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token comment\"># cluster-name: TJ</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      <span class=\"token key atrule\">config</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token key atrule\">file-extension</span><span class=\"token punctuation\">:</span> yaml <span class=\"token comment\"># é…ç½®æ–‡ä»¶åç¼€å</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\"># ä¸‰è¦ç´ ï¼šæœåŠ¡åç§°ï¼Œç¯å¢ƒï¼Œåç¼€å è€Œè¿™ä¸‰ä¸ªå†³å®šäº† DateId</span></pre></td></tr></table></figure><p>user-service ä¸­çš„ mysql é…ç½®</p>\n<figure class=\"highlight yml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">spring</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token key atrule\">datasource</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> jdbc<span class=\"token punctuation\">:</span>mysql<span class=\"token punctuation\">:</span>//mysql<span class=\"token punctuation\">:</span>3306/cloud_user<span class=\"token punctuation\">?</span>useSSL=false<span class=\"token important\">&amp;characterEncoding=utf-8&amp;serverTimezone=UTC</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token key atrule\">username</span><span class=\"token punctuation\">:</span> root</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span> dkx.</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token key atrule\">driver-class-name</span><span class=\"token punctuation\">:</span> com.mysql.cj.jdbc.Driver</pre></td></tr></table></figure><p>åŒæ ·å°† order-service ä¸­çš„ mysql å’Œ nacos åœ°å€é…ç½®æ”¹è¿‡æ¥</p>\n<figure class=\"highlight yml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">spring</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token key atrule\">datasource</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> jdbc<span class=\"token punctuation\">:</span>mysql<span class=\"token punctuation\">:</span>//mysql<span class=\"token punctuation\">:</span>3306/cloud_order<span class=\"token punctuation\">?</span>useSSL=false<span class=\"token important\">&amp;characterEncoding=utf-8&amp;serverTimezone=UTC</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token key atrule\">username</span><span class=\"token punctuation\">:</span> root</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span> dkx.</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token key atrule\">driver-class-name</span><span class=\"token punctuation\">:</span> com.mysql.cj.jdbc.Driver</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token key atrule\">application</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> orderservice</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token key atrule\">cloud</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token key atrule\">nacos</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      <span class=\"token key atrule\">server-addr</span><span class=\"token punctuation\">:</span> nacos<span class=\"token punctuation\">:</span><span class=\"token number\">8848</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      <span class=\"token key atrule\">discovery</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token comment\"># cluster-name: HZ # é›†ç¾¤åç§°</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token comment\"># namespace: ed32fa6f-e9e3-4483-b860-7bcd9731d0d9 # å‘½åç©ºé—´ï¼Œå¡« ID dev ç¯å¢ƒ</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token key atrule\">ephemeral</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span> <span class=\"token comment\"># è®¾ç½®æ˜¯å¦ä¸ºä¸´æ—¶å®ä¾‹ è®¾ç½®ä¸ºéä¸´æ—¶å®ä¾‹</span></pre></td></tr></table></figure><p>ä¿®æ”¹ç½‘å…³æœåŠ¡çš„ nacos åœ°å€é…ç½®</p>\n<figure class=\"highlight yml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#=========== è¿™äº›é…ç½®è®©ç½‘å…³èƒ½å¤Ÿè”ç³»ä¸Š nacos å®ç°æœåŠ¡æ³¨å†Œå’Œå‘ç° ====</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token key atrule\">server</span><span class=\"token punctuation\">:</span>                                              <span class=\"token comment\">#||</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10010</span> <span class=\"token comment\"># ç½‘å…³ç«¯å£                              #||</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token key atrule\">spring</span><span class=\"token punctuation\">:</span>                                              <span class=\"token comment\">#||</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token key atrule\">application</span><span class=\"token punctuation\">:</span>                                       <span class=\"token comment\">#||</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> gateway <span class=\"token comment\"># æœåŠ¡åç§°                           #||</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token key atrule\">cloud</span><span class=\"token punctuation\">:</span>                                              <span class=\"token comment\">#||</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token key atrule\">nacos</span><span class=\"token punctuation\">:</span>                                            <span class=\"token comment\">#||</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      <span class=\"token key atrule\">server-addr</span><span class=\"token punctuation\">:</span> nacos<span class=\"token punctuation\">:</span><span class=\"token number\">8848</span> <span class=\"token comment\"># nacos åœ°å€          #||</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token comment\">#========================================================</span></pre></td></tr></table></figure><p>5ã€ä½¿ç”¨ maven æ‰“åŒ…å·¥å…·ï¼Œå°†é¡¹ç›®ä¸­çš„æ¯ä¸ªå¾®æœåŠ¡éƒ½æ‰“åŒ…ä¸º app.jar æ–‡ä»¶</p>\n<p>å¦‚æœè¦è®©é¡¹ç›®æ‰“åŒ…ä¸º app.jar åç§°åˆ™éœ€è¦åœ¨ pom.xml æ–‡ä»¶ä¸­é…ç½®å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>build</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>finalName</span><span class=\"token punctuation\">></span></span>app<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>finalName</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>build</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>æˆ‘ä»¬åœ¨æ‰€æœ‰éœ€è¦æ‰“åŒ…çš„æœåŠ¡ä¸­çš„ pom æ–‡ä»¶é‡Œé¢è¿›è¡Œé…ç½®</p>\n<p>å…ˆè¿›è¡Œä¸€ä¸‹ clean æ¸…ç©ºä¸€ä¸ªç„¶åå†è¿›è¡Œ install å®‰è£…æœ¬åœ°</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310092114297.png\" alt=\"image-20231009211435849\" /></p>\n<p>6ã€å°†æ‰“åŒ…å¥½çš„ app.jar æ‹·è´åˆ° cloud-demo ä¸­çš„æ¯ä¸€ä¸ªå¯¹åº”çš„å­ç›®å½•ä¸­</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310092123149.png\" alt=\"image-20231009212348796\" /></p>\n<p>7ã€å°† cloud-demo ä¸Šä¼ è‡³è™šæ‹Ÿæœºï¼Œåˆ©ç”¨ docker-compose up -d æ¥éƒ¨ç½²</p>\n<p>å‚æ•°è¯´æ˜ï¼šup - åˆ›å»ºå¹¶æ‰§è¡Œå®¹å™¨</p>\n<p>â€‹\t\t\t -d - åå°è¿è¡Œ</p>\n<p>å…¶å®ƒå‚æ•° help å‚è§</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310092126664.png\" alt=\"image-20231009212636444\" /></p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost tmp<span class=\"token punctuation\">]</span><span class=\"token comment\"># cd cloud-demo/</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost cloud-demo<span class=\"token punctuation\">]</span><span class=\"token comment\"># ls</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>docker-compose.yml  gateway  mysql  order-service  user-service</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost cloud-demo<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><p>ä½¿ç”¨å‘½ä»¤è¿›è¡Œéƒ¨ç½²</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost cloud-demo<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker-compose up -d</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Building userservice</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">[</span>+<span class=\"token punctuation\">]</span> Building <span class=\"token number\">3</span>.5s <span class=\"token punctuation\">(</span><span class=\"token number\">7</span>/7<span class=\"token punctuation\">)</span> FINISHED                                                                                                           docker:default</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>internal<span class=\"token punctuation\">]</span> load build definition from Dockerfile                                                                                                 <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> transferring dockerfile: 182B                                                                                                                 <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>internal<span class=\"token punctuation\">]</span> load .dockerignore                                                                                                                    <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> transferring context: 2B                                                                                                                      <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"8\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>internal<span class=\"token punctuation\">]</span> load metadata <span class=\"token keyword\">for</span> docker.io/library/openjdk:8-alpine                                                                                  <span class=\"token number\">2</span>.7s</pre></td></tr><tr><td data-num=\"9\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>internal<span class=\"token punctuation\">]</span> load build context                                                                                                                    <span class=\"token number\">0</span>.3s</pre></td></tr><tr><td data-num=\"10\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> transferring context: <span class=\"token number\">39</span>.30MB                                                                                                                 <span class=\"token number\">0</span>.3s</pre></td></tr><tr><td data-num=\"11\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> CACHED <span class=\"token punctuation\">[</span><span class=\"token number\">1</span>/2<span class=\"token punctuation\">]</span> FROM docker.io/library/openjdk:8-alpine@sha256:94792824df2df33402f201713f932b58cb9de94a0cd524164a0f2283343547b3                     <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"12\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token number\">2</span>/2<span class=\"token punctuation\">]</span> COPY ./app.jar /tmp/app.jar                                                                                                                <span class=\"token number\">0</span>.2s</pre></td></tr><tr><td data-num=\"13\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> exporting to image                                                                                                                               <span class=\"token number\">0</span>.3s</pre></td></tr><tr><td data-num=\"14\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> exporting layers                                                                                                                              <span class=\"token number\">0</span>.2s</pre></td></tr><tr><td data-num=\"15\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> writing image sha256:ab22b9b33217d7b1e7287dc7b16564ba7a683bcc390e961ffb7d6f77069ea697                                                         <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"16\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> naming to docker.io/library/cloud-demo_userservice                                                                                            <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>WARNING: Image <span class=\"token keyword\">for</span> <span class=\"token function\">service</span> userservice was built because it did not already exist. To rebuild this image you must use <span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">docker-compose</span> build<span class=\"token variable\">`</span></span> or <span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">docker-compose</span> up <span class=\"token parameter variable\">--build</span><span class=\"token variable\">`</span></span><span class=\"token builtin class-name\">.</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>Building orderservice</pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">[</span>+<span class=\"token punctuation\">]</span> Building <span class=\"token number\">1</span>.4s <span class=\"token punctuation\">(</span><span class=\"token number\">7</span>/7<span class=\"token punctuation\">)</span> FINISHED                                                                                                           docker:default</pre></td></tr><tr><td data-num=\"20\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>internal<span class=\"token punctuation\">]</span> load build definition from Dockerfile                                                                                                 <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"21\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> transferring dockerfile: 182B                                                                                                                 <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"22\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>internal<span class=\"token punctuation\">]</span> load .dockerignore                                                                                                                    <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"23\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> transferring context: 2B                                                                                                                      <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"24\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>internal<span class=\"token punctuation\">]</span> load metadata <span class=\"token keyword\">for</span> docker.io/library/openjdk:8-alpine                                                                                  <span class=\"token number\">0</span>.6s</pre></td></tr><tr><td data-num=\"25\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>internal<span class=\"token punctuation\">]</span> load build context                                                                                                                    <span class=\"token number\">0</span>.3s</pre></td></tr><tr><td data-num=\"26\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> transferring context: <span class=\"token number\">41</span>.82MB                                                                                                                 <span class=\"token number\">0</span>.3s</pre></td></tr><tr><td data-num=\"27\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> CACHED <span class=\"token punctuation\">[</span><span class=\"token number\">1</span>/2<span class=\"token punctuation\">]</span> FROM docker.io/library/openjdk:8-alpine@sha256:94792824df2df33402f201713f932b58cb9de94a0cd524164a0f2283343547b3                     <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"28\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token number\">2</span>/2<span class=\"token punctuation\">]</span> COPY ./app.jar /tmp/app.jar                                                                                                                <span class=\"token number\">0</span>.1s</pre></td></tr><tr><td data-num=\"29\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> exporting to image                                                                                                                               <span class=\"token number\">0</span>.2s</pre></td></tr><tr><td data-num=\"30\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> exporting layers                                                                                                                              <span class=\"token number\">0</span>.2s</pre></td></tr><tr><td data-num=\"31\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> writing image sha256:4fb619347bfb2d9aac0e824d4334973c18761b4ee64c1f9fddbd3b6041b8fad1                                                         <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"32\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> naming to docker.io/library/cloud-demo_orderservice                                                                                           <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"33\"></td><td><pre>WARNING: Image <span class=\"token keyword\">for</span> <span class=\"token function\">service</span> orderservice was built because it did not already exist. To rebuild this image you must use <span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">docker-compose</span> build<span class=\"token variable\">`</span></span> or <span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">docker-compose</span> up <span class=\"token parameter variable\">--build</span><span class=\"token variable\">`</span></span><span class=\"token builtin class-name\">.</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>Building gateway</pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token punctuation\">[</span>+<span class=\"token punctuation\">]</span> Building <span class=\"token number\">1</span>.2s <span class=\"token punctuation\">(</span><span class=\"token number\">7</span>/7<span class=\"token punctuation\">)</span> FINISHED                                                                                                           docker:default</pre></td></tr><tr><td data-num=\"36\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>internal<span class=\"token punctuation\">]</span> load build definition from Dockerfile                                                                                                 <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"37\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> transferring dockerfile: 182B                                                                                                                 <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"38\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>internal<span class=\"token punctuation\">]</span> load .dockerignore                                                                                                                    <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"39\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> transferring context: 2B                                                                                                                      <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"40\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>internal<span class=\"token punctuation\">]</span> load metadata <span class=\"token keyword\">for</span> docker.io/library/openjdk:8-alpine                                                                                  <span class=\"token number\">0</span>.6s</pre></td></tr><tr><td data-num=\"41\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>internal<span class=\"token punctuation\">]</span> load build context                                                                                                                    <span class=\"token number\">0</span>.3s</pre></td></tr><tr><td data-num=\"42\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> transferring context: <span class=\"token number\">39</span>.92MB                                                                                                                 <span class=\"token number\">0</span>.3s</pre></td></tr><tr><td data-num=\"43\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> CACHED <span class=\"token punctuation\">[</span><span class=\"token number\">1</span>/2<span class=\"token punctuation\">]</span> FROM docker.io/library/openjdk:8-alpine@sha256:94792824df2df33402f201713f932b58cb9de94a0cd524164a0f2283343547b3                     <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"44\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token number\">2</span>/2<span class=\"token punctuation\">]</span> COPY ./app.jar /tmp/app.jar                                                                                                                <span class=\"token number\">0</span>.1s</pre></td></tr><tr><td data-num=\"45\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> exporting to image                                                                                                                               <span class=\"token number\">0</span>.2s</pre></td></tr><tr><td data-num=\"46\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> exporting layers                                                                                                                              <span class=\"token number\">0</span>.2s</pre></td></tr><tr><td data-num=\"47\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> writing image sha256:53993c010033dc8356f48ddd183ad1768544070ceb7e803ada30d20e9b3ae316                                                         <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"48\"></td><td><pre> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> naming to docker.io/library/cloud-demo_gateway                                                                                                <span class=\"token number\">0</span>.0s</pre></td></tr><tr><td data-num=\"49\"></td><td><pre>WARNING: Image <span class=\"token keyword\">for</span> <span class=\"token function\">service</span> gateway was built because it did not already exist. To rebuild this image you must use <span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">docker-compose</span> build<span class=\"token variable\">`</span></span> or <span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">docker-compose</span> up <span class=\"token parameter variable\">--build</span><span class=\"token variable\">`</span></span><span class=\"token builtin class-name\">.</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>Creating cloud-demo_nacos_1        <span class=\"token punctuation\">..</span>. <span class=\"token keyword\">done</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>Creating cloud-demo_userservice_1  <span class=\"token punctuation\">..</span>. <span class=\"token keyword\">done</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>Creating cloud-demo_mysql_1        <span class=\"token punctuation\">..</span>. <span class=\"token keyword\">done</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>Creating cloud-demo_gateway_1      <span class=\"token punctuation\">..</span>. <span class=\"token keyword\">done</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>Creating cloud-demo_orderservice_1 <span class=\"token punctuation\">..</span>. <span class=\"token keyword\">done</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost cloud-demo<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><p>éƒ¨ç½²æˆåŠŸä½¿ç”¨å‘½ä»¤æŸ¥çœ‹å¯åŠ¨æ—¥å¿—ï¼šdocker-compose logs -f</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost cloud-demo<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker-compose logs -f</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Attaching to cloud-demo_orderservice_1, cloud-demo_gateway_1, cloud-demo_userservice_1, cloud-demo_mysql_1, cloud-demo_nacos_1</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>gateway_1       <span class=\"token operator\">|</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>gateway_1       <span class=\"token operator\">|</span>   <span class=\"token builtin class-name\">.</span>   ____          _            __ _ _</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>gateway_1       <span class=\"token operator\">|</span>  /<span class=\"token punctuation\">\\</span><span class=\"token punctuation\">\\</span> / ___<span class=\"token string\">'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>gateway_1       | ( ( )\\___ | '</span>_ <span class=\"token operator\">|</span> <span class=\"token string\">'_| | '</span>_ <span class=\"token punctuation\">\\</span>/ _` <span class=\"token operator\">|</span> <span class=\"token punctuation\">\\</span> <span class=\"token punctuation\">\\</span> <span class=\"token punctuation\">\\</span> <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>gateway_1       <span class=\"token operator\">|</span>  <span class=\"token punctuation\">\\</span><span class=\"token punctuation\">\\</span>/  ___<span class=\"token punctuation\">)</span><span class=\"token operator\">|</span> <span class=\"token operator\">|</span>_<span class=\"token punctuation\">)</span><span class=\"token operator\">|</span> <span class=\"token operator\">|</span> <span class=\"token operator\">|</span> <span class=\"token operator\">|</span> <span class=\"token operator\">|</span> <span class=\"token operator\">||</span> <span class=\"token punctuation\">(</span>_<span class=\"token operator\">|</span> <span class=\"token operator\">|</span>  <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>gateway_1       <span class=\"token operator\">|</span>   '  <span class=\"token operator\">|</span>____<span class=\"token operator\">|</span> .__<span class=\"token operator\">|</span>_<span class=\"token operator\">|</span> <span class=\"token operator\">|</span>_<span class=\"token operator\">|</span>_<span class=\"token operator\">|</span> <span class=\"token operator\">|</span>_<span class=\"token punctuation\">\\</span>__, <span class=\"token operator\">|</span> / / / /</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>gateway_1       <span class=\"token operator\">|</span>  <span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">=</span><span class=\"token operator\">|</span>_<span class=\"token operator\">|</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">|</span>___/<span class=\"token operator\">=</span>/_/_/_/</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>gateway_1       <span class=\"token operator\">|</span>  :: Spring Boot ::        <span class=\"token punctuation\">(</span>v2.3.9.RELEASE<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>gateway_1       <span class=\"token operator\">|</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>gateway_1       <span class=\"token operator\">|</span> <span class=\"token number\">10</span>-09 <span class=\"token number\">13</span>:37:38:143  INFO <span class=\"token number\">1</span> --- <span class=\"token punctuation\">[</span>           main<span class=\"token punctuation\">]</span> cn.itcast.gateway.GatewayApplication     <span class=\"token builtin class-name\">:</span> No active profile set, falling back to default profiles: default</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>gateway_1       <span class=\"token operator\">|</span> <span class=\"token number\">10</span>-09 <span class=\"token number\">13</span>:37:41:667  INFO <span class=\"token number\">1</span> --- <span class=\"token punctuation\">[</span>           main<span class=\"token punctuation\">]</span> o.s.cloud.context.scope.GenericScope     <span class=\"token builtin class-name\">:</span> BeanFactory <span class=\"token assign-left variable\">id</span><span class=\"token operator\">=</span>87ef38f0-5652-3427-832e-5397c91e63b6</pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">..</span><span class=\"token punctuation\">..</span></pre></td></tr></table></figure><p>å¯åŠ¨æ—¶ nacos ä¼šæŠ¥é”™å› ä¸ºå®ƒå¯åŠ¨çš„æ¯”è¾ƒæ…¢æˆ‘ä»¬éœ€è¦å…ˆå¯åŠ¨ nacos æ‰§è¡Œå‘½ä»¤ï¼š <code>docker-compose up -d nacos</code></p>\n<p>ç­‰å¾… nacos å¯åŠ¨å®Œæˆåå¯ä»¥è®¿é—® uri æµ‹è¯•ä¸€ä¸‹ï¼š<span class=\"exturl\" data-url=\"aHR0cDovLzE5Mi4xNjguMjQ5LjEyODo4ODQ4L25hY29z\">http://192.168.249.128:8848/nacos</span></p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310101029911.png\" alt=\"image-20231010102946333\" /></p>\n<p>å¦‚æœæœ‰æŠ¥é”™ä¿¡æ¯å¯ä»¥ä½¿ç”¨å‘½ä»¤é‡å¯æœåŠ¡ <code>docker-compose restart gateway userservice orderservice</code></p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost cloud-demo<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker-compose restart gateway userservice orderservice</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Restarting cloud-demo_orderservice_1 <span class=\"token punctuation\">..</span>. <span class=\"token keyword\">done</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Restarting cloud-demo_gateway_1      <span class=\"token punctuation\">..</span>. <span class=\"token keyword\">done</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Restarting cloud-demo_userservice_1  <span class=\"token punctuation\">..</span>. <span class=\"token keyword\">done</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost cloud-demo<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure><h3 id=\"766-dockeré•œåƒä»“åº“\"><a class=\"anchor\" href=\"#766-dockeré•œåƒä»“åº“\">#</a> 7.6.6ã€Docker é•œåƒä»“åº“ğŸŒ²</h3>\n<ul>\n<li>æ­å»ºç§æœ‰é•œåƒä»“åº“</li>\n<li>å‘é•œåƒä»“åº“æ¨é€é•œåƒ</li>\n<li>ä»é•œåƒä»“åº“æ‹‰å–é•œåƒ</li>\n</ul>\n<h4 id=\"7661-å¸¸è§é•œåƒä»“åº“æœåŠ¡\"><a class=\"anchor\" href=\"#7661-å¸¸è§é•œåƒä»“åº“æœåŠ¡\">#</a> 7.6.6.1ã€å¸¸è§é•œåƒä»“åº“æœåŠ¡ğŸŒ´</h4>\n<p>é•œåƒä»“åº“ (Docker Registry) æœ‰å…¬å…±å’Œç§æœ‰çš„ä¸¤ç§å½¢å¼ï¼š</p>\n<ul>\n<li>å…¬å…±ä»“åº“ï¼šä¾‹å¦‚ Docker å®˜æ–¹çš„ Docker Hubï¼Œå›½å†…ä¹Ÿæœ‰ä¸€äº›æœåŠ¡å•†æä¾›ç±»ä¼¼äº Docker Hub çš„å…¬å¼€æœåŠ¡ï¼Œæ¯”å¦‚ ç½‘æ˜“äº‘é•œåƒæœåŠ¡ï¼ŒDaoCloud é•œåƒæœåŠ¡ï¼Œé˜¿é‡Œäº‘é•œåƒæœåŠ¡ç­‰ã€‚</li>\n<li>é™¤äº†ä½¿ç”¨å…¬å¼€ä»“åº“å¤–ï¼Œç”¨æˆ·è¿˜å¯ä»¥åœ¨æœ¬åœ°æ­å»ºç§æœ‰ Docker Registryã€‚ä¼ä¸šè‡ªå·±çš„é•œåƒæœ€å¥½æ˜¯é‡‡ç”¨ç§æœ‰ Docker Registry æ¥å®ç°ã€‚</li>\n</ul>\n<h4 id=\"7662-åˆ›å»ºç§æœé•œåƒä»“åº“æŸ¥çœ‹æ–‡ç« \"><a class=\"anchor\" href=\"#7662-åˆ›å»ºç§æœé•œåƒä»“åº“æŸ¥çœ‹æ–‡ç« \">#</a> 7.6.6.2ã€åˆ›å»ºç§æœé•œåƒä»“åº“æŸ¥çœ‹æ–‡ç« ğŸŒ´</h4>\n<p><a href=\"./Docker/Centos7%E5%AE%89%E8%A3%85Docker.md\">æŸ¥çœ‹ Docker å¸¦æœ‰å›¾å½¢åŒ–é•œåƒä»“åº“</a>.</p>\n<h4 id=\"7663-åœ¨ç§æœ‰é•œåƒä»“åº“æ¨é€æˆ–æ‹‰å–é•œåƒ\"><a class=\"anchor\" href=\"#7663-åœ¨ç§æœ‰é•œåƒä»“åº“æ¨é€æˆ–æ‹‰å–é•œåƒ\">#</a> 7.6.6.3ã€åœ¨ç§æœ‰é•œåƒä»“åº“æ¨é€æˆ–æ‹‰å–é•œåƒğŸŒ´</h4>\n<p>æ¨é€é•œåƒåˆ°ç§æœ‰é•œåƒæœåŠ¡å¿…é¡»å…ˆ tagï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>\n<p>1ã€é‡æ–° tag æœ¬åœ°é•œåƒï¼Œåç§°å‰ç¼€ä¸ºç§æœ‰ä»“åº“çš„åœ°å€ï¼š192.168.150.101:8080/</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> tag nginx:latest <span class=\"token number\">192.168</span>.150.101:8080/nginx:1.0</pre></td></tr></table></figure><p>ä½¿ç”¨ docker images æŸ¥çœ‹æ‰“åŒ…å¥½çš„é•œåƒ</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310101215960.png\" alt=\"image-20231010121530321\" /></p>\n<p>2ã€æ¨é€é•œåƒ</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> push <span class=\"token number\">192.168</span>.150.101:8080/nginx:1.0</pre></td></tr></table></figure><p>3ã€æ‹‰å–é•œåƒ</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> pull <span class=\"token number\">192.168</span>.150.101:8080/nginx:1.0</pre></td></tr></table></figure><blockquote>\n<p><strong>æ€»ç»“</strong>ï¼š</p>\n<ol>\n<li>æ¨é€æœ¬åœ°é•œåƒåˆ°ä»“åº“å‰éƒ½å¿…é¡»é‡å‘½å (docker tag) é•œåƒï¼Œä»¥é•œåƒä»“åº“åœ°å€ä¸ºå‰ç¼€</li>\n<li>é•œåƒä»“åº“æ¨é€å‰éœ€è¦æŠŠä»“åº“åœ°å€é…ç½®åˆ° docker æœåŠ¡çš„ daemon.json æ–‡ä»¶ä¸­ï¼Œè¢« docker ä¿¡ä»»</li>\n<li>æ¨é€ä½¿ç”¨ docker push å‘½ä»¤</li>\n<li>æ‹‰å–ä½¿ç”¨ docker pull å‘½ä»¤</li>\n</ol>\n</blockquote>\n",
            "tags": [
                "è®¡ç®—æœºå­¦ç§‘",
                "springcloud",
                "Docker"
            ]
        },
        {
            "id": "https://pigpigletsgo.github.io/homepage/2024/01/24/computer-science/java/spring/springcloud/Docker/Linux%E4%B8%ADDocker%E7%9A%84%E4%B8%8B%E8%BD%BD%E5%92%8C%E5%AE%89%E8%A3%85/",
            "url": "https://pigpigletsgo.github.io/homepage/2024/01/24/computer-science/java/spring/springcloud/Docker/Linux%E4%B8%ADDocker%E7%9A%84%E4%B8%8B%E8%BD%BD%E5%92%8C%E5%AE%89%E8%A3%85/",
            "title": "Linuxä¸­Dockerçš„ä¸‹è½½å’Œå®‰è£…",
            "date_published": "2024-01-24T10:48:46.155Z",
            "content_html": "<h1 id=\"0å®‰è£…docker\"><a class=\"anchor\" href=\"#0å®‰è£…docker\">#</a> 0. å®‰è£… Docker</h1>\n<p>Docker åˆ†ä¸º CE å’Œ EE ä¸¤å¤§ç‰ˆæœ¬ã€‚CE å³ç¤¾åŒºç‰ˆï¼ˆå…è´¹ï¼Œæ”¯æŒå‘¨æœŸ 7 ä¸ªæœˆï¼‰ï¼ŒEE å³ä¼ä¸šç‰ˆï¼Œå¼ºè°ƒå®‰å…¨ï¼Œä»˜è´¹ä½¿ç”¨ï¼Œæ”¯æŒå‘¨æœŸ 24 ä¸ªæœˆã€‚</p>\n<p>Docker CE åˆ†ä¸º  <code>stable</code>   <code>test</code>  å’Œ  <code>nightly</code>  ä¸‰ä¸ªæ›´æ–°é¢‘é“ã€‚</p>\n<p>å®˜æ–¹ç½‘ç«™ä¸Šæœ‰å„ç§ç¯å¢ƒä¸‹çš„ <span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLmRvY2tlci5jb20vaW5zdGFsbC8=\">å®‰è£…æŒ‡å—</span>ï¼Œè¿™é‡Œä¸»è¦ä»‹ç» Docker CE åœ¨ CentOS ä¸Šçš„å®‰è£…ã€‚</p>\n<h1 id=\"1centoså®‰è£…docker\"><a class=\"anchor\" href=\"#1centoså®‰è£…docker\">#</a> 1.CentOS å®‰è£… Docker</h1>\n<p>Docker CE æ”¯æŒ 64 ä½ç‰ˆæœ¬ CentOS 7ï¼Œå¹¶ä¸”è¦æ±‚å†…æ ¸ç‰ˆæœ¬ä¸ä½äº 3.10ï¼Œ CentOS 7 æ»¡è¶³æœ€ä½å†…æ ¸çš„è¦æ±‚ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ CentOS 7 å®‰è£… Dockerã€‚</p>\n<h2 id=\"11å¸è½½å¯é€‰\"><a class=\"anchor\" href=\"#11å¸è½½å¯é€‰\">#</a> 1.1. å¸è½½ï¼ˆå¯é€‰ï¼‰</h2>\n<p>å¦‚æœä¹‹å‰å®‰è£…è¿‡æ—§ç‰ˆæœ¬çš„ Dockerï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢å‘½ä»¤å¸è½½ï¼š</p>\n<pre><code>yum remove docker \\\ndocker-client \\\ndocker-client-latest \\\ndocker-common \\\ndocker-latest \\\ndocker-latest-logrotate \\\ndocker-logrotate \\\ndocker-selinux \\\ndocker-engine-selinux \\\ndocker-engine \\\ndocker-ce\n</code></pre>\n<h2 id=\"12å®‰è£…docker\"><a class=\"anchor\" href=\"#12å®‰è£…docker\">#</a> 1.2. å®‰è£… docker</h2>\n<p>é¦–å…ˆéœ€è¦å¤§å®¶è™šæ‹Ÿæœºè”ç½‘ï¼Œå®‰è£… yum å·¥å…·</p>\n<p>æ³¨æ„ï¼š è¿™é‡Œæ˜¯å¿…é¡»å®‰è£…çš„ï¼Œå› ä¸ºä¸‹é¢çš„ yum-utils ä¸æ˜¯ yum å®ƒä»¬æ˜¯ä¸åŒçš„å¦‚æœæ²¡æœ‰ yum-utils é‚£ä¹ˆä¸‹é¢çš„æ­¥éª¤å°±ä¼šå¤±è´¥</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> yum-utils <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>device-mapper-persistent-data <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>lvm2 --skip-broken</pre></td></tr></table></figure><p>ç„¶åæ›´æ–°æœ¬åœ°é•œåƒæºï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># è®¾ç½® docker é•œåƒæº</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>yum-config-manager <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    --add-repo <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    </pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">sed</span> <span class=\"token parameter variable\">-i</span> <span class=\"token string\">'s/download.docker.com/mirrors.aliyun.com\\/docker-ce/g'</span> /etc/yum.repos.d/docker-ce.repo</pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>yum makecache fast</pre></td></tr></table></figure><p>ç„¶åè¾“å…¥å‘½ä»¤ï¼š</p>\n<figure class=\"highlight shell\"><figcaption data-lang=\"Bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> docker-ce</pre></td></tr></table></figure><p>docker-ce ä¸ºç¤¾åŒºå…è´¹ç‰ˆæœ¬ã€‚ç¨ç­‰ç‰‡åˆ»ï¼Œdocker å³å¯å®‰è£…æˆåŠŸã€‚</p>\n<h2 id=\"13å¯åŠ¨docker\"><a class=\"anchor\" href=\"#13å¯åŠ¨docker\">#</a> 1.3. å¯åŠ¨ docker</h2>\n<p>Docker åº”ç”¨éœ€è¦ç”¨åˆ°å„ç§ç«¯å£ï¼Œé€ä¸€å»ä¿®æ”¹é˜²ç«å¢™è®¾ç½®ã€‚éå¸¸éº»çƒ¦ï¼Œå› æ­¤å»ºè®®å¤§å®¶ç›´æ¥å…³é—­é˜²ç«å¢™ï¼</p>\n<p>å¯åŠ¨ docker å‰ï¼Œä¸€å®šè¦å…³é—­é˜²ç«å¢™åï¼ï¼</p>\n<p>å¯åŠ¨ docker å‰ï¼Œä¸€å®šè¦å…³é—­é˜²ç«å¢™åï¼ï¼</p>\n<p>å¯åŠ¨ docker å‰ï¼Œä¸€å®šè¦å…³é—­é˜²ç«å¢™åï¼ï¼</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># å…³é—­</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>systemctl stop firewalld</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># ç¦æ­¢å¼€æœºå¯åŠ¨é˜²ç«å¢™</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>systemctl disable firewalld</pre></td></tr></table></figure><p>é€šè¿‡å‘½ä»¤å¯åŠ¨ dockerï¼š</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>systemctl start <span class=\"token function\">docker</span>  <span class=\"token comment\"># å¯åŠ¨ docker æœåŠ¡</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>systemctl stop <span class=\"token function\">docker</span>  <span class=\"token comment\"># åœæ­¢ docker æœåŠ¡</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>systemctl restart <span class=\"token function\">docker</span>  <span class=\"token comment\"># é‡å¯ docker æœåŠ¡</span></pre></td></tr></table></figure><p>ç„¶åè¾“å…¥å‘½ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹ docker ç‰ˆæœ¬ï¼š</p>\n<pre><code>docker -v\n</code></pre>\n<p>å¦‚å›¾ï¼š</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310081526343.png\" alt=\"image-20210418154704436\" /></p>\n<h2 id=\"14é…ç½®é•œåƒåŠ é€Ÿ\"><a class=\"anchor\" href=\"#14é…ç½®é•œåƒåŠ é€Ÿ\">#</a> 1.4. é…ç½®é•œåƒåŠ é€Ÿ</h2>\n<p>docker å®˜æ–¹é•œåƒä»“åº“ç½‘é€Ÿè¾ƒå·®ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®å›½å†…é•œåƒæœåŠ¡ï¼š</p>\n<p>å‚è€ƒé˜¿é‡Œäº‘çš„é•œåƒåŠ é€Ÿæ–‡æ¡£ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9jci5jb25zb2xlLmFsaXl1bi5jb20vY24taGFuZ3pob3UvaW5zdGFuY2VzL21pcnJvcnM=\">https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors</span></p>\n<h1 id=\"2centos7å®‰è£…dockercompose\"><a class=\"anchor\" href=\"#2centos7å®‰è£…dockercompose\">#</a> 2.CentOS7 å®‰è£… DockerCompose</h1>\n<h2 id=\"21ä¸‹è½½\"><a class=\"anchor\" href=\"#21ä¸‹è½½\">#</a> 2.1. ä¸‹è½½</h2>\n<p>Linux ä¸‹éœ€è¦é€šè¿‡å‘½ä»¤ä¸‹è½½ï¼š</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># å®‰è£…</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-L</span> https://github.com/docker/compose/releases/download/1.23.1/docker-compose-<span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">uname</span> <span class=\"token parameter variable\">-s</span><span class=\"token variable\">`</span></span>-<span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">uname</span> <span class=\"token parameter variable\">-m</span><span class=\"token variable\">`</span></span> <span class=\"token operator\">></span> /usr/local/bin/docker-compose</pre></td></tr></table></figure><p>å¦‚æœä¸‹è½½é€Ÿåº¦è¾ƒæ…¢ï¼Œæˆ–è€…ä¸‹è½½å¤±è´¥ï¼Œå¯ä»¥ä½¿ç”¨è¯¾å‰èµ„æ–™æä¾›çš„ docker-compose æ–‡ä»¶ï¼š</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310081526880.png\" alt=\"image-20210417133020614\" /></p>\n<p>ä¸Šä¼ åˆ° <code>/usr/local/bin/</code>  ç›®å½•ä¹Ÿå¯ä»¥ã€‚</p>\n<p>åœ¨å½“å‰ç›®å½•ä¸‹ä¹Ÿå¯ä»¥æ‰¾åˆ° docker-compose æ–‡ä»¶</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202310092029811.png\" alt=\"image-20231009202915017\" /></p>\n<h2 id=\"22ä¿®æ”¹æ–‡ä»¶æƒé™\"><a class=\"anchor\" href=\"#22ä¿®æ”¹æ–‡ä»¶æƒé™\">#</a> 2.2. ä¿®æ”¹æ–‡ä»¶æƒé™</h2>\n<p>ä¿®æ”¹æ–‡ä»¶æƒé™ï¼š</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># ä¿®æ”¹æƒé™</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">chmod</span> +x /usr/local/bin/docker-compose</pre></td></tr></table></figure><h2 id=\"23baseè‡ªåŠ¨è¡¥å…¨å‘½ä»¤\"><a class=\"anchor\" href=\"#23baseè‡ªåŠ¨è¡¥å…¨å‘½ä»¤\">#</a> 2.3.Base è‡ªåŠ¨è¡¥å…¨å‘½ä»¤ï¼š</h2>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># è¡¥å…¨å‘½ä»¤</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-L</span> https://raw.githubusercontent.com/docker/compose/1.29.1/contrib/completion/bash/docker-compose <span class=\"token operator\">></span> /etc/bash_completion.d/docker-compose</pre></td></tr></table></figure><p>å¦‚æœå‡ºé”™å¯ä»¥å°è¯•å¼€ï¼šæ¢¯å­ã€‚</p>\n<p>å¦‚æœè¿™é‡Œå‡ºç°é”™è¯¯ï¼Œéœ€è¦ä¿®æ”¹è‡ªå·±çš„ hosts æ–‡ä»¶ï¼š</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"199.232.68.133 raw.githubusercontent.com\"</span> <span class=\"token operator\">>></span> /etc/hosts</pre></td></tr></table></figure><h1 id=\"3dockeré•œåƒä»“åº“\"><a class=\"anchor\" href=\"#3dockeré•œåƒä»“åº“\">#</a> 3.Docker é•œåƒä»“åº“</h1>\n<p>æ­å»ºé•œåƒä»“åº“å¯ä»¥åŸºäº Docker å®˜æ–¹æä¾›çš„ DockerRegistry æ¥å®ç°ã€‚</p>\n<p>å®˜ç½‘åœ°å€ï¼š<span class=\"exturl\" data-url=\"aHR0cHM6Ly9odWIuZG9ja2VyLmNvbS9fL3JlZ2lzdHJ5\">https://hub.docker.com/_/registry</span></p>\n<h2 id=\"31ç®€åŒ–ç‰ˆé•œåƒä»“åº“\"><a class=\"anchor\" href=\"#31ç®€åŒ–ç‰ˆé•œåƒä»“åº“\">#</a> 3.1. ç®€åŒ–ç‰ˆé•œåƒä»“åº“</h2>\n<p>Docker å®˜æ–¹çš„ Docker Registry æ˜¯ä¸€ä¸ªåŸºç¡€ç‰ˆæœ¬çš„ Docker é•œåƒä»“åº“ï¼Œå…·å¤‡ä»“åº“ç®¡ç†çš„å®Œæ•´åŠŸèƒ½ï¼Œä½†æ˜¯æ²¡æœ‰å›¾å½¢åŒ–ç•Œé¢ã€‚</p>\n<p>æ­å»ºæ–¹å¼æ¯”è¾ƒç®€å•ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">docker</span> run <span class=\"token parameter variable\">-d</span> <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token parameter variable\">--restart</span><span class=\"token operator\">=</span>always <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token parameter variable\">--name</span> registry\t<span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token parameter variable\">-p</span> <span class=\"token number\">5000</span>:5000 <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token parameter variable\">-v</span> registry-data:/var/lib/registry <span class=\"token punctuation\">\\</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    registry</pre></td></tr></table></figure><p>å‘½ä»¤ä¸­æŒ‚è½½äº†ä¸€ä¸ªæ•°æ®å· registry-data åˆ°å®¹å™¨å†…çš„ /var/lib/registry ç›®å½•ï¼Œè¿™æ˜¯ç§æœ‰é•œåƒåº“å­˜æ”¾æ•°æ®çš„ç›®å½•ã€‚</p>\n<p>è®¿é—® http://YourIp:5000/v2/_catalog å¯ä»¥æŸ¥çœ‹å½“å‰ç§æœ‰é•œåƒæœåŠ¡ä¸­åŒ…å«çš„é•œåƒ</p>\n<h2 id=\"32å¸¦æœ‰å›¾å½¢åŒ–ç•Œé¢ç‰ˆæœ¬\"><a class=\"anchor\" href=\"#32å¸¦æœ‰å›¾å½¢åŒ–ç•Œé¢ç‰ˆæœ¬\">#</a> 3.2. å¸¦æœ‰å›¾å½¢åŒ–ç•Œé¢ç‰ˆæœ¬</h2>\n<p>ä½¿ç”¨ DockerCompose éƒ¨ç½²å¸¦æœ‰å›¾è±¡ç•Œé¢çš„ DockerRegistryï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight yaml\"><figcaption data-lang=\"YAML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'3.0'</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token key atrule\">registry</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> registry</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      <span class=\"token punctuation\">-</span> ./registry<span class=\"token punctuation\">-</span>data<span class=\"token punctuation\">:</span>/var/lib/registry</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      <span class=\"token punctuation\">-</span> CATALOG_ELEMENTS_LIMIT=\"1000\"</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token key atrule\">ui</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> joxit/docker<span class=\"token punctuation\">-</span>registry<span class=\"token punctuation\">-</span>ui<span class=\"token punctuation\">:</span>static</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      <span class=\"token punctuation\">-</span> 8080<span class=\"token punctuation\">:</span><span class=\"token number\">80</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      <span class=\"token punctuation\">-</span> REGISTRY_TITLE=ä¼ æ™ºæ•™è‚²ç§æœ‰ä»“åº“</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token punctuation\">-</span> REGISTRY_URL=http<span class=\"token punctuation\">:</span>//registry<span class=\"token punctuation\">:</span><span class=\"token number\">5000</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token key atrule\">depends_on</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      <span class=\"token punctuation\">-</span> registry</pre></td></tr></table></figure><h2 id=\"321åˆ›å»ºdocker-composeymlæ–‡ä»¶\"><a class=\"anchor\" href=\"#321åˆ›å»ºdocker-composeymlæ–‡ä»¶\">#</a> 3.2.1. åˆ›å»º docker-compose.yml æ–‡ä»¶</h2>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost etc<span class=\"token punctuation\">]</span><span class=\"token comment\"># mkdir registry-ui</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost etc<span class=\"token punctuation\">]</span><span class=\"token comment\"># cd registry-ui/</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost etc<span class=\"token punctuation\">]</span><span class=\"token comment\"># touch docker-compose.yml</span></pre></td></tr></table></figure><p>æ‰“å¼€ docker-compose.yml æ–‡ä»¶ç¼–å†™ä¸Šé¢çš„ä»£ç </p>\n<h2 id=\"33é…ç½®dockerä¿¡ä»»åœ°å€\"><a class=\"anchor\" href=\"#33é…ç½®dockerä¿¡ä»»åœ°å€\">#</a> 3.3. é…ç½® Docker ä¿¡ä»»åœ°å€</h2>\n<p>æˆ‘ä»¬çš„ç§æœé‡‡ç”¨çš„æ˜¯ http åè®®ï¼Œé»˜è®¤ä¸è¢« Docker ä¿¡ä»»ï¼Œæ‰€ä»¥éœ€è¦åšä¸€ä¸ªé…ç½®ï¼š</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># æ‰“å¼€è¦ä¿®æ”¹çš„æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">vi</span> /etc/docker/daemon.json</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># æ·»åŠ å†…å®¹ï¼š</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token string\">\"insecure-registries\"</span>:<span class=\"token punctuation\">[</span><span class=\"token string\">\"http://192.168.150.101:8080\"</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># é‡åŠ è½½</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>systemctl daemon-reload</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\"># é‡å¯ docker</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>systemctl restart <span class=\"token function\">docker</span></pre></td></tr></table></figure><h2 id=\"34æ‰§è¡Œå‘½ä»¤åˆ›å»ºå®¹å™¨å¹¶æ‰§è¡Œ\"><a class=\"anchor\" href=\"#34æ‰§è¡Œå‘½ä»¤åˆ›å»ºå®¹å™¨å¹¶æ‰§è¡Œ\">#</a> 3.4. æ‰§è¡Œå‘½ä»¤åˆ›å»ºå®¹å™¨å¹¶æ‰§è¡Œ</h2>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost registry-ui<span class=\"token punctuation\">]</span><span class=\"token comment\"># docker-compose up -d</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Creating network <span class=\"token string\">\"registry-ui_default\"</span> with the default driver</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Pulling registry <span class=\"token punctuation\">(</span>registry:<span class=\"token punctuation\">)</span><span class=\"token punctuation\">..</span>.</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>latest: Pulling from library/registry</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>96526aa774ef: Pull complete</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>cc37b24bb099: Pull complete</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>1d8a1aa97222: Pull complete</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>e3ff0af69d79: Pull complete</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>17443307a4fc: Pull complete</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>Digest: sha256:12a6ddd56d2de5611ff0d9735ac0ac1d1e44073c7d042477329e589c46867e4e</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>Status: Downloaded newer image <span class=\"token keyword\">for</span> registry:latest</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>Pulling ui <span class=\"token punctuation\">(</span>joxit/docker-registry-ui:static<span class=\"token punctuation\">)</span><span class=\"token punctuation\">..</span>.</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>static: Pulling from joxit/docker-registry-ui</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>540db60ca938: Pull complete</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>197dc8475a23: Pull complete</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>39ea657007e5: Pull complete</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>37afbf7d4c3d: Pull complete</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>0c01f42c3df7: Pull complete</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>d590d87c9181: Pull complete</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>3333c94ae44f: Pull complete</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>33d7cca6fc9f: Pull complete</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>076b2dd9bdd1: Pull complete</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>b70198f04ee7: Pull complete</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>1fb6c5acc953: Pull complete</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>Digest: sha256:b0657b6be748173583516e411bd71552e54cb7d5dda94964726297ce8774415c</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>Status: Downloaded newer image <span class=\"token keyword\">for</span> joxit/docker-registry-ui:static</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>Creating registry-ui_registry_1 <span class=\"token punctuation\">..</span>. <span class=\"token keyword\">done</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>Creating registry-ui_ui_1       <span class=\"token punctuation\">..</span>. <span class=\"token keyword\">done</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token punctuation\">[</span>root@localhost registry-ui<span class=\"token punctuation\">]</span><span class=\"token comment\">#</span></pre></td></tr></table></figure>",
            "tags": [
                "è®¡ç®—æœºå­¦ç§‘",
                "åŸºç¡€",
                "springcloud",
                "Docker"
            ]
        }
    ]
}