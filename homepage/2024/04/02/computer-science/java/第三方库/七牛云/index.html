<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>七牛云基本使用 | homepage</title><meta name="author"><meta name="copyright"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="# 一、七牛云 到七牛云的官网网站进行注册账号并登录，然后先绑定邮箱才能进行实名认证 下面我们去获取一下 access_key 和 secret_key 还有 url 后面操作需要   access_key 我们可以直接看到并且 复制，但是 secret_key 我们看不到而却也并不能直接复制，我们需要点击输入框右边的眼睛进行验证码的验证才能看到这里就不展示了。 进行下面的操作   创建一个空间，">
<meta property="og:type" content="article">
<meta property="og:title" content="七牛云基本使用">
<meta property="og:url" content="https://pigpigletsgo.github.io/homepage/2024/04/02/computer-science/java/%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/%E4%B8%83%E7%89%9B%E4%BA%91/">
<meta property="og:site_name" content="homepage">
<meta property="og:description" content="# 一、七牛云 到七牛云的官网网站进行注册账号并登录，然后先绑定邮箱才能进行实名认证 下面我们去获取一下 access_key 和 secret_key 还有 url 后面操作需要   access_key 我们可以直接看到并且 复制，但是 secret_key 我们看不到而却也并不能直接复制，我们需要点击输入框右边的眼睛进行验证码的验证才能看到这里就不展示了。 进行下面的操作   创建一个空间，">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png">
<meta property="article:published_time" content="2024-04-02T06:23:31.568Z">
<meta property="article:modified_time" content="2024-03-22T14:28:09.623Z">
<meta property="article:tag" content="java">
<meta property="article:tag" content="计算机学科">
<meta property="article:tag" content="七牛云">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png"><link rel="shortcut icon" href="/homepage/img/favicon.png"><link rel="canonical" href="https://pigpigletsgo.github.io/homepage/2024/04/02/computer-science/java/%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/%E4%B8%83%E7%89%9B%E4%BA%91/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/homepage/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/homepage/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '七牛云基本使用',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-03-22 22:28:09'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/homepage/atom.xml" title="homepage" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/homepage/archives/"><div class="headline">文章</div><div class="length-num">452</div></a><a href="/homepage/tags/"><div class="headline">标签</div><div class="length-num">151</div></a><a href="/homepage/categories/"><div class="headline">分类</div><div class="length-num">115</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/homepage/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/homepage/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/homepage/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/homepage/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/homepage/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/homepage/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/homepage/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/homepage/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a href="/homepage/" title="homepage"><span class="site-name">homepage</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/homepage/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/homepage/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/homepage/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/homepage/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/homepage/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/homepage/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/homepage/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/homepage/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">七牛云基本使用</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-04-02T06:23:31.568Z" title="发表于 2024-04-02 14:23:31">2024-04-02</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-03-22T14:28:09.623Z" title="更新于 2024-03-22 22:28:09">2024-03-22</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/homepage/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%AD%A6%E7%A7%91/">计算机学科</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/homepage/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%AD%A6%E7%A7%91/java/">java</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/homepage/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%AD%A6%E7%A7%91/java/%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/">第三方库</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="七牛云基本使用"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="一-七牛云"><a class="markdownIt-Anchor" href="#一-七牛云">#</a> 一、七牛云</h1>
<p>到七牛云的官网网站进行注册账号并登录，然后先绑定邮箱才能进行实名认证</p>
<p>下面我们去获取一下 access_key 和 secret_key 还有 url 后面操作需要</p>
<p><img src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/image-20240322191501201.png" alt="image-20240322191501201"></p>
<p><img src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/image-20240322191519463.png" alt="image-20240322191519463"></p>
<p>access_key 我们可以直接看到并且 复制，但是 secret_key 我们看不到而却也并不能直接复制，我们需要点击输入框右边的眼睛进行验证码的验证才能看到这里就不展示了。</p>
<p>进行下面的操作</p>
<p><img src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/image-20240322191730551.png" alt="image-20240322191730551"></p>
<p><img src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/image-20240322191805639.png" alt="image-20240322191805639"></p>
<p>创建一个空间，选择图片中红色箭头指向的地方</p>
<p><img src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/image-20240322191908886.png" alt="image-20240322191908886"></p>
<p>创建好空间后就可以获取我们上面说到的 url 了</p>
<p><img src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/image-20240322192112178.png" alt="image-20240322192112178"></p>
<p>我们成功获取了重要的三个参数：</p>
<pre><code>access_key: Zc1ktIEYgIhsY-MuNAT5W=
secret_key: Zc1ktIejiscnsY-MuasdasdT5Wwdsdxxx
url: saqvg00o7.hb-bkt.clouddn.com
</code></pre>
<p>下面是对七牛云的一些介绍：</p>
<p>计费方面：开通七牛云对象存储服务的实名认证用户，每月可享受一定量的标准存储免费存储空间，限制 10GB 空间</p>
<h2 id="七牛云的响应状态码表"><a class="markdownIt-Anchor" href="#七牛云的响应状态码表">#</a> 七牛云的响应状态码表</h2>
<p><a target="_blank" rel="noopener" href="http://78re52.com0.z0.glb.qiniucdn.com/docs/v6/api/reference/codes.html">http://78re52.com0.z0.glb.qiniucdn.com/docs/v6/api/reference/codes.html</a></p>
<p><strong>七牛云的优点</strong></p>
<ol>
<li>支持各种尺寸的图片缩放；</li>
<li>支持图片自动压缩；</li>
<li>支持水印添加：图片水印、文字水印两种模式；</li>
<li>图片防盗链，限制访问来源；</li>
<li>设置 ip 黑白名单，防止恶意盗刷、攻击；</li>
<li>自定义图片域名，看起来更具有归属性；</li>
<li>统计图片的各种访问数据；</li>
<li>支持上传日志文件，可保存 30 天，便于排除程序问题；</li>
</ol>
<h2 id="11-开发指南"><a class="markdownIt-Anchor" href="#11-开发指南">#</a> 1.1 开发指南：</h2>
<p>注意：</p>
<ul>
<li>上传文件的名称中，不支持 \0 字符。</li>
<li>若文件名中存在 \0 字符，则会返回 400 Bad Request 和 error message “key must not contain null byte”。</li>
<li>上传文件名 utf-8 编码字符，长度不超过 750 字节 。</li>
<li>若有特殊需求，请联系技术支持。</li>
</ul>
<p>表单上传</p>
<p>表单上传是指在一个单一的 HTTP POST 请求中完成一个文件的上传，比较适合简单的应用场景和尺寸较小的文件。</p>
<h3 id="111-分片上传"><a class="markdownIt-Anchor" href="#111-分片上传">#</a> 1.1.1 分片上传</h3>
<p>分片上传是将一个文件分为多个小数据块，每个小数据块以一个独立的 HTTP 请求分别上传。所有小数据块都上传完成后，再发送一个请求给服务端将这些小数据块组织成一个逻辑资源，以完成上传过程。</p>
<p>相比表单上传，分片上传的优势：</p>
<ul>
<li>适合尺寸较大的文件传输，通过分片来避免单个 HTTP 数据量过大而导致连接超时的现象。</li>
<li>在网络条件较差的环境下，较小尺寸的文件可以有较高的上传成功率，从而避免无休止的失败重试。</li>
<li>支持断点续传。</li>
</ul>
<p>然而，相比表单上传，分片上传需要多次 HTTP 请求才能完成上传过程，会有额外的成本开销。另外也增加了代码的复杂度，因此选择是否使用分片上传时应谨慎评估使用的必要性。</p>
<p>分片上传的使用细节请参考<a target="_blank" rel="noopener" href="https://developer.qiniu.com/kodo/manual/1650/chunked-upload">分片上传 v1 版</a>、<a target="_blank" rel="noopener" href="https://developer.qiniu.com/kodo/manual/7458/shard-upload-v2-version">分片上传 v2 版</a>，两种分片上传不同见详情。</p>
<p><strong>上传后续动作</strong></p>
<p>在上传时开发者可以指定上传完成后服务端的后续动作，例如回调通知 (callback)、自定义响应内容、303 重定向等。可设置的后续动作与<a target="_blank" rel="noopener" href="https://developer.qiniu.com/kodo/manual/1272/form-upload">表单上传</a>中完全一致。</p>
<p>这里需要明确的是，虽然后续动作在生成<a target="_blank" rel="noopener" href="https://developer.qiniu.com/kodo/manual/1208/upload-token">上传凭证</a>时已经指定，但这些后续动作只在服务端处理完创建文件 (mkfile) 请求后才会发生，而且也只有 mkfile 请求的内容可以包含<a target="_blank" rel="noopener" href="https://developer.qiniu.com/kodo/manual/1235/vars">变量</a></p>
<p>分片上传分为 v1 和 v2 版本，如下：</p>
<h3 id="112-分片上传v1版本"><a class="markdownIt-Anchor" href="#112-分片上传v1版本">#</a> 1.1.2 分片上传 v1 版本</h3>
<p>分片上传支持将一个文件切割为一系列特定大小的数据片，分别将这些小数据片上传到服务端，全部上传完后再在服务端将这些数据片合并成为一个资源。</p>
<p>分片上传引入了两个概念：<strong>块</strong>（Block）和<strong>片</strong>（Chunk）。每个<strong>块</strong>由一到多个<strong>片</strong>组成，而一个资源则由一到多个<strong>块</strong>组成。他们之间的关系可以用下图表述：</p>
<p><img src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/FvdTJGHBPkJfTc-T5o2kNXcQUCGo" alt="资源、块、片的关系"></p>
<p><strong>块</strong>和<strong>片</strong>是上传过程中作为临时存储的单位。服务端会以约<strong>七天</strong>为单位的周期清除上传后未被合并为块 (文件) 的数据片 (块)。</p>
<p>与分片上传相关的 API 有：<a target="_blank" rel="noopener" href="https://developer.qiniu.com/kodo/api/1286/mkblk">创建块 (mkblk)</a>、<a target="_blank" rel="noopener" href="https://developer.qiniu.com/kodo/api/1251/bput">上传片 (bput)</a>、<a target="_blank" rel="noopener" href="https://developer.qiniu.com/kodo/api/1287/mkfile">创建文件 (mkfile)</a>。一个完整的分片上传流程可用下图表示：</p>
<p><img src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/FgC5dUBuKuuU6_ES5U-NtphznCYf" alt="分片上传流程"></p>
<p>其中的关键点如下：</p>
<ul>
<li>将待上传的文件按预定义块大小切分为若干个块（每块大小不大于 4MB）。如果这个文件小于 4MB，就只有一个块，如果文件大于 4MB， 除最后一块外，其余块大小固定为 4MB。</li>
<li>将每个块再按预定义的片大小切分为若干个片，先在服务端创建一个相应块（通过调用<a target="_blank" rel="noopener" href="https://developer.qiniu.com/kodo/api/1286/mkblk"> mkblk</a>，并带上第一个片的内容），然后再循环将所有剩下的片全部上传（通过调用<a target="_blank" rel="noopener" href="https://developer.qiniu.com/kodo/api/1251/bput"> bput</a>，从而完成一个块的上传）</li>
<li>在所有块上传完成后，通过调用<a target="_blank" rel="noopener" href="https://developer.qiniu.com/kodo/api/1287/mkfile"> mkfile</a> 将这些上传完成的块信息再严格的按顺序组装出一个逻辑资源的元信息，从而完成整个资源的分片上传过程。</li>
</ul>
<h3 id="113-分片上传v2版本"><a class="markdownIt-Anchor" href="#113-分片上传v2版本">#</a> 1.1.3 分片上传 v2 版本</h3>
<p>分片上传（ Multipart Upload ），可以将要上传的文件分成多个数据块（ 又称之为 Part ）来分别上传，上传完成之后再调用接口将这些 Part 组合成一个 Object。</p>
<p>与分片上传相关的 API 有：<a target="_blank" rel="noopener" href="https://developer.qiniu.com/kodo/api/6365/initialize-multipartupload">初始化 (initiateMultipartUpload)</a>、<a target="_blank" rel="noopener" href="https://developer.qiniu.com/kodo/api/6366/upload-part">分块上传数据 (uploadPart) </a>、<a target="_blank" rel="noopener" href="https://developer.qiniu.com/kodo/api/6368/complete-multipart-upload">完成文件上传 (completeMultipartUpload) </a>、<a target="_blank" rel="noopener" href="https://developer.qiniu.com/kodo/api/6367/abort-multipart-upload">终止上传 （ abortMultipartUpload ）</a>、<a target="_blank" rel="noopener" href="https://developer.qiniu.com/kodo/api/6858/listparts">列举已上传分片 (listParts)</a>。一个完整的分片上传流程可用下图表示：</p>
<p><img src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/image-20240322193237381.png" alt="image-20240322193237381"></p>
<p>其中的关键点如下：</p>
<ul>
<li>Part 大小要求，除最后一个 Part 外，每个 Part 大小在 1MB - 1GB 之间。</li>
<li>每个 Multipart Upload 任务，最多 10000 个 Part， 编号 PartNumber 在 1 - 10000 （含）之间。</li>
<li>要上传的文件切分成 Part 之后，实现并发上传。具体的并发个数并不是越多速度越快，要结合自身情况考虑。网络情况较好时，建议增大 Part 大小。反之，减小 Part 大小。</li>
<li>在所有 Part 上传完成后，通过调用 completeMultipartUpload 将这些上传完成的 Part 信息严格的按编号 PartNumber 顺序（编号可以不连续，但必须是升序）组装出一个逻辑资源的元信息，从而完成整个资源的分片上传过程</li>
</ul>
<h2 id="12-上传文件代码演示"><a class="markdownIt-Anchor" href="#12-上传文件代码演示">#</a> 1.2 上传文件代码演示：</h2>
<h3 id="121-引入jar包"><a class="markdownIt-Anchor" href="#121-引入jar包">#</a> 1.2.1 引入 jar 包</h3>
<figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.qiniu<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>qiniu-java-sdk<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>7.7.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></pre></td></tr></table></figure><p>配置文件信息：</p>
<figure class="highlight yaml"><figcaption data-lang="YAML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token key atrule">server</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8081</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token key atrule">qiniu</span><span class="token punctuation">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token key atrule">accessKey</span><span class="token punctuation">:</span> Zc1ktIEYgIhsY<span class="token punctuation">-</span>MuNAT5Wf8WTowk1AeV30SVKBNQ</pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token key atrule">secretKey</span><span class="token punctuation">:</span> <span class="token punctuation">-</span>ofjyul<span class="token punctuation">-</span>TpbriHRx8gJZWospjWArayyTjLZCBkL9</pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token key atrule">bucket</span><span class="token punctuation">:</span> demo<span class="token punctuation">-</span>demo<span class="token punctuation">-</span>demo<span class="token punctuation">-</span>demo</pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token key atrule">path</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//saqvg00o7.hb<span class="token punctuation">-</span>bkt.clouddn.com/</pre></td></tr></table></figure><p>代码编写</p>
<figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@SpringBootTest</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">QiniuDemoApplicationTests</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;qiniu.accessKey&#125;"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">private</span> <span class="token class-name">String</span> accessKey<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;qiniu.secretKey&#125;"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">private</span> <span class="token class-name">String</span> secretKey<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;qiniu.bucket&#125;"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">private</span> <span class="token class-name">String</span> bucket<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;qiniu.path&#125;"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">private</span> <span class="token class-name">String</span> path<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token annotation punctuation">@Test</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token keyword">void</span> <span class="token function">upload</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token comment">// 本地文件</span></pre></td></tr><tr><td data-num="16"></td><td><pre>        <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"E:\\demo\\基础.mp4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token comment">// 获取文件后缀名</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        <span class="token class-name">String</span> fileName <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>        <span class="token comment">// 实例带 Region.autoRegion () 的配置对象</span></pre></td></tr><tr><td data-num="20"></td><td><pre>        <span class="token class-name">Configuration</span> configuration <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Configuration</span><span class="token punctuation">(</span><span class="token class-name">Region</span><span class="token punctuation">.</span><span class="token function">autoRegion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>        <span class="token comment">// 指定分片上传的版本为 V2 版本</span></pre></td></tr><tr><td data-num="22"></td><td><pre>        configuration<span class="token punctuation">.</span>resumableUploadAPIVersion <span class="token operator">=</span> <span class="token class-name">Configuration<span class="token punctuation">.</span>ResumableUploadAPIVersion</span><span class="token punctuation">.</span><span class="token constant">V2</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>        <span class="token comment">// 实例化上传对象并传入配置信息</span></pre></td></tr><tr><td data-num="24"></td><td><pre>        <span class="token class-name">UploadManager</span> uploadManager <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UploadManager</span><span class="token punctuation">(</span>configuration<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>        <span class="token comment">// 创建时间对象</span></pre></td></tr><tr><td data-num="26"></td><td><pre>        <span class="token class-name">SimpleDateFormat</span> simpleDateFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>        <span class="token comment">// 序列化当前时间</span></pre></td></tr><tr><td data-num="28"></td><td><pre>        <span class="token class-name">String</span> format <span class="token operator">=</span> simpleDateFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>        <span class="token comment">// 通过 UUID + 当前时间 + 文件后缀名 创建出一个不容易碰撞的文件名</span></pre></td></tr><tr><td data-num="30"></td><td><pre>        <span class="token class-name">String</span> randomName <span class="token operator">=</span> <span class="token constant">UUID</span><span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token operator">+</span> format <span class="token operator">+</span> fileName<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>        <span class="token comment">// 将 access_key 和 secret_key 传入上传策略中</span></pre></td></tr><tr><td data-num="32"></td><td><pre>        <span class="token class-name">Auth</span> auth <span class="token operator">=</span> <span class="token class-name">Auth</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>accessKey<span class="token punctuation">,</span> secretKey<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>        <span class="token comment">// 上传时指定桶的名称</span></pre></td></tr><tr><td data-num="34"></td><td><pre>        <span class="token class-name">String</span> uploadToken <span class="token operator">=</span> auth<span class="token punctuation">.</span><span class="token function">uploadToken</span><span class="token punctuation">(</span>bucket<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>        <span class="token keyword">try</span></pre></td></tr><tr><td data-num="36"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>            <span class="token comment">// 上传分片文件，最后一个参数说明：true，断点续传，false，没有断点续传（默认）</span></pre></td></tr><tr><td data-num="38"></td><td><pre>            uploadManager<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> randomName<span class="token punctuation">,</span> uploadToken<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">QiniuException</span> e<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="40"></td><td><pre>        <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"上传失败, 原因："</span> <span class="token operator">+</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"上传路径："</span> <span class="token operator">+</span> path <span class="token operator">+</span> <span class="token string">"/"</span> <span class="token operator">+</span> randomName<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="45"></td><td><pre></pre></td></tr><tr><td data-num="46"></td><td><pre>    <span class="token annotation punctuation">@Test</span></pre></td></tr><tr><td data-num="47"></td><td><pre>    <span class="token keyword">void</span> <span class="token function">download</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="48"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="49"></td><td><pre></pre></td></tr><tr><td data-num="50"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="51"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>执行结果：</p>
<pre><code>// 返回的路径可以进行访问地址源就是我们上传的视频而已
上传路径：saqvg00o7.hb-bkt.clouddn.com/0a79c8333bb94d768ebb2f6cac84aa482024-03-22 19:42:18.mp4
</code></pre>
<p>查看七牛云的空间内容：</p>
<p><img src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/image-20240322194310969.png" alt="image-20240322194310969"></p>
<p>可以看到视频上传成功了并且点击详情可以进行查看</p>
<h2 id="13-下载代码演示"><a class="markdownIt-Anchor" href="#13-下载代码演示">#</a> 1.3 下载代码演示：</h2>
<p>下载资源分为：公开资源下载，私有资源下载；</p>
<h3 id="131-公开资源下载"><a class="markdownIt-Anchor" href="#131-公开资源下载">#</a> 1.3.1 公开资源下载</h3>
<p>公开资源下载通过 HTTP GET 的方式访问资源 URL 即可。资源 URL 的构成如下：</p>
<pre><code>http://&lt;domain&gt;/&lt;key&gt;
</code></pre>
<p>其中 <code>&lt;domain&gt;</code>  有两种形态：七牛子域名和自定义域名。</p>
<p>七牛子域名是创建空间时默认分配的域名，开发者请前往<a target="_blank" rel="noopener" href="https://portal.qiniu.com/bucket">七牛开发者平台</a>，选择一个空间后查看<strong>测试域名</strong>即七牛子域名。子域名形式类似于 <em><a target="_blank" rel="noopener" href="http://78re52.com1.z0.glb.clouddn.com">78re52.com1.z0.glb.clouddn.com</a></em>，用户可以通过以下 URL 下载名为 <em>resource/flower.jpg</em> 的资源：</p>
<pre><code>http://78re52.com1.z0.glb.clouddn.com/resource/flower.jpg
</code></pre>
<p>您也可以为某特定空间，申请绑定自定义域名，通过这个自定义域名访问资源，例如绑定的自定义域名为 <em><a target="_blank" rel="noopener" href="http://i.example.com">i.example.com</a></em>，您就可以通过以下 URL 访问同样的资源：</p>
<pre><code>http://i.example.com/resource/flower.jpg
</code></pre>
<h3 id="132-私有资源下载"><a class="markdownIt-Anchor" href="#132-私有资源下载">#</a> 1.3.2 私有资源下载</h3>
<p>当您将空间设置成私有时，必须获得授权，才能对空间内的资源进行访问。</p>
<p>私有资源下载是通过 HTTP GET 的方式访问特定的 URL。私有资源 URL 与公开资源 URL 相比只是增加了两个参数 <code>e</code>  和 <code>token</code> ，分别表示过期时间和<a target="_blank" rel="noopener" href="https://developer.qiniu.com/kodo/manual/1202/download-token">下载凭证</a>。一个完整的私有资源 URL 如下所示：</p>
<pre><code>http://&lt;domain&gt;/&lt;key&gt;?e=&lt;deadline&gt;&amp;token=&lt;downloadToken&gt;
</code></pre>
<p>参数 <code>e</code>  表示 URL 的过期时间，采用<a target="_blank" rel="noopener" href="https://developer.qiniu.com/kodo/glossary/1647/u#unixtime"> Unix 时间戳</a>，单位为秒。超时的访问将返回 401 错误。参数 <code>token</code>  表示下载凭证。下载凭证是对资源访问的授权，不带下载凭证或下载凭证不合法都会导致 401 错误，表示验证失败。</p>
<p><strong>注意：</strong></p>
<ul>
<li>如果请求方的时钟未校准，可能会造成有效期验证不正常，例如直接认为已过期。因此需要进行时钟校准。</li>
<li>由于开发者无法保证客户端的时间都校准，所以应该在业务服务器上创建时间戳，并周期性校准业务服务器时钟。
<ul>
<li>token 必须放在请求的最后，token 之后的参数会被忽略。以请求  <code>http://test.cinem.net/aaaa.jpg?e=1778754963&amp;token=sQvk4AXf0rEkzcytkr...XjI0M:zwvwiM0wsMBRj46xcby05U=&amp;attname=geral_TS-PFS3010-8ET</code>  为例，此时 <code>attname=geral_TS-PFS3010-8ET</code>  会被忽略，并不生效</li>
</ul>
</li>
</ul>
<h2 id="14-下载资源代码演示"><a class="markdownIt-Anchor" href="#14-下载资源代码演示">#</a> 1.4 下载资源代码演示：</h2>
<figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@Test</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">void</span> <span class="token function">download</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>   <span class="token comment">// 要下载到的路径</span></pre></td></tr><tr><td data-num="5"></td><td><pre>   <span class="token class-name">String</span> loadPath <span class="token operator">=</span> <span class="token string">"E:\\"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>   <span class="token comment">// 下载资源 url</span></pre></td></tr><tr><td data-num="7"></td><td><pre>   <span class="token class-name">String</span> downloadUrl <span class="token operator">=</span> <span class="token string">"http://saqvg00o7.hb-bkt.clouddn.com/0a79c8333bb94d768ebb2f6cac84aa482024-03-22%2019:42:18.mp4"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>   <span class="token comment">// 获取文件的名称</span></pre></td></tr><tr><td data-num="9"></td><td><pre>   <span class="token class-name">String</span> substring <span class="token operator">=</span> downloadUrl<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>   <span class="token comment">// 实例化 HttpClient 对象</span></pre></td></tr><tr><td data-num="11"></td><td><pre>   <span class="token class-name">CloseableHttpClient</span> httpClient <span class="token operator">=</span> <span class="token class-name">HttpClientBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>   <span class="token comment">// 实例化请求对象传入请求 url</span></pre></td></tr><tr><td data-num="13"></td><td><pre>   <span class="token class-name">HttpGet</span> httpGet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpGet</span><span class="token punctuation">(</span>downloadUrl<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>   <span class="token class-name">CloseableHttpResponse</span> response <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>   <span class="token class-name">InputStream</span> content <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>   <span class="token class-name">FileOutputStream</span> os <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>   <span class="token keyword">try</span></pre></td></tr><tr><td data-num="18"></td><td><pre>   <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>      <span class="token comment">// 执行请求并返回响应对象</span></pre></td></tr><tr><td data-num="20"></td><td><pre>      response <span class="token operator">=</span> httpClient<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>httpGet<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>      <span class="token comment">// 获取响应实体</span></pre></td></tr><tr><td data-num="22"></td><td><pre>      <span class="token class-name">HttpEntity</span> entity <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>      <span class="token comment">// 判断实体是否为空</span></pre></td></tr><tr><td data-num="24"></td><td><pre>      <span class="token keyword">if</span> <span class="token punctuation">(</span>entity <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="25"></td><td><pre>      <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>         <span class="token comment">// 创建对应的目录 上面的文件名有 % : 这个是不允许的会创建文件 / 目录失败所以先进行转换下次上传时注意格式就行</span></pre></td></tr><tr><td data-num="27"></td><td><pre>         <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>loadPath <span class="token operator">+</span> substring<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">":"</span><span class="token punctuation">,</span> <span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"%"</span><span class="token punctuation">,</span> <span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>         <span class="token comment">// 通过 content 返回输入流对象</span></pre></td></tr><tr><td data-num="29"></td><td><pre>         content <span class="token operator">=</span> entity<span class="token punctuation">.</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>         <span class="token comment">// 创建输出流写出文件数据到指定位置</span></pre></td></tr><tr><td data-num="31"></td><td><pre>         os <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>         <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>         <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>         <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">=</span> content<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="35"></td><td><pre>         <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>            os<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>         <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>      <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>   <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="40"></td><td><pre>   <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>   <span class="token punctuation">&#125;</span> <span class="token keyword">finally</span></pre></td></tr><tr><td data-num="43"></td><td><pre>   <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>      <span class="token comment">// 关闭流释放资源</span></pre></td></tr><tr><td data-num="45"></td><td><pre>      <span class="token keyword">try</span></pre></td></tr><tr><td data-num="46"></td><td><pre>      <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>         <span class="token keyword">if</span> <span class="token punctuation">(</span>os <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="48"></td><td><pre>         <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>            os<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>         <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>         <span class="token keyword">if</span> <span class="token punctuation">(</span>content <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="52"></td><td><pre>         <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>            content<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>         <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>      <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="56"></td><td><pre>      <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>         <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>      <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>   <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="60"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>下载结果：</p>
<p><img src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/image-20240322214724480.png" alt="image-20240322214724480"></p>
<h2 id="15-删除指定资源"><a class="markdownIt-Anchor" href="#15-删除指定资源">#</a> 1.5 删除指定资源：</h2>
<p>注意：这里被坑了 10 分钟，因为文件名中带 % (空格自转的) 还有 - 导致删除返回状态码 298 (部分执行成功) 文件并没有被删除</p>
<figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token annotation punctuation">@Test</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">void</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>   <span class="token comment">// 资源 url 这里就需要注意了，上面的文件名 带 %(是空格自转的) 带 - 的会导致删除部分成功 也就是会返回 298 状态码 然后 文件并没有删除 就是这样 我就把文件名改了才删除成功的</span></pre></td></tr><tr><td data-num="4"></td><td><pre>   <span class="token class-name">String</span> fileName <span class="token operator">=</span> <span class="token string">"http://saqvg00o7.hb-bkt.clouddn.com/0a7.mp4"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>   <span class="token comment">// 获取文件名</span></pre></td></tr><tr><td data-num="6"></td><td><pre>   <span class="token class-name">String</span> substring <span class="token operator">=</span> fileName<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>   <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>substring<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>   <span class="token comment">// 实例带 Region.autoRegion () 的配置对象</span></pre></td></tr><tr><td data-num="9"></td><td><pre>   <span class="token class-name">Configuration</span> configuration <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Configuration</span><span class="token punctuation">(</span><span class="token class-name">Region</span><span class="token punctuation">.</span><span class="token function">region0</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>   <span class="token comment">// 将 access_key 和 secret_key 传入策略中</span></pre></td></tr><tr><td data-num="11"></td><td><pre>   <span class="token class-name">Auth</span> auth <span class="token operator">=</span> <span class="token class-name">Auth</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>accessKey<span class="token punctuation">,</span> secretKey<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>   <span class="token comment">// 实例化资源管理对象</span></pre></td></tr><tr><td data-num="13"></td><td><pre>   <span class="token class-name">BucketManager</span> bucketManager <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BucketManager</span><span class="token punctuation">(</span>auth<span class="token punctuation">,</span> configuration<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>   <span class="token comment">// 批量请求文件数量不能超 1000</span></pre></td></tr><tr><td data-num="15"></td><td><pre>   <span class="token class-name">BucketManager<span class="token punctuation">.</span>BatchOperations</span> batchOperations <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BucketManager<span class="token punctuation">.</span>BatchOperations</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>   <span class="token comment">// 批量删除</span></pre></td></tr><tr><td data-num="17"></td><td><pre>   batchOperations<span class="token punctuation">.</span><span class="token function">addDeleteOp</span><span class="token punctuation">(</span>bucket<span class="token punctuation">,</span> substring<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>   <span class="token keyword">try</span></pre></td></tr><tr><td data-num="19"></td><td><pre>   <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>      <span class="token comment">// 请求批量删除</span></pre></td></tr><tr><td data-num="21"></td><td><pre>      <span class="token class-name">Response</span> batch <span class="token operator">=</span> bucketManager<span class="token punctuation">.</span><span class="token function">batch</span><span class="token punctuation">(</span>batchOperations<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>      <span class="token comment">// 获取请求的状态码</span></pre></td></tr><tr><td data-num="23"></td><td><pre>      <span class="token keyword">int</span> statusCode <span class="token operator">=</span> batch<span class="token punctuation">.</span>statusCode<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>statusCode<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>      <span class="token comment">// 判断状态码</span></pre></td></tr><tr><td data-num="26"></td><td><pre>      <span class="token comment">//todo 298 记 这一个被文件名坑的一次</span></pre></td></tr><tr><td data-num="27"></td><td><pre>      <span class="token keyword">if</span><span class="token punctuation">(</span>statusCode <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="28"></td><td><pre>      <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>         <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"删除成功"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span></pre></td></tr><tr><td data-num="31"></td><td><pre>      <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>         <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"删除失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>      <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>   <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">QiniuException</span> e<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="35"></td><td><pre>   <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>   <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/image-20240322222622298.png" alt="image-20240322222622298"></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://pigpigletsgo.github.io/homepage"></a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://pigpigletsgo.github.io/homepage/2024/04/02/computer-science/java/%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/%E4%B8%83%E7%89%9B%E4%BA%91/">https://pigpigletsgo.github.io/homepage/2024/04/02/computer-science/java/%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/%E4%B8%83%E7%89%9B%E4%BA%91/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://pigpigletsgo.github.io/homepage" target="_blank">homepage</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/homepage/tags/java/">java</a><a class="post-meta__tags" href="/homepage/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%AD%A6%E7%A7%91/">计算机学科</a><a class="post-meta__tags" href="/homepage/tags/%E4%B8%83%E7%89%9B%E4%BA%91/">七牛云</a></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/homepage/2024/04/02/computer-science/java/%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/%E5%9B%BE%E7%89%87%E6%95%8F%E6%84%9F%E6%96%87%E5%AD%97%E6%A3%80%E6%9F%A5/" title="图片敏感文字检查"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">图片敏感文字检查</div></div></a></div><div class="next-post pull-right"><a href="/homepage/2024/04/02/computer-science/java/%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93/%E4%B8%80%E3%80%81%E5%BE%AE%E4%BF%A1%E6%89%AB%E7%A0%81%E7%99%BB%E5%BD%95-PC/" title="微信扫码登录-PC"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">微信扫码登录-PC</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/homepage/2024/04/02/computer-science/java/data-structures-and-algorithms/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE-%E8%AF%A6%E7%BB%86/" title="二分查找[详细]"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-02</div><div class="title">二分查找[详细]</div></div></a></div><div><a href="/homepage/2024/04/02/computer-science/java/data-structures-and-algorithms/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95-%E5%9B%BE/" title="数据结构与算法-图"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-02</div><div class="title">数据结构与算法-图</div></div></a></div><div><a href="/homepage/2024/04/02/computer-science/java/data-structures-and-algorithms/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95-%E5%A4%9A%E8%B7%AF%E6%9F%A5%E6%89%BE%E6%A0%91/" title="数据结构与算法-多路查找树"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-02</div><div class="title">数据结构与算法-多路查找树</div></div></a></div><div><a href="/homepage/2024/04/02/computer-science/java/data-structures-and-algorithms/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95-%E5%9F%BA%E7%A1%80/" title="数据结构与算法-基础"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-02</div><div class="title">数据结构与算法-基础</div></div></a></div><div><a href="/homepage/2024/04/02/computer-science/java/data-structures-and-algorithms/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95-%E6%8E%92%E5%BA%8F-%E6%9F%A5%E6%89%BE-%E5%93%88%E5%B8%8C%E8%A1%A8/" title="数据结构与算法-排序-查找-哈希表"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-02</div><div class="title">数据结构与算法-排序-查找-哈希表</div></div></a></div><div><a href="/homepage/2024/04/02/computer-science/java/data-structures-and-algorithms/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95%E7%9A%84%E4%BB%8B%E7%BB%8D/" title="数据结构与算法的介绍"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-02</div><div class="title">数据结构与算法的介绍</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/homepage/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name"></div><div class="author-info__description">欢迎来我的博客空间</div></div><div class="card-info-data site-data is-center"><a href="/homepage/archives/"><div class="headline">文章</div><div class="length-num">452</div></a><a href="/homepage/tags/"><div class="headline">标签</div><div class="length-num">151</div></a><a href="/homepage/categories/"><div class="headline">分类</div><div class="length-num">115</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80-%E4%B8%83%E7%89%9B%E4%BA%91"><span class="toc-number">1.</span> <span class="toc-text"> 一、七牛云</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E7%89%9B%E4%BA%91%E7%9A%84%E5%93%8D%E5%BA%94%E7%8A%B6%E6%80%81%E7%A0%81%E8%A1%A8"><span class="toc-number">1.1.</span> <span class="toc-text"> 七牛云的响应状态码表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97"><span class="toc-number">1.2.</span> <span class="toc-text"> 1.1 开发指南：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#111-%E5%88%86%E7%89%87%E4%B8%8A%E4%BC%A0"><span class="toc-number">1.2.1.</span> <span class="toc-text"> 1.1.1 分片上传</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#112-%E5%88%86%E7%89%87%E4%B8%8A%E4%BC%A0v1%E7%89%88%E6%9C%AC"><span class="toc-number">1.2.2.</span> <span class="toc-text"> 1.1.2 分片上传 v1 版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#113-%E5%88%86%E7%89%87%E4%B8%8A%E4%BC%A0v2%E7%89%88%E6%9C%AC"><span class="toc-number">1.2.3.</span> <span class="toc-text"> 1.1.3 分片上传 v2 版本</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E4%BB%A3%E7%A0%81%E6%BC%94%E7%A4%BA"><span class="toc-number">1.3.</span> <span class="toc-text"> 1.2 上传文件代码演示：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#121-%E5%BC%95%E5%85%A5jar%E5%8C%85"><span class="toc-number">1.3.1.</span> <span class="toc-text"> 1.2.1 引入 jar 包</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-%E4%B8%8B%E8%BD%BD%E4%BB%A3%E7%A0%81%E6%BC%94%E7%A4%BA"><span class="toc-number">1.4.</span> <span class="toc-text"> 1.3 下载代码演示：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#131-%E5%85%AC%E5%BC%80%E8%B5%84%E6%BA%90%E4%B8%8B%E8%BD%BD"><span class="toc-number">1.4.1.</span> <span class="toc-text"> 1.3.1 公开资源下载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#132-%E7%A7%81%E6%9C%89%E8%B5%84%E6%BA%90%E4%B8%8B%E8%BD%BD"><span class="toc-number">1.4.2.</span> <span class="toc-text"> 1.3.2 私有资源下载</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-%E4%B8%8B%E8%BD%BD%E8%B5%84%E6%BA%90%E4%BB%A3%E7%A0%81%E6%BC%94%E7%A4%BA"><span class="toc-number">1.5.</span> <span class="toc-text"> 1.4 下载资源代码演示：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-%E5%88%A0%E9%99%A4%E6%8C%87%E5%AE%9A%E8%B5%84%E6%BA%90"><span class="toc-number">1.6.</span> <span class="toc-text"> 1.5 删除指定资源：</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/homepage/2024/04/02/tools/%E5%AF%86%E7%A0%81%E7%AE%A1%E7%90%86/%E5%AF%86%E7%A0%81%E5%AD%98%E5%82%A8%E5%BA%93%E4%BD%BF%E7%94%A8KeePass/" title="KeePass的使用">KeePass的使用</a><time datetime="2024-04-02T06:23:32.293Z" title="发表于 2024-04-02 14:23:32">2024-04-02</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/homepage/2024/04/02/tools/%E5%89%8D%E7%AB%AF/json-server/" title="JSON-SERVER">JSON-SERVER</a><time datetime="2024-04-02T06:23:32.285Z" title="发表于 2024-04-02 14:23:32">2024-04-02</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/homepage/2024/04/02/tools/%E5%89%8D%E7%AB%AF/form-serialize%E6%8F%92%E4%BB%B6/" title="form-serialize插件，快速收集表单元素的值">form-serialize插件，快速收集表单元素的值</a><time datetime="2024-04-02T06:23:32.281Z" title="发表于 2024-04-02 14:23:32">2024-04-02</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/homepage/2024/04/02/tools/%E5%89%8D%E7%AB%AF/alova/" title="alova">alova</a><time datetime="2024-04-02T06:23:32.277Z" title="发表于 2024-04-02 14:23:32">2024-04-02</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/homepage/2024/04/02/tools/windows/%E5%AE%89%E8%A3%85scoop/" title="安装和使用scoop">安装和使用scoop</a><time datetime="2024-04-02T06:23:32.263Z" title="发表于 2024-04-02 14:23:32">2024-04-02</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By null</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/homepage/js/utils.js?v=4.13.0"></script><script src="/homepage/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>