{
    "version": "https://jsonfeed.org/version/1",
    "title": "homepage • All posts by \"mysql\" tag",
    "description": "欢迎来我的博客空间",
    "home_page_url": "https://pigpigletsgo.github.io/homepage",
    "items": [
        {
            "id": "https://pigpigletsgo.github.io/homepage/2024/01/24/tools/windows/scoop%E5%AE%89%E8%A3%85mysql/",
            "url": "https://pigpigletsgo.github.io/homepage/2024/01/24/tools/windows/scoop%E5%AE%89%E8%A3%85mysql/",
            "title": "Scoop安装mysql",
            "date_published": "2024-01-24T10:48:46.993Z",
            "content_html": "<h2 id=\"scoop安装mysql\"><a class=\"anchor\" href=\"#scoop安装mysql\">#</a> Scoop 安装 mysql</h2>\n<ol>\n<li>\n<p>添加仓库： <code>main</code></p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>scoop bucket <span class=\"token function\">add</span> main</pre></td></tr></table></figure></li>\n<li>\n<p>执行命令安装 mysql</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>scoop <span class=\"token function\">install</span> mysql</pre></td></tr></table></figure></li>\n<li>\n<p>启动 mysql 数据库</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>mysqld <span class=\"token parameter variable\">--console</span></pre></td></tr></table></figure><ol>\n<li>\n<p>这里启动的方式分为两种</p>\n<ol>\n<li>后台启动 <code>--standalone</code></li>\n<li>终端启动  <code>--console</code></li>\n</ol>\n</li>\n<li>\n<p>如果报错则执行下面代码：</p>\n<figure class=\"highlight sh\"><figcaption data-lang=\"sh\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>mysqld <span class=\"token parameter variable\">--initialze</span> <span class=\"token parameter variable\">--user</span><span class=\"token operator\">=</span>mysql <span class=\"token parameter variable\">--console</span></pre></td></tr></table></figure></li>\n</ol>\n</li>\n<li>\n<p>执行命令： <code>mysqld -install</code>  安装服务</p>\n<ol>\n<li>\n<p>如果出现下面的情况</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309040935540.png\" alt=\"image-20230904093551765\" /></p>\n</li>\n<li>\n<p>则执行命令： <code>sc delete mysql</code></p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309040936057.png\" alt=\"image-20230904093618438\" /></p>\n</li>\n<li>\n<p>再次执行： <code>mysqld -install</code></p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309040936016.png\" alt=\"image-20230904093638396\" /></p>\n</li>\n</ol>\n</li>\n<li>\n<p>最后启动服务： <code>net start mysql</code>  启动！</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309040937628.png\" alt=\"image-20230904093707195\" /></p>\n</li>\n</ol>\n<p>最后一步可能会想，为什么不直接去任务管理器里面的服务去启动服务呢？因为这里有可能在任务管理器中启动不了，但是终端可以。</p>\n<p>启动后你想执行一下 sql 命令比如： <code>show databses;</code></p>\n<p>却报错了，不要慌它提示的是需要重置密码。</p>\n<p>重置密码执行命令： <code>ALTER USER 'root'@'localhost' IDENTIFIED BY 'new_password';</code>  然后你就可以正常的使用了。</p>\n",
            "tags": [
                "mysql",
                "tools",
                "windows"
            ]
        },
        {
            "id": "https://pigpigletsgo.github.io/homepage/2024/01/24/computer-science/database/mysql/MySQL%E5%AE%89%E8%A3%85/",
            "url": "https://pigpigletsgo.github.io/homepage/2024/01/24/computer-science/database/mysql/MySQL%E5%AE%89%E8%A3%85/",
            "title": "Windows安装MySQL",
            "date_published": "2024-01-24T10:48:45.669Z",
            "content_html": "<h2 id=\"windows安装mysql\"><a class=\"anchor\" href=\"#windows安装mysql\">#</a> Windows 安装 MySQL</h2>\n<ol>\n<li>首先找到 MySQL 的官网，点击下载后进入这个页面点击如下图所示</li>\n</ol>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031529779.png\" alt=\"\" /></p>\n<ol start=\"2\">\n<li>有两个安装的路径它们的含义分别不同我们选择第二个离线安装</li>\n</ol>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031531541.png\" alt=\"image-20240103153114444\" /></p>\n<ol start=\"3\">\n<li>这里我们直接点击下载</li>\n</ol>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031531098.png\" alt=\"image_2022-12-03-23-07-06\" /></p>\n<ol start=\"4\">\n<li>\n<p>安装完成后我们进入下一个阶段：安装与配置</p>\n<ul>\n<li>\n<p>注意事项:</p>\n<ol>\n<li>确保电脑的 UserName (用户名) 中不含有中文，如果有需要重命名更改</li>\n</ol>\n</li>\n</ul>\n</li>\n<li>\n<p>右键安装包点击安装</p>\n</li>\n</ol>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031531431.png\" alt=\"image_2022-12-03-23-13-07\" /></p>\n<ol start=\"6\">\n<li>稍等片刻后就会出现这样的一个页面</li>\n</ol>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031531334.png\" alt=\"image_2022-12-03-23-14-14\" /></p>\n<ul>\n<li>\n<p>Developer Default: 安装 MySQL 服务器以及开发 MySQL 所需的工具</p>\n</li>\n<li>\n<p>Server only: 仅安装 MySQL 服务器</p>\n</li>\n<li>\n<p>Client only: 仅安装客户端</p>\n</li>\n<li>\n<p>Full: 安装 MySQL 所有可用组件</p>\n</li>\n<li>\n<p>Custom:(经典) 自定义安装</p>\n</li>\n</ul>\n<ol start=\"7\">\n<li>我们点击 Custom 进行自定义安装</li>\n</ol>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031534042.png\" alt=\"image_2022-12-03-23-18-32\" /></p>\n<p>可以看到它让我们选择所需的 MySQL 工具，但是我们怎么知道要怎么选择呢不着急这样操作</p>\n<ol>\n<li>点击 back 退回去，并选中第一个</li>\n</ol>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031531954.png\" alt=\"image_2022-12-03-23-20-10\" /></p>\n<ol start=\"2\">\n<li>点击 next</li>\n</ol>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031531061.png\" alt=\"image_2022-12-03-23-21-03\" /></p>\n<ol start=\"3\">\n<li>再点击 back 退回</li>\n</ol>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031531888.png\" alt=\"image_2022-12-03-23-21-53\" /></p>\n<ol start=\"4\">\n<li>选中 Custom 后点击 Next</li>\n</ol>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031532709.png\" alt=\"image-20240103153205611\" /></p>\n<p>我们可以看到它既然帮我们自己选好了</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031531997.png\" alt=\"image_2022-12-03-23-23-00\" /></p>\n<p>进行下一步操作，点击右侧的工具进行添加路径</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031531352.png\" alt=\"image_2022-12-03-23-25-54\" /></p>\n<p>当然这两个路径需要自己提前创建好：D:\\MySQL 和 D:\\MySQLData</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031532910.png\" alt=\"image_2022-12-03-23-27-20\" /></p>\n<p>再进行下一个同样的操作</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031532202.png\" alt=\"image_2022-12-03-23-28-59\" /></p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031533089.png\" alt=\"image_2022-12-03-23-30-11\" /></p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031533608.png\" alt=\"image_2022-12-03-23-31-55\" /></p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031534933.png\" alt=\"image_2022-12-03-23-32-34\" /></p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031533340.png\" alt=\"image_2022-12-03-23-33-25\" /></p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031533439.png\" alt=\"image_2022-12-03-23-34-27\" /></p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031534929.png\" alt=\"image_2022-12-03-23-35-14\" /></p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031533124.png\" alt=\"image_2022-12-03-23-35-47\" /></p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031533800.png\" alt=\"image_2022-12-03-23-36-09\" /></p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031533597.png\" alt=\"image_2022-12-03-23-36-33\" /></p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031533473.png\" alt=\"image_2022-12-03-23-36-58\" /></p>\n<p>完成后点击 Next, 选择 yes</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031533394.png\" alt=\"image_2022-12-03-23-40-10\" /></p>\n<p>点击 Execute</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031533453.png\" alt=\"image_2022-12-03-23-40-46\" /></p>\n<p>完成后点击 next</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031534750.png\" alt=\"image-20240103153445664\" /></p>\n<p>这里默认就行直接 next</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031534789.png\" alt=\"image_2022-12-03-23-43-03\" /></p>\n<p>选择第二个</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031533869.png\" alt=\"image_2022-12-03-23-44-10\" /></p>\n<p>设置管理员密码 一定要记住这个密码</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031533750.png\" alt=\"image_2022-12-03-23-46-58\" /></p>\n<p>然后一路下一步就行了</p>\n<p>这里输入刚才设置的密码之后点击 check 验证然后通过 next</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031533690.png\" alt=\"image_2022-12-03-23-49-38\" /></p>\n<p>安装成功后会弹出两个窗口我们关闭了，来查看下 MySQL 的目录</p>\n<p>这里是工具套件目录</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031533603.png\" alt=\"image_2022-12-03-23-52-12\" /></p>\n<p>这里是我们安装的 MySQL 数据库目录</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031535512.png\" alt=\"image-20240103153521470\" /></p>\n<p>我们可以切换到 D:\\MySQL\\MySQL Server8.0\\bin 这个目录下执行以下 cmd</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031534739.png\" alt=\"image_2022-12-03-23-58-16\" /></p>\n<p>在 cmd 中输入 mysql -u root -p 然后输出刚才设置的密码就可以进入 mysql 了</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031534708.png\" alt=\"image_2022-12-03-23-59-55\" /></p>\n<h2 id=\"配置环境变量\"><a class=\"anchor\" href=\"#配置环境变量\">#</a> 配置环境变量</h2>\n<ol>\n<li>打开配置的页面，选择 path</li>\n</ol>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031534905.png\" alt=\"image_2022-12-04-00-02-16\" /></p>\n<ol start=\"2\">\n<li>path 中新建输入 mysql 的 bin 目录的路径</li>\n</ol>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401031534873.png\" alt=\"image_2022-12-04-00-04-41\" /></p>\n<p>大功告成！查看下是否可以在 cmd 任意打开的位置都可以进入 mysql 了可以那么就是成功了</p>\n",
            "tags": [
                "计算机学科",
                "mysql",
                "database"
            ]
        },
        {
            "id": "https://pigpigletsgo.github.io/homepage/2024/01/24/computer-science/C/c%E9%93%BE%E6%8E%A5Mysql/",
            "url": "https://pigpigletsgo.github.io/homepage/2024/01/24/computer-science/C/c%E9%93%BE%E6%8E%A5Mysql/",
            "title": "C语言链接Mysql",
            "date_published": "2024-01-24T10:48:45.595Z",
            "content_html": "<p>查看安装好的 mysql 中是否存在这些文件</p>\n<p>在 mysql serverxx.xx 中有一个 include 和 lib 文件目录里面包含了大量的.h 头文件和 lib，dll 文件</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309241611363.png\" alt=\"image-20230924161109494\" /></p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309241611093.png\" alt=\"image-20230924161118596\" /></p>\n<p>确保有这些文件后，创建一个 project</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309241612164.png\" alt=\"image-20230924161159930\" /></p>\n<p>复制 include 和 lib 文件目录到创建好的这个 project 项目目录中，注意复制不是剪切 ，剪切就完蛋了。</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309241614792.png\" alt=\"image-20230924161448672\" /></p>\n<p>然后将 lib 目录中的 libmysql.dll 文件单独的复制一份放外面</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309241615418.png\" alt=\"image-20230924161535710\" /></p>\n<p>右键 project 点击属性</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309241612862.png\" alt=\"image-20230924161226373\" /></p>\n<p>点击 vc++ / 包含目录</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309241613014.png\" alt=\"image-20230924161311066\" /></p>\n<p>点击包含目录的右边的一个小三角然后点击编辑</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309241617933.png\" alt=\"image-20230924161708111\" /></p>\n<p>选择 include 文件目录然后确定应用</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309241617248.png\" alt=\"image-20230924161744513\" /></p>\n<p>然后就是库目录同样点开编辑选择 lib 目录 ，注意这里选择 lib 目标不是 include</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309241619308.png\" alt=\"image-20230924161921025\" /></p>\n<p>点击应用后点击 链接器 -&gt; 输入 -&gt; 附加依赖项 点击编辑 添加 libmysql.lib 文件的名字</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202309241621695.png\" alt=\"image-20230924162130072\" /></p>\n<p>简单的向数据库中添加一条数据：</p>\n<figure class=\"highlight c\"><figcaption data-lang=\"c\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">_CRT_SECURE_NO_WARNINGS</span></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;winsock.h></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;mysql.h></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">USERNAME</span> <span class=\"token string\">\"root\"</span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">PASSWORD</span> <span class=\"token string\">\"dkx.\"</span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">LOCALHOST</span> <span class=\"token string\">\"localhost\"</span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">DATABASE</span> <span class=\"token string\">\"ctest\"</span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">PORT</span> <span class=\"token expression\"><span class=\"token number\">3306</span></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">void</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t<span class=\"token comment\">// 初始化 mysql 的连接</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\tMYSQL<span class=\"token operator\">*</span> mysql <span class=\"token operator\">=</span> <span class=\"token function\">mysql_init</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>   <span class=\"token comment\">// 链接数据库 并 判断 数据库是否链接成功了</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">mysql_real_connect</span><span class=\"token punctuation\">(</span>mysql<span class=\"token punctuation\">,</span> LOCALHOST<span class=\"token punctuation\">,</span> USERNAME<span class=\"token punctuation\">,</span> PASSWORD<span class=\"token punctuation\">,</span> DATABASE<span class=\"token punctuation\">,</span> PORT<span class=\"token punctuation\">,</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\t\t<span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"MYSQL官方提示您：mysql 链接失败！！！ cause ：[%s]\\n\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">mysql_error</span><span class=\"token punctuation\">(</span>mysql<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\t\t<span class=\"token keyword\">goto</span> exit<span class=\"token punctuation\">;</span> <span class=\"token comment\">//goto 一般不推荐使用，但是对于异常处理还是可以用用的</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\t<span class=\"token keyword\">else</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>\t\t<span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"MYSQL官方提示您：mysql 链接成功！！！\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>\t\t<span class=\"token function\">mysql_set_character_set</span><span class=\"token punctuation\">(</span>mysql<span class=\"token punctuation\">,</span> <span class=\"token string\">\"utf8\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>\t<span class=\"token comment\">// 定义要添加到数据库中的一个字符串</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>\t<span class=\"token keyword\">char</span> ch<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"acc\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>\t<span class=\"token comment\">// 定义缓冲区来存储执行的 SQL 语句</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>\t<span class=\"token keyword\">char</span> sql<span class=\"token punctuation\">[</span><span class=\"token number\">1024</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>\t<span class=\"token comment\">// 通过使用 sprintf 可以使用 % s 来快速的对其进行赋值然后将完整的语句赋值给缓冲区 sql</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>\t<span class=\"token function\">sprintf</span><span class=\"token punctuation\">(</span>sql<span class=\"token punctuation\">,</span> <span class=\"token string\">\"insert into `c_test` (`name`) values ('%s')\"</span><span class=\"token punctuation\">,</span> ch<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>\t<span class=\"token comment\">// 传入 mysql 对象，传入 sql 语句执行操作返回结果。。。一气呵成</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">mysql_query</span><span class=\"token punctuation\">(</span>mysql<span class=\"token punctuation\">,</span> sql<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>\t\t<span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"MYSQL官方提示您：[%s]\\n\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">mysql_error</span><span class=\"token punctuation\">(</span>mysql<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>\t\t<span class=\"token keyword\">goto</span> exit<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>\t<span class=\"token keyword\">else</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>\t\t<span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"MYSQL官方提示您：insert执行成功!!!\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>\texit<span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>\t<span class=\"token function\">mysql_close</span><span class=\"token punctuation\">(</span>mysql<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 关闭连接，不关闭会造成连接过多卡死</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>\t<span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre><span class=\"token comment\">//----------------------- 运行结果 -----------------------</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>MYSQL官方提示您：mysql 链接成功！！！</pre></td></tr><tr><td data-num=\"49\"></td><td><pre>MYSQL官方提示您：insert执行成功<span class=\"token operator\">!</span><span class=\"token operator\">!</span><span class=\"token operator\">!</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>E<span class=\"token operator\">:</span>\\C\\Demo\\Project3\\Project5\\x64\\Debug\\Project5<span class=\"token punctuation\">.</span><span class=\"token function\">exe</span> <span class=\"token punctuation\">(</span>进程 <span class=\"token number\">9472</span><span class=\"token punctuation\">)</span>已退出，代码为 <span class=\"token number\">0</span>。</pre></td></tr><tr><td data-num=\"52\"></td><td><pre>按任意键关闭此窗口<span class=\"token punctuation\">.</span> <span class=\"token punctuation\">.</span> <span class=\"token punctuation\">.</span></pre></td></tr></table></figure><p>查看数据库</p>\n<p><img data-src=\"https://raw.githubusercontent.com/PigPigLetsGo/imeages/master/202401051549235.png\" alt=\"image-20230924163008521\" /></p>\n",
            "tags": [
                "计算机学科",
                "C",
                "mysql"
            ]
        }
    ]
}