



<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#FFF">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">


<link rel="alternate" type="application/rss+xml" title="Dkx ã® Javaå°çª" href="https://pigpigletsgo.github.io/rss.xml" />
<link rel="alternate" type="application/atom+xml" title="Dkx ã® Javaå°çª" href="https://pigpigletsgo.github.io/atom.xml" />
<link rel="alternate" type="application/json" title="Dkx ã® Javaå°çª" href="https://pigpigletsgo.github.io/feed.json" />

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="/css/app.css?v=0.2.5">

  

<link rel="canonical" href="https://pigpigletsgo.github.io/2023/12/30/computer-science/java/%E7%BA%AFJava%E7%BC%96%E5%86%99%E4%BB%BF%E7%9C%9FHttp%E6%9C%8D%E5%8A%A1%E5%99%A8/">



  <title>
çº¯ java ä»¿å†™ http æœåŠ¡å™¨ - Java - è®¡ç®—æœºå­¦ç§‘ |
Douçš„ä¸ªäººåšå®¢ = Dkx ã® Java å°çª = åˆ«æ€•è·¯é•¿æ¢¦è¿œ</title>
<meta name="generator" content="Hexo 7.0.0"></head>
<body itemscope itemtype="http://schema.org/WebPage">
  <div id="loading">
    <div class="cat">
      <div class="body"></div>
      <div class="head">
        <div class="face"></div>
      </div>
      <div class="foot">
        <div class="tummy-end"></div>
        <div class="bottom"></div>
        <div class="legs left"></div>
        <div class="legs right"></div>
      </div>
      <div class="paw">
        <div class="hands left"></div>
        <div class="hands right"></div>
      </div>
    </div>
  </div>
  <div id="container">
    <header id="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="inner">
        <div id="brand">
          <div class="pjax">
          
  <h1 itemprop="name headline">çº¯ java ä»¿å†™ http æœåŠ¡å™¨
  </h1>
  
<div class="meta">
  <span class="item" title="åˆ›å»ºæ—¶é—´ï¼š2023-12-30 16:48:20">
    <span class="icon">
      <i class="ic i-calendar"></i>
    </span>
    <span class="text">å‘è¡¨äº</span>
    <time itemprop="dateCreated datePublished" datetime="2023-12-30T16:48:20+08:00">2023-12-30</time>
  </span>
  <span class="item" title="æœ¬æ–‡å­—æ•°">
    <span class="icon">
      <i class="ic i-pen"></i>
    </span>
    <span class="text">æœ¬æ–‡å­—æ•°</span>
    <span>53k</span>
    <span class="text">å­—</span>
  </span>
  <span class="item" title="é˜…è¯»æ—¶é•¿">
    <span class="icon">
      <i class="ic i-clock"></i>
    </span>
    <span class="text">é˜…è¯»æ—¶é•¿</span>
    <span>49 åˆ†é’Ÿ</span>
  </span>
</div>


          </div>
        </div>
        <nav id="nav">
  <div class="inner">
    <div class="toggle">
      <div class="lines" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
        <span class="line"></span>
        <span class="line"></span>
        <span class="line"></span>
      </div>
    </div>
    <ul class="menu">
      <li class="item title"><a href="/" rel="start">Douçš„ä¸ªäººåšå®¢</a></li>
    </ul>
    <ul class="right">
      <li class="item theme">
        <i class="ic i-sun"></i>
      </li>
      <li class="item search">
        <i class="ic i-search"></i>
      </li>
    </ul>
  </div>
</nav>

      </div>
      <div id="imgs" class="pjax">
        <ul>
          <li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/5da180f23a92b4141ea87338ac84c765.jpg"></li>
          <li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/560306a4274d1fc26eb475dd52237387.jpg"></li>
          <li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/5651daf17bf5de77514e658264d7cccc.jpg"></li>
          <li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/5651daf17bf5de77514e658264d7cccc.jpg"></li>
          <li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/560306a4274d1fc26eb475dd52237387.jpg"></li>
          <li class="item" data-background-image="https://img.timelessq.com/images/2022/07/26/560306a4274d1fc26eb475dd52237387.jpg"></li>
        </ul>
      </div>
    </header>
    <div id="waves">
      <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
        <defs>
          <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
        </defs>
        <g class="parallax">
          <use xlink:href="#gentle-wave" x="48" y="0" />
          <use xlink:href="#gentle-wave" x="48" y="3" />
          <use xlink:href="#gentle-wave" x="48" y="5" />
          <use xlink:href="#gentle-wave" x="48" y="7" />
        </g>
      </svg>
    </div>
    <main>
      <div class="inner">
        <div id="main" class="pjax">
          
  <div class="article wrap">
    
<div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
<i class="ic i-home"></i>
<span><a href="/">é¦–é¡µ</a></span><i class="ic i-angle-right"></i>
<span  itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/" itemprop="item" rel="index" title="åˆ†ç±»äº è®¡ç®—æœºå­¦ç§‘"><span itemprop="name">è®¡ç®—æœºå­¦ç§‘</span></a>
<meta itemprop="position" content="1" /></span>
<i class="ic i-angle-right"></i>
<span  class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/java/" itemprop="item" rel="index" title="åˆ†ç±»äº Java"><span itemprop="name">Java</span></a>
<meta itemprop="position" content="2" /></span>
</div>

    <article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN">
  <link itemprop="mainEntityOfPage" href="https://pigpigletsgo.github.io/2023/12/30/computer-science/java/%E7%BA%AFJava%E7%BC%96%E5%86%99%E4%BB%BF%E7%9C%9FHttp%E6%9C%8D%E5%8A%A1%E5%99%A8/">

  <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="image" content="/images/avatar.jpg">
    <meta itemprop="name" content="Dkx">
    <meta itemprop="description" content="åˆ«æ€•è·¯é•¿æ¢¦è¿œ, æ¬¢è¿æ¥æˆ‘çš„åšå®¢ç©ºé—´">
  </span>

  <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Dkx ã® Java å°çª">
  </span>

  <div class="body md" itemprop="articleBody">
    

    <h2 id="è¯·æ±‚"><a class="markdownIt-Anchor" href="#è¯·æ±‚">#</a> è¯·æ±‚ğŸŒ—</h2>
<p>ç¼–å†™ ServerSocket æ¥å……å½“æœåŠ¡å™¨</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyHttpServer</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String...args)</span>&#123;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="comment">//è®¾ç½®æ¥æ”¶çš„ç«¯å£å·ä¸ºï¼š8080</span></span><br><span class="line">            <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">8080</span>);</span><br><span class="line">            <span class="comment">//ç­‰å¾…æ¥æ”¶æ•°æ®ï¼Œç¨‹åºæ‰§è¡Œæ­¤å¤„å°±ä¼šé˜»å¡ç­‰ç­‰æ¥æ”¶æ•°æ®</span></span><br><span class="line">            <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line">            <span class="comment">//æ‰“å°æ¥æ”¶åˆ°çš„æ•°æ®å¯¹è±¡</span></span><br><span class="line">            System.out.println(socket);</span><br><span class="line">        &#125;<span class="keyword">catch</span>(IOException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡æµè§ˆå™¨è®¿é—® ServerSocket</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">http://localhost:8080</span><br></pre></td></tr></table></figure>
<p>è®¿é—®åæ§åˆ¶å°æ‰“å°ç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Socket[addr=/0:0:0:0:0:0:0:1,port=7104,localport=8080]</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡ Socket è°ƒç”¨ getInputStream () æ¥è·å–è¾“å…¥æµæ‰“å°æµè§ˆå™¨è¯·æ±‚ä½“çš„ä¿¡æ¯</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyHttpServer</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String...args)</span>&#123;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">8080</span>);</span><br><span class="line">            <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">                <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line">                System.out.println(socket);</span><br><span class="line">                <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> socket.getInputStream();</span><br><span class="line">                <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> socket.getOutputStream();</span><br><span class="line">                <span class="type">byte</span>[] by = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span> * <span class="number">1024</span>];</span><br><span class="line">                <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> is.read(by);</span><br><span class="line">                System.out.println(<span class="string">&quot;è¯»å–åˆ°çš„å­—èŠ‚æ•°æ˜¯: &quot;</span>+len);</span><br><span class="line">                System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(by,<span class="number">0</span>,len));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span>(IOException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è®¿é—®æµè§ˆå™¨åï¼Œæ§åˆ¶å°çš„æ‰“å° è¯·æ±‚å¤´ ä¿¡æ¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Socket[addr=/0:0:0:0:0:0:0:1,port=7268,localport=8080]</span><br><span class="line">è¯»å–åˆ°çš„å­—èŠ‚æ•°æ˜¯: 810</span><br><span class="line">GET / HTTP/1.1</span><br><span class="line">Host: localhost:8080</span><br><span class="line">Connection: keep-alive</span><br><span class="line">Cache-Control: max-age=0</span><br><span class="line">sec-ch-ua: &quot;Google Chrome&quot;;v=&quot;113&quot;, &quot;Chromium&quot;;v=&quot;113&quot;, &quot;Not-A.Brand&quot;;v=&quot;24&quot;</span><br><span class="line">sec-ch-ua-mobile: ?0</span><br><span class="line">sec-ch-ua-platform: &quot;Windows&quot;</span><br><span class="line">Upgrade-Insecure-Requests: 1</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36</span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7</span><br><span class="line">Sec-Fetch-Site: none</span><br><span class="line">Sec-Fetch-Mode: navigate</span><br><span class="line">Sec-Fetch-User: ?1</span><br><span class="line">Sec-Fetch-Dest: document</span><br><span class="line">Accept-Encoding: gzip, deflate, br</span><br><span class="line">Accept-Language: en-US,en;q=0.9,zh-CN;q=0.8,zh;q=0.7</span><br><span class="line">Cookie: Idea-8296eb31=16c5dc07-6155-413d-b308-90f5c8fb55fe; JSESSIONID=F024A5B2C3183BCEFD841682047E6907</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬é€šè¿‡æµè§ˆå™¨è¯·æ±‚æœ¬åœ°çš„ ServerSocket æµè§ˆå™¨å°±ä¼šä¸€ç›´ç­‰å¾…å“åº”ï¼Œå› ä¸ºä½¿ç”¨æ— é™å¾ªç¯è®©æœåŠ¡å™¨ä¸€ç›´ä¿æŒå¼€å¯çš„çŠ¶æ€</p>
<h2 id="å“åº”"><a class="markdownIt-Anchor" href="#å“åº”">#</a> å“åº”ğŸ˜‹</h2>
<p>ä½¿ç”¨ Java ä¸­çš„ ServerSocket é€šè¿‡ OutputStream æ¥å®ç°å°†å†…å®¹ç›¸åº”åˆ°æµè§ˆå™¨çš„é¡µé¢ä¸Šã€‚</p>
<ol>
<li>åˆ›å»º ServerSocket æœåŠ¡å™¨å¥—æ¥å­—ï¼Œå¹¶ä½¿ç”¨ try {} catch (){} æ•è·å¼‚å¸¸ã€‚</li>
<li>åˆ›å»ºçº¿ç¨‹æ± <mark> Executors.newCachedThreadPool</mark>ï¼ŒserverSocket è°ƒç”¨ accept (); é˜»å¡ç¨‹åºç­‰å¾…æ¥æ”¶æ•°æ®æŠ¥ï¼Œ<mark>æ³¨æ„</mark>ï¼šä¸è¦å†™åœ¨å­çº¿ç¨‹ä¸­ ( <code>executorService.execute</code> ) å»æ‰§è¡Œå®ƒå¦åˆ™æ€§èƒ½çˆ†ç‚¸ã€‚</li>
<li>æ— é™å¾ªç¯ä¿æŒå¯åŠ¨çŠ¶æ€å¼€å¯ä½¿ç”¨å­çº¿ç¨‹ executorService.execute ï¼Œæ‰§è¡Œå†…éƒ¨çš„æ“ä½œã€‚</li>
<li>åˆ›å»º InputStream å’Œ OutputStreamï¼Œis è¯»å–è¯·æ±‚ HTTP æ—¶çš„è¯·æ±‚ä½“ä¿¡æ¯ï¼Œå®šä¹‰ç¼“å†²åŒºæ•°ç»„ä¸€æ¬¡æ€§è¯»å–å¤šä¸ªã€‚</li>
<li>å®šä¹‰å­—ç¬¦ä¸²èµ‹å€¼ä¸€ä¸ª h1 æ ‡ç­¾å†…å®¹æ˜¯æˆå‘˜å­—æ®µè‡ªå¢å€¼ï¼Œåœ¨å®šä¹‰å­—ç¬¦ä¸²èµ‹å€¼ HTTP åè®®çš„è¯·æ±‚ä¿¡æ¯å’Œè¯·æ±‚ç±»å‹ã€‚</li>
<li>å†å®šä¹‰ HTTP åè®®çš„å­—ç¬¦ä¸²ä¸­æ‹¼æ¥ä¸Šå†…å®¹å­—ç¬¦ä¸²<sup> (&quot;&lt;h1&gt;&quot;+count+&quot;&lt;h1/&gt;&quot;)</sup> ï¼Œåœ¨æ¯æ®µè¯·æ±‚ä¿¡æ¯çš„åé¢éƒ½è¦ä½¿ç”¨ &quot;<mark> ç©ºæ ¼æ¢è¡Œ</mark> &quot; è¿›è¡Œåˆ†éš”å¦åˆ™åé¢æ•°æ®å‘é€ä¸åˆ°ã€‚</li>
<li>å°† response æ‹¼æ¥å¥½ä¿¡æ¯çš„å­—ç¬¦ä¸²é€šè¿‡è¾“å‡ºæµ os.write () å†™å‡ºåˆ°æµè§ˆå™¨ä¸­ã€‚</li>
<li>æ‰€æœ‰æ“ä½œéƒ½å®Œæ¯•åå…³é—­æµï¼Œé‡Šæ”¾èµ„æºå¦åˆ™ä¸ä¼šå†™å‡ºæ•°æ®åˆ°é¡µé¢ä¸­ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyHttpServer</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String... args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">8080</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;æœåŠ¡å™¨å·²ç»å¯åŠ¨ï¼Œç›‘å¬ç«¯å£ä¸ºï¼š8080 ...&quot;</span>);</span><br><span class="line">            <span class="type">ExecutorService</span> <span class="variable">executorService</span> <span class="operator">=</span> Executors.newCachedThreadPool();</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line">                executorService.execute(() -&gt; &#123;</span><br><span class="line">                    <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">                    <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        System.out.println(socket);</span><br><span class="line">                        is = socket.getInputStream();</span><br><span class="line">                        os = socket.getOutputStream();</span><br><span class="line">                        <span class="type">byte</span>[] by = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span> * <span class="number">1024</span>];</span><br><span class="line">                        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> is.read(by);</span><br><span class="line">                        <span class="keyword">if</span> (len != -<span class="number">1</span>) &#123;</span><br><span class="line">                            System.out.println(<span class="string">&quot;è¯»å–åˆ°çš„å­—èŠ‚æ•°æ˜¯: &quot;</span> + len);</span><br><span class="line">                            System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(by, <span class="number">0</span>, len));</span><br><span class="line">                            <span class="comment">//å“åº”ç»™æµè§ˆå™¨éœ€è¦ä½¿ç”¨Httpåè®®</span></span><br><span class="line">                            <span class="type">String</span> <span class="variable">body</span> <span class="operator">=</span> <span class="string">&quot;&lt;h1&gt;&quot;</span> + count + <span class="string">&quot;&lt;/h1&gt;&quot;</span>;</span><br><span class="line">                            <span class="comment">//httpåè®®/ç‰ˆæœ¬ çŠ¶æ€ç   çŠ¶æ€ åé¢çš„æ ¼å¼å¿…é¡»æ˜¯\r\nä¸èƒ½ä¹±å†™å¦åˆ™æŠ¥é”™</span></span><br><span class="line">                            <span class="type">String</span> <span class="variable">response</span> <span class="operator">=</span> <span class="string">&quot;HTTP/1.1 200 OK\r\n&quot;</span> +<span class="comment">//HTTP1.1åè®® çŠ¶æ€ç :200 æ­£ç¡® å›è½¦æ¢è¡Œ</span></span><br><span class="line">                                    <span class="comment">//å‘Šè¯‰æµè§ˆå™¨æ–‡æœ¬çš„å†…å®¹å¤§å°</span></span><br><span class="line">                                    <span class="string">&quot;Content-Length: &quot;</span> + body.getBytes().length + <span class="string">&quot;\r\n&quot;</span> +</span><br><span class="line">                                    <span class="comment">//å‘Šè¯‰æµè§ˆå™¨æ–‡æœ¬ç±»å‹: æ™®é€šæ–‡æœ¬/plain ä¸è§£æhtmlæ ‡ç­¾ä»£ç </span></span><br><span class="line">                                    <span class="string">&quot;Content-Type: text/plain; charset-utf-8\r\n&quot;</span> +<span class="comment">//å†…å®¹ç±»å‹æ˜¯æ™®é€šæ–‡æœ¬ å›è½¦æ¢è¡Œ å­—ç¬¦é›†</span></span><br><span class="line">                                    <span class="comment">//å›ºå®šå†™æ³•,å¿…é¡»è¦å†™çš„ç©ºæ ¼æ¢è¡Œ(å¿…é¡»è¦å†™ä¸€ä¸ªç©ºè¡Œ)</span></span><br><span class="line">                                    <span class="string">&quot;\r\n&quot;</span> +<span class="comment">//å›è½¦æ¢è¡Œ,å¦åˆ™åé¢çš„æ•°æ®æ¥æ”¶ä¸åˆ°</span></span><br><span class="line">                                    <span class="comment">//bodyå“åº”æµè§ˆå™¨å†…å®¹</span></span><br><span class="line">                                    <span class="comment">//è¦è¿”å›ç»™æµè§ˆå™¨çš„æ–‡æœ¬æ­£æ–‡(å†…å®¹)</span></span><br><span class="line">                                    body + <span class="string">&quot;\r\n&quot;</span>;<span class="comment">//å›è½¦æ¢è¡Œ,å¦åˆ™åé¢çš„æ•°æ®æ¥æ”¶ä¸åˆ°</span></span><br><span class="line">                            <span class="comment">//å°†ä¸Šé¢çš„HTTPåè®®ä¿¡æ¯å’Œå“åº”çš„æ•°æ®å†™å‡ºåˆ°æµè§ˆå™¨ä¸­</span></span><br><span class="line">                            os.write(response.getBytes());</span><br><span class="line">                            count++;</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            System.out.println(<span class="string">&quot;æ²¡æœ‰è¯»å–åˆ°æ•°æ®&quot;</span>);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">                        <span class="keyword">try</span>&#123;</span><br><span class="line">                            <span class="keyword">if</span>(os != <span class="literal">null</span>)&#123;</span><br><span class="line">                                os.flush();<span class="comment">//å°†æ•°æ®åˆ·å‡º</span></span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">if</span>(socket != <span class="literal">null</span>)&#123;</span><br><span class="line">                                <span class="comment">//ä¸Šä¸€æ®µå¯¹è¯å·²ç»ç»“æŸè¿›è¡Œä¸‹ä¸€æ®µå¯¹è¯</span></span><br><span class="line">                                socket.shutdownOutput();</span><br><span class="line">                                socket.close();<span class="comment">//å…³é—­å¥—æ¥å­—èµ„æº</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;<span class="keyword">catch</span>(IOException e)&#123;</span><br><span class="line">                            e.printStackTrace();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ•ˆæœ</strong>ï¼š</p>
<p><img data-src="./images/test-1684482715163-1.gif" alt="test"></p>
<h2 id="è¯·æ±‚ä¿¡æ¯åå…­è¿›åˆ¶æ˜¾ç¤ºï¸"><a class="markdownIt-Anchor" href="#è¯·æ±‚ä¿¡æ¯åå…­è¿›åˆ¶æ˜¾ç¤ºï¸">#</a> è¯·æ±‚ä¿¡æ¯åå…­è¿›åˆ¶æ˜¾ç¤ºâš¡ï¸</h2>
<p>å°† HTTP è¯·æ±‚å¤´çš„ä¿¡æ¯è½¬æ¢ä¸ºåå…­è¿›åˆ¶æ˜¾ç¤ºç±»ä¼¼å¦‚ä¸‹ï¼š</p>
<p><img data-src="./images/image-20230519104124416.png" alt="image-20230519104124416"></p>
<p>æ€è·¯ï¼š</p>
<blockquote>
<p><strong>å®šä¹‰ä¼ å…¥äºŒè¿›åˆ¶æ•°æ®è½¬æ¢ä¸ºåå…­è¿›åˆ¶çš„æ–¹æ³•</strong>.</p>
<p>ä¼ å…¥ä¸€ä¸ªäºŒè¿›åˆ¶çš„æ•°æ®åˆ° byte2Hex æ–¹æ³•ä¸­è¿›è¡Œåœ°ä½å’Œé«˜ä½çš„è®¡ç®—è½¬æ¢ä¸ºå¯¹åº”çš„åå…­è¿›åˆ¶æ•°æ®ï¼Œåœ°ä½è®¡ç®—å‡ºä¸€ä¸ªå€¼ä¸º char æ•°ç»„æˆå‘˜å­—æ®µçš„ä¸‹æ ‡å€¼ï¼Œé«˜ä½ä¹Ÿæ˜¯ç»„æˆä¸€ä¸ªåå…­è¿›åˆ¶çš„å€¼</p>
<p><mark>äºŒè¿›åˆ¶è½¬åå…­è¿›åˆ¶æ•°</mark> è§„åˆ™ï¼š</p>
<p><code>ä»ä½ä½å¼€å§‹ï¼Œå°†äºŒè¿›åˆ¶æ•°æ¯å››ä½ä¸€ç»„ï¼Œè½¬æˆå¯¹åº”çš„å…­è¿›åˆ¶æ•°å³å¯</code> ï¼š</p>
<p><code>ä¾‹å­</code> ï¼š</p>
 <figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">0B11010101</span><br><span class="line">0B[1101][0101]=0XD5</span><br><span class="line">ç¬¬ä¸€ç»„æ˜¯4+1=5</span><br><span class="line">ç¬¬äºŒç»„æ˜¯1+4+8=13/D</span><br></pre></td></tr></table></figure>
<p><code>åœ°ä½</code> ï¼šè¿›è¡Œ &amp; æ“ä½œè®¡ç®—å‡ºåœ°ä½è¦è½¬æ¢çš„æ•°æ®</p>
<p><code>é«˜ä½</code> ï¼šå…ˆè¿›è¡Œ &amp; æ“ä½œè®¡ç®—å‡ºé«˜ä½è¦è½¬æ¢çš„æ•°æ®ç„¶åè¿›è¡Œè¿ç®—ç¬¦å³ç§»è®©å…¶ä»é«˜ä½å˜åœ°ä½æ¥è®¡ç®—ï¼Œå¦‚æœä¸æ‡‚éœ€è¦ç»†è¯» äºŒè¿›åˆ¶è½¬åå…­è¿›åˆ¶çš„è§„åˆ™</p>
<p>è®¡ç®—å‡ºç»“æœåé€šè¿‡å€¼æ¥è·å– char æ•°ç»„æˆå‘˜å­—æ®µä¸‹æ ‡å¯¹åº”åå…­è¿›åˆ¶çš„å€¼</p>
</blockquote>
<p>å®šä¹‰æˆå‘˜å˜é‡æ¥è®°å½•åå…­è¿›åˆ¶çš„æ•°æ®ç»„</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">char</span>[] arr = &#123;<span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;4&#x27;</span>,<span class="string">&#x27;5&#x27;</span>,<span class="string">&#x27;6&#x27;</span>,<span class="string">&#x27;7&#x27;</span>,<span class="string">&#x27;8&#x27;</span>,<span class="string">&#x27;9&#x27;</span>,<span class="string">&#x27;A&#x27;</span>,</span><br><span class="line">                                   <span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;D&#x27;</span>,<span class="string">&#x27;E&#x27;</span>,<span class="string">&#x27;F&#x27;</span>&#125;;</span><br></pre></td></tr></table></figure>
<p>å®šä¹‰æ–¹æ³•å°†ä¼ å…¥çš„äºŒè¿›åˆ¶æ•°æ®è½¬æ¢ä¸ºåå…­è¿›åˆ¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 3a -&gt; &quot;3A&quot;</span></span><br><span class="line"><span class="comment"> * a5 -&gt; &quot;A5&quot;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> bt</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title function_">byte2Hex</span><span class="params">(<span class="type">byte</span> bt)</span>&#123;</span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 00111111ï¼šå½¢å‚</span></span><br><span class="line"><span class="comment">    * &amp;</span></span><br><span class="line"><span class="comment">    * 00001111</span></span><br><span class="line"><span class="comment">    * æ“ä½œ:</span></span><br><span class="line"><span class="comment">    * 00001111</span></span><br><span class="line"><span class="comment">    * ç»“æœï¼š15 å¯¹åº”æˆå‘˜å˜é‡ä¸‹æ ‡ç»“æœ: F</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="comment">//è®¡ç®—åœ°ä½</span></span><br><span class="line">   <span class="type">int</span> <span class="variable">lo</span> <span class="operator">=</span> bt &amp; <span class="number">0b00001111</span>;</span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 00111111ï¼šå½¢å‚</span></span><br><span class="line"><span class="comment">    * &amp;</span></span><br><span class="line"><span class="comment">    * 11110000</span></span><br><span class="line"><span class="comment">    * æ“ä½œ:</span></span><br><span class="line"><span class="comment">    * 00110000</span></span><br><span class="line"><span class="comment">    * ç»“æœ:</span></span><br><span class="line"><span class="comment">    * 48</span></span><br><span class="line"><span class="comment">    * &gt;&gt; 4</span></span><br><span class="line"><span class="comment">    * ç»“æœ:</span></span><br><span class="line"><span class="comment">    * 24 12 6 3</span></span><br><span class="line"><span class="comment">    * æœ€ç»ˆç»“æœ:</span></span><br><span class="line"><span class="comment">    * 3 å¯¹åº”æˆå‘˜å˜é‡ä¸‹æ ‡ç»“æœ: 3</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="comment">//è®¡ç®—é«˜ä½</span></span><br><span class="line">   <span class="comment">//è¿ç®—å³ç§»4ä½æ˜¯å› ä¸ºè®©é«˜ä½å˜åœ°ä½é‡æ–°å¼€å§‹è®¡ç®—è€Œä¸æ˜¯ç»§ç»­è®¡ç®—</span></span><br><span class="line">   <span class="type">int</span> <span class="variable">hi</span> <span class="operator">=</span> (bt &amp; <span class="number">0b11110000</span>) &gt;&gt; <span class="number">4</span>;</span><br><span class="line">   <span class="type">char</span> <span class="variable">clo</span> <span class="operator">=</span> arr[lo];</span><br><span class="line">   <span class="type">char</span> <span class="variable">chi</span> <span class="operator">=</span> arr[hi];</span><br><span class="line">   <span class="comment">//è½¬æ¢ä¸ºå­—ç¬¦ä¸²ç±»å‹æ‹¼æ¥è¿”å›</span></span><br><span class="line">   <span class="keyword">return</span> chi + <span class="string">&quot;&quot;</span> + clo;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æµ‹è¯•ä»£ç </strong>ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//f:15 1111:15 11:3 -&gt; 111111 48 56 60 63 æœ€ç»ˆå®å‚ä¸º:63</span></span><br><span class="line"><span class="comment">//byteä¼šå°† 0x3f è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•°æ®ï¼š63 ä¼ å…¥å½¢å‚ä¸­</span></span><br><span class="line"><span class="type">byte</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">0x3f</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">Hex</span> <span class="operator">=</span> byte2Hex(b);</span><br><span class="line">System.out.println(Hex);</span><br><span class="line">----------------------------Result----------------------------</span><br><span class="line"><span class="number">3F</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä»£ç é€šè¿‡æµ‹è¯•èƒ½è¿”å›ä¸€ä¸ªäºŒè¿›åˆ¶æ•°è½¬ä¸ºåå…­è¿›åˆ¶æ•°æ®å¯¹åº”çš„æ•°æ®ä½†æ˜¯æˆ‘ä»¬æƒ³è¦çš„ä¸æ˜¯åªæœ‰ä¸€ä¸ªã€‚</p>
<h3 id="å°†å¤šä¸ªäºŒè¿›åˆ¶è½¬åå…­è¿›åˆ¶çš„æ•°æ®æ‹¼æ¥æ‰“å°ï¸"><a class="markdownIt-Anchor" href="#å°†å¤šä¸ªäºŒè¿›åˆ¶è½¬åå…­è¿›åˆ¶çš„æ•°æ®æ‹¼æ¥æ‰“å°ï¸">#</a> å°†å¤šä¸ªäºŒè¿›åˆ¶è½¬åå…­è¿›åˆ¶çš„æ•°æ®æ‹¼æ¥æ‰“å°â˜¢ï¸</h3>
<p>å®šä¹‰æ¥æ”¶ byte æ•°ç»„çš„æ–¹æ³• bytesArr2HexStr å°†æ•°ç»„ä¸­äºŒè¿›åˆ¶æ•°æ®è½¬æ¢ä¸ºå¤šä¸ªåå…­è¿›åˆ¶æ˜¾ç¤ºï¼š</p>
<p>æ€è·¯ï¼š</p>
<blockquote>
<p>æ¥æ”¶ä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„å’Œæ•°æ®çš„å¤§å°ï¼Œå¾ªç¯æ•°æ®å¤§å°ï¼Œå®šä¹‰ StringBuffer ä½¿ç”¨ append è¿½åŠ æ¯æ¬¡å¾ªç¯ä¼ å…¥ byte2Hex è½¬æ¢æ–¹æ³•ä¸­è¿”å›çš„åå…­è¿›åˆ¶æ•°æ®å¹¶åœ¨æ¯æ®µæ•°æ®åæ‹¼æ¥ç©ºæ ¼ï¼Œif åˆ¤æ–­æ¯ 8 æ®µæ•°æ®å¤šæ‹¼æ¥ä¸€ä¸ªç©ºæ ¼ï¼Œif åˆ¤æ–­æ¯ 16 æ®µæ•°æ®ç©ºæ ¼æ¢è¡Œï¼Œæœ€ç»ˆè¿”å› sb.toString () å°† StringBuffer è½¬æ¢ä¸ºå­—ç¬¦ä¸²ç±»å‹è¿”å›ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å°†ä¼ å…¥çš„æ•´ä¸ªäºŒè¿›åˆ¶æ•°æ®å…¨éƒ¨è½¬æ¢ä¸ºåå…­è¿›åˆ¶çš„æ•°æ®</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> by æ¥æ”¶å­—èŠ‚æ•°ç»„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> len æ•°æ®çš„å¤§å°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title function_">bytesArr2HexStr</span><span class="params">(<span class="type">byte</span>[] by,<span class="type">int</span> len)</span>&#123;</span><br><span class="line">   <span class="comment">//ä½¿ç”¨StringBufferæ¥æ¥æ”¶è½¬æ¢åçš„åå…­è¿›åˆ¶æ•°æ®</span></span><br><span class="line">   <span class="type">StringBuffer</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">   <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; len;i ++)&#123;</span><br><span class="line">      <span class="comment">//æ¯è¿½åŠ ä¸€ä¸ªåå…­è¿›åˆ¶æ•°æ®å°±æ‹¼æ¥ä¸€ä¸ªç©ºæ ¼</span></span><br><span class="line">      sb.append(byte2Hex(by[i])+<span class="string">&quot; &quot;</span>);</span><br><span class="line">      <span class="comment">//åˆ¤æ–­æ¯ç¬¬8ä¸ªå¤šè¿½åŠ ä¸€ä¸ªç©ºæ ¼ i+1é¿å…ç¬¬ä¸€ä¸ªå°±æ»¡è¶³æ¡ä»¶</span></span><br><span class="line">      <span class="keyword">if</span>((i + <span class="number">1</span>) % <span class="number">8</span> == <span class="number">0</span>)</span><br><span class="line">         sb.append(<span class="string">&quot; &quot;</span>);</span><br><span class="line">      <span class="comment">//åˆ¤æ–­æ¯16ä¸ªè¿›è¡Œæ¢è¡Œç©ºæ ¼ i+1é¿å…ç¬¬ä¸€ä¸ªå°±æ»¡è¶³æ¡ä»¶</span></span><br><span class="line">      <span class="keyword">if</span>((i + <span class="number">1</span>) % <span class="number">16</span> == <span class="number">0</span>)</span><br><span class="line">         sb.append(<span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">//å°†StringBufferè½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶è¿”å›</span></span><br><span class="line">   <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ <code>main</code>  æ–¹æ³•ä¸­ï¼šInputStream ä¸­è¯»å– <code>è¯·æ±‚ä½“</code> çš„äºŒè¿›åˆ¶æ•°æ®å¹¶å°†äºŒè¿›åˆ¶æ•°æ®ä¼ å…¥åå…­è¿›åˆ¶è½¬æ¢æ–¹æ³•ä¸­è¿›è¡Œè½¬æ¢ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//ä»Socketä¸­è¯»å–HTTPè¯·æ±‚ä¿¡æ¯</span></span><br><span class="line">is = socket.getInputStream();</span><br><span class="line">os = socket.getOutputStream();</span><br><span class="line"><span class="comment">//å­—èŠ‚ç¼“å†²åŒº</span></span><br><span class="line"><span class="type">byte</span>[] by = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span> * <span class="number">1024</span>];</span><br><span class="line"><span class="comment">//å°†è¯»å–åˆ°çš„å­—èŠ‚æ•°æ®èµ‹å€¼ç»™å˜é‡len</span></span><br><span class="line"><span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> is.read(by);</span><br><span class="line"><span class="comment">//åˆ¤æ–­æ˜¯å¦è¯»å–åˆ°æœ«å°¾</span></span><br><span class="line"><span class="keyword">if</span> (len != -<span class="number">1</span>) &#123;</span><br><span class="line">   <span class="comment">//è°ƒç”¨æ–¹æ³•è¿›è¡Œè½¬æ¢ä¸ºåå…­è¿›åˆ¶</span></span><br><span class="line">   <span class="type">String</span> <span class="variable">hexMsg</span> <span class="operator">=</span> bytesArr2HexStr(by,len);</span><br><span class="line">   System.out.println(hexMsg);</span><br><span class="line">----------------------------Result----------------------------</span><br><span class="line"><span class="number">47</span> <span class="number">45</span> <span class="number">54</span> <span class="number">20</span> <span class="number">2F</span> <span class="number">66</span> <span class="number">61</span> <span class="number">76</span>  <span class="number">69</span> <span class="number">63</span> <span class="number">6F</span> 6E 2E <span class="number">69</span> <span class="number">63</span> <span class="number">6F</span>  </span><br><span class="line"><span class="number">20</span> <span class="number">48</span> <span class="number">54</span> <span class="number">54</span> <span class="number">50</span> <span class="number">2F</span> <span class="number">31</span> 2E  <span class="number">31</span> <span class="number">0D</span> 0A <span class="number">48</span> <span class="number">6F</span> <span class="number">73</span> <span class="number">74</span> 3A  </span><br><span class="line"><span class="number">20</span> 6C <span class="number">6F</span> <span class="number">63</span> <span class="number">61</span> 6C <span class="number">68</span> <span class="number">6F</span>  <span class="number">73</span> <span class="number">74</span> 3A <span class="number">38</span> <span class="number">30</span> <span class="number">38</span> <span class="number">30</span> <span class="number">0D</span>  </span><br><span class="line">0A <span class="number">43</span> <span class="number">6F</span> 6E 6E <span class="number">65</span> <span class="number">63</span> <span class="number">74</span>  <span class="number">69</span> <span class="number">6F</span> 6E 3A <span class="number">20</span> 6B <span class="number">65</span> <span class="number">65</span>  </span><br><span class="line"><span class="number">70</span> <span class="number">2D</span> <span class="number">61</span> 6C <span class="number">69</span> <span class="number">76</span> <span class="number">65</span> <span class="number">0D</span>  0A <span class="number">73</span> <span class="number">65</span> <span class="number">63</span> <span class="number">2D</span> <span class="number">63</span> <span class="number">68</span> <span class="number">2D</span>  </span><br><span class="line"><span class="number">75</span> <span class="number">61</span> 3A <span class="number">20</span> <span class="number">22</span> <span class="number">47</span> <span class="number">6F</span> <span class="number">6F</span>  <span class="number">67</span> 6C <span class="number">65</span> <span class="number">20</span> <span class="number">43</span> <span class="number">68</span> <span class="number">72</span> <span class="number">6F</span>  </span><br><span class="line"><span class="number">6D</span> <span class="number">65</span> <span class="number">22</span> 3B <span class="number">76</span> <span class="number">3D</span> <span class="number">22</span> <span class="number">31</span>  <span class="number">31</span> <span class="number">33</span> <span class="number">22</span> 2C <span class="number">20</span> <span class="number">22</span> <span class="number">43</span> <span class="number">68</span>  </span><br><span class="line"><span class="number">72</span> <span class="number">6F</span> <span class="number">6D</span> <span class="number">69</span> <span class="number">75</span> <span class="number">6D</span> <span class="number">22</span> 3B  <span class="number">76</span> <span class="number">3D</span> <span class="number">22</span> <span class="number">31</span> <span class="number">31</span> <span class="number">33</span> <span class="number">22</span> 2C  </span><br><span class="line"><span class="number">20</span> <span class="number">22</span> 4E <span class="number">6F</span> <span class="number">74</span> <span class="number">2D</span> <span class="number">41</span> 2E  <span class="number">42</span> <span class="number">72</span> <span class="number">61</span> 6E <span class="number">64</span> <span class="number">22</span> 3B <span class="number">76</span>  </span><br><span class="line"><span class="number">3D</span> <span class="number">22</span> <span class="number">32</span> <span class="number">34</span> <span class="number">22</span> <span class="number">0D</span> 0A <span class="number">73</span>  <span class="number">65</span> <span class="number">63</span> <span class="number">2D</span> <span class="number">63</span> <span class="number">68</span> <span class="number">2D</span> <span class="number">75</span> <span class="number">61</span>  </span><br><span class="line"><span class="number">2D</span> <span class="number">6D</span> <span class="number">6F</span> <span class="number">62</span> <span class="number">69</span> 6C <span class="number">65</span> 3A  <span class="number">20</span> <span class="number">3F</span> <span class="number">30</span> <span class="number">0D</span> 0A <span class="number">55</span> <span class="number">73</span> <span class="number">65</span>  </span><br><span class="line"><span class="number">72</span> <span class="number">2D</span> <span class="number">41</span> <span class="number">67</span> <span class="number">65</span> 6E <span class="number">74</span> 3A  <span class="number">20</span> <span class="number">4D</span> <span class="number">6F</span> 7A <span class="number">69</span> 6C 6C <span class="number">61</span>  </span><br><span class="line"><span class="number">2F</span> <span class="number">35</span> 2E <span class="number">30</span> <span class="number">20</span> <span class="number">28</span> <span class="number">57</span> <span class="number">69</span>  6E <span class="number">64</span> <span class="number">6F</span> <span class="number">77</span> <span class="number">73</span> <span class="number">20</span> 4E <span class="number">54</span>  </span><br><span class="line"><span class="number">20</span> <span class="number">31</span> <span class="number">30</span> 2E <span class="number">30</span> 3B <span class="number">20</span> <span class="number">57</span>  <span class="number">69</span> 6E <span class="number">36</span> <span class="number">34</span> 3B <span class="number">20</span> <span class="number">78</span> <span class="number">36</span>  </span><br><span class="line"><span class="number">34</span> <span class="number">29</span> <span class="number">20</span> <span class="number">41</span> <span class="number">70</span> <span class="number">70</span> 6C <span class="number">65</span>  <span class="number">57</span> <span class="number">65</span> <span class="number">62</span> 4B <span class="number">69</span> <span class="number">74</span> <span class="number">2F</span> <span class="number">35</span>  </span><br><span class="line"><span class="number">33</span> <span class="number">37</span> 2E <span class="number">33</span> <span class="number">36</span> <span class="number">20</span> <span class="number">28</span> 4B  <span class="number">48</span> <span class="number">54</span> <span class="number">4D</span> 4C 2C <span class="number">20</span> 6C <span class="number">69</span>  </span><br><span class="line">6B <span class="number">65</span> <span class="number">20</span> <span class="number">47</span> <span class="number">65</span> <span class="number">63</span> 6B <span class="number">6F</span>  <span class="number">29</span> <span class="number">20</span> <span class="number">43</span> <span class="number">68</span> <span class="number">72</span> <span class="number">6F</span> <span class="number">6D</span> <span class="number">65</span>  </span><br><span class="line"><span class="number">2F</span> <span class="number">31</span> <span class="number">31</span> <span class="number">33</span> 2E <span class="number">30</span> 2E <span class="number">30</span>  2E <span class="number">30</span> <span class="number">20</span> <span class="number">53</span> <span class="number">61</span> <span class="number">66</span> <span class="number">61</span> <span class="number">72</span>  </span><br><span class="line"><span class="number">69</span> <span class="number">2F</span> <span class="number">35</span> <span class="number">33</span> <span class="number">37</span> 2E <span class="number">33</span> <span class="number">36</span>  <span class="number">0D</span> 0A <span class="number">73</span> <span class="number">65</span> <span class="number">63</span> <span class="number">2D</span> <span class="number">63</span> <span class="number">68</span>  </span><br><span class="line"><span class="number">2D</span> <span class="number">75</span> <span class="number">61</span> <span class="number">2D</span> <span class="number">70</span> 6C <span class="number">61</span> <span class="number">74</span>  <span class="number">66</span> <span class="number">6F</span> <span class="number">72</span> <span class="number">6D</span> 3A <span class="number">20</span> <span class="number">22</span> <span class="number">57</span>  </span><br><span class="line"><span class="number">69</span> 6E <span class="number">64</span> <span class="number">6F</span> <span class="number">77</span> <span class="number">73</span> <span class="number">22</span> <span class="number">0D</span>  0A <span class="number">41</span> <span class="number">63</span> <span class="number">63</span> <span class="number">65</span> <span class="number">70</span> <span class="number">74</span> 3A  </span><br><span class="line"><span class="number">20</span> <span class="number">69</span> <span class="number">6D</span> <span class="number">61</span> <span class="number">67</span> <span class="number">65</span> <span class="number">2F</span> <span class="number">61</span>  <span class="number">76</span> <span class="number">69</span> <span class="number">66</span> 2C <span class="number">69</span> <span class="number">6D</span> <span class="number">61</span> <span class="number">67</span>  </span><br><span class="line"><span class="number">65</span> <span class="number">2F</span> <span class="number">77</span> <span class="number">65</span> <span class="number">62</span> <span class="number">70</span> 2C <span class="number">69</span>  <span class="number">6D</span> <span class="number">61</span> <span class="number">67</span> <span class="number">65</span> <span class="number">2F</span> <span class="number">61</span> <span class="number">70</span> 6E  </span><br><span class="line"><span class="number">67</span> 2C <span class="number">69</span> <span class="number">6D</span> <span class="number">61</span> <span class="number">67</span> <span class="number">65</span> <span class="number">2F</span>  <span class="number">73</span> <span class="number">76</span> <span class="number">67</span> 2B <span class="number">78</span> <span class="number">6D</span> 6C 2C  </span><br><span class="line"><span class="number">69</span> <span class="number">6D</span> <span class="number">61</span> <span class="number">67</span> <span class="number">65</span> <span class="number">2F</span> 2A 2C  2A <span class="number">2F</span> 2A 3B <span class="number">71</span> <span class="number">3D</span> <span class="number">30</span> 2E  </span><br><span class="line"><span class="number">38</span> <span class="number">0D</span> 0A <span class="number">53</span> <span class="number">65</span> <span class="number">63</span> <span class="number">2D</span> <span class="number">46</span>  <span class="number">65</span> <span class="number">74</span> <span class="number">63</span> <span class="number">68</span> <span class="number">2D</span> <span class="number">53</span> <span class="number">69</span> <span class="number">74</span>  </span><br><span class="line"><span class="number">65</span> 3A <span class="number">20</span> <span class="number">73</span> <span class="number">61</span> <span class="number">6D</span> <span class="number">65</span> <span class="number">2D</span>  <span class="number">6F</span> <span class="number">72</span> <span class="number">69</span> <span class="number">67</span> <span class="number">69</span> 6E <span class="number">0D</span> 0A  </span><br><span class="line"><span class="number">53</span> <span class="number">65</span> <span class="number">63</span> <span class="number">2D</span> <span class="number">46</span> <span class="number">65</span> <span class="number">74</span> <span class="number">63</span>  <span class="number">68</span> <span class="number">2D</span> <span class="number">4D</span> <span class="number">6F</span> <span class="number">64</span> <span class="number">65</span> 3A <span class="number">20</span>  </span><br><span class="line">6E <span class="number">6F</span> <span class="number">2D</span> <span class="number">63</span> <span class="number">6F</span> <span class="number">72</span> <span class="number">73</span> <span class="number">0D</span>  0A <span class="number">53</span> <span class="number">65</span> <span class="number">63</span> <span class="number">2D</span> <span class="number">46</span> <span class="number">65</span> <span class="number">74</span>  </span><br><span class="line"><span class="number">63</span> <span class="number">68</span> <span class="number">2D</span> <span class="number">44</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> 3A  <span class="number">20</span> <span class="number">69</span> <span class="number">6D</span> <span class="number">61</span> <span class="number">67</span> <span class="number">65</span> <span class="number">0D</span> 0A  </span><br><span class="line"><span class="number">52</span> <span class="number">65</span> <span class="number">66</span> <span class="number">65</span> <span class="number">72</span> <span class="number">65</span> <span class="number">72</span> 3A  <span class="number">20</span> <span class="number">68</span> <span class="number">74</span> <span class="number">74</span> <span class="number">70</span> 3A <span class="number">2F</span> <span class="number">2F</span>  </span><br><span class="line">6C <span class="number">6F</span> <span class="number">63</span> <span class="number">61</span> 6C <span class="number">68</span> <span class="number">6F</span> <span class="number">73</span>  <span class="number">74</span> 3A <span class="number">38</span> <span class="number">30</span> <span class="number">38</span> <span class="number">30</span> <span class="number">2F</span> <span class="number">0D</span>  </span><br><span class="line">0A <span class="number">41</span> <span class="number">63</span> <span class="number">63</span> <span class="number">65</span> <span class="number">70</span> <span class="number">74</span> <span class="number">2D</span>  <span class="number">45</span> 6E <span class="number">63</span> <span class="number">6F</span> <span class="number">64</span> <span class="number">69</span> 6E <span class="number">67</span>  </span><br><span class="line">3A <span class="number">20</span> <span class="number">67</span> 7A <span class="number">69</span> <span class="number">70</span> 2C <span class="number">20</span>  <span class="number">64</span> <span class="number">65</span> <span class="number">66</span> 6C <span class="number">61</span> <span class="number">74</span> <span class="number">65</span> 2C  </span><br><span class="line"><span class="number">20</span> <span class="number">62</span> <span class="number">72</span> <span class="number">0D</span> 0A <span class="number">41</span> <span class="number">63</span> <span class="number">63</span>  <span class="number">65</span> <span class="number">70</span> <span class="number">74</span> <span class="number">2D</span> 4C <span class="number">61</span> 6E <span class="number">67</span>  </span><br><span class="line"><span class="number">75</span> <span class="number">61</span> <span class="number">67</span> <span class="number">65</span> 3A <span class="number">20</span> <span class="number">65</span> 6E  <span class="number">2D</span> <span class="number">55</span> <span class="number">53</span> 2C <span class="number">65</span> 6E 3B <span class="number">71</span>  </span><br><span class="line"><span class="number">3D</span> <span class="number">30</span> 2E <span class="number">39</span> 2C 7A <span class="number">68</span> <span class="number">2D</span>  <span class="number">43</span> 4E 3B <span class="number">71</span> <span class="number">3D</span> <span class="number">30</span> 2E <span class="number">38</span>  </span><br><span class="line">2C 7A <span class="number">68</span> 3B <span class="number">71</span> <span class="number">3D</span> <span class="number">30</span> 2E  <span class="number">37</span> <span class="number">0D</span> 0A <span class="number">43</span> <span class="number">6F</span> <span class="number">6F</span> 6B <span class="number">69</span>  </span><br><span class="line"><span class="number">65</span> 3A <span class="number">20</span> <span class="number">49</span> <span class="number">64</span> <span class="number">65</span> <span class="number">61</span> <span class="number">2D</span>  <span class="number">38</span> <span class="number">32</span> <span class="number">39</span> <span class="number">36</span> <span class="number">65</span> <span class="number">62</span> <span class="number">33</span> <span class="number">31</span>  </span><br><span class="line"><span class="number">3D</span> <span class="number">31</span> <span class="number">36</span> <span class="number">63</span> <span class="number">35</span> <span class="number">64</span> <span class="number">63</span> <span class="number">30</span>  <span class="number">37</span> <span class="number">2D</span> <span class="number">36</span> <span class="number">31</span> <span class="number">35</span> <span class="number">35</span> <span class="number">2D</span> <span class="number">34</span>  </span><br><span class="line"><span class="number">31</span> <span class="number">33</span> <span class="number">64</span> <span class="number">2D</span> <span class="number">62</span> <span class="number">33</span> <span class="number">30</span> <span class="number">38</span>  <span class="number">2D</span> <span class="number">39</span> <span class="number">30</span> <span class="number">66</span> <span class="number">35</span> <span class="number">63</span> <span class="number">38</span> <span class="number">66</span>  </span><br><span class="line"><span class="number">62</span> <span class="number">35</span> <span class="number">35</span> <span class="number">66</span> <span class="number">65</span> <span class="number">0D</span> 0A <span class="number">0D</span>  0A </span><br><span class="line">---------------------------------------------------------------------------</span><br><span class="line">GET /favicon.ico HTTP/<span class="number">1.1</span></span><br><span class="line">Host: localhost:<span class="number">8080</span></span><br><span class="line">Connection: keep-alive</span><br><span class="line">sec-ch-ua: <span class="string">&quot;Google Chrome&quot;</span>;v=<span class="string">&quot;113&quot;</span>, <span class="string">&quot;Chromium&quot;</span>;v=<span class="string">&quot;113&quot;</span>, <span class="string">&quot;Not-A.Brand&quot;</span>;v=<span class="string">&quot;24&quot;</span></span><br><span class="line">sec-ch-ua-mobile: ?<span class="number">0</span></span><br><span class="line">User-Agent: Mozilla/<span class="number">5.0</span> (Windows NT <span class="number">10.0</span>; Win64; x64) AppleWebKit/<span class="number">537.36</span> (KHTML, like Gecko) Chrome/<span class="number">113.0</span><span class="number">.0</span><span class="number">.0</span> Safari/<span class="number">537.36</span></span><br><span class="line">sec-ch-ua-platform: <span class="string">&quot;Windows&quot;</span></span><br><span class="line">Accept: image/avif,image/webp,image/apng,image/svg+xml,image<span class="comment">/*,*/</span>*;q=<span class="number">0.8</span></span><br><span class="line">Sec-Fetch-Site: same-origin</span><br><span class="line">Sec-Fetch-Mode: no-cors</span><br><span class="line">Sec-Fetch-Dest: image</span><br><span class="line">Referer: http:<span class="comment">//localhost:8080/</span></span><br><span class="line">Accept-Encoding: gzip, deflate, br</span><br><span class="line">Accept-Language: en-US,en;q=<span class="number">0.9</span>,zh-CN;q=<span class="number">0.8</span>,zh;q=<span class="number">0.7</span></span><br><span class="line">Cookie: Idea-8296eb31=16c5dc07-<span class="number">6155</span>-<span class="number">413d</span>-b308-90f5c8fb55fe</span><br></pre></td></tr></table></figure>
<h2 id="è¯·æ±‚å¤´ä¿¡æ¯asciiç æ˜¾ç¤º"><a class="markdownIt-Anchor" href="#è¯·æ±‚å¤´ä¿¡æ¯asciiç æ˜¾ç¤º">#</a> è¯·æ±‚å¤´ä¿¡æ¯ ASCII ç æ˜¾ç¤ºğŸŒ“</h2>
<p>ç¼–å†™åˆ¤æ–­åå…­è¿›åˆ¶å¯å±•ç¤ºèŒƒå›´çš„å­—ç¬¦</p>
<p>æ€è·¯ï¼š</p>
<ol>
<li>å®šä¹‰å››ä¸ª StringBufferï¼šsbï¼šä¸»ä½“ï¼ŒsbLeftï¼šå·¦è¾¹æ•°æ®ï¼ŒsbRightï¼šå³è¾¹å±•ç¤º ASCII å­—ç¬¦ï¼Œfengeï¼šå±•ç¤º â€¦ ã€‚</li>
<li>å¾ªç¯å­—èŠ‚æ•°æ®å¤§å°ï¼Œå°†å¾ªç¯åˆ°çš„å­—èŠ‚æ•°æ®ä¼ å…¥åˆ° byte2Hex æ–¹æ³•ä¸­è¿›è¡Œåå…­è¿›åˆ¶è½¬æ¢å¹¶åœ¨æ¯ä¸ªæ•°æ®åæ‹¼æ¥ç©ºæ ¼ç„¶åè¿½åŠ åˆ° sbLeft ä¸­ ã€‚</li>
<li>åˆ¤æ–­å½“å‰å¾ªç¯çš„äºŒè¿›åˆ¶å­—èŠ‚æ•°æ®çš„å­—ç¬¦å¯è§èŒƒå›´<sup>å¯å¯¹ç…§ ASCII ç è¡¨æŸ¥çœ‹</sup>æ»¡è¶³æ¡ä»¶åˆ™è½¬æ¢ä¸ºå­—ç¬¦è¿½åŠ åˆ° sbRight ä¸­ï¼Œå¦‚æœæ²¡æœ‰åˆ™è¿½åŠ   <code>.</code>  è¿›è¡Œåˆ†éš”ã€‚</li>
<li>åˆ¤æ–­ i+1 ä» 1 å¼€å§‹ %8 æ˜¯å¦ç­‰äº 0ï¼Œä¹Ÿå°±æ˜¯æ¯ 8 ä½ä¸€ç»„å¤šè¿½åŠ ä¸€ä¸ªç©ºæ ¼è¿›å»ã€‚</li>
<li>åˆ¤æ–­ i+1 ä» 1 å¼€å§‹ %16 æ˜¯å¦ç­‰äº 0ï¼Œä¹Ÿå°±æ˜¯æ¯ 16 ä½å°†ï¼šåˆ†éš”ï¼ŒsbLeftï¼Œåˆ†éš”ï¼ŒsbRightï¼Œç©ºæ ¼æ¢è¡Œè¿½åŠ åˆ°ä¸»ä½“ sb ä¸­ï¼Œå¹¶é‡æ–°åˆ›å»º sbLeftï¼ŒsbRightï¼Œfenge çš„ StringBuffer æ¸…ç©ºä¹‹å‰çš„æ•°æ®ï¼Œå› ä¸ºä¹‹å‰çš„æ•°æ®å­˜å…¥ sb ä¸­äº†å†å­˜å°±é‡å¤äº†ã€‚</li>
<li>è¿½åæ‰§è¡Œå®Œäº†å¾ªç¯åœ¨è¿›è¡Œä¸€æ¬¡æ‰€æœ‰ StringBuffer å‘ sb ä¸­è¿½åŠ ï¼Œè¿½åŠ è¿›å»æœ€åä¸€æ¡æ•°æ®</li>
<li>è¿”å› sb.toString () è½¬æ¢ä¸ºå­—ç¬¦ä¸²ç±»å‹è¿”å›</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å°†ä¼ å…¥çš„æ•´ä¸ªäºŒè¿›åˆ¶æ•°æ®å…¨éƒ¨è½¬æ¢ä¸ºåå…­è¿›åˆ¶çš„æ•°æ®</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> by æ¥æ”¶å­—èŠ‚æ•°ç»„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> len æ•°æ®çš„å¤§å°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title function_">bytesArr2HexStr</span><span class="params">(<span class="type">byte</span>[] by,<span class="type">int</span> len)</span>&#123;</span><br><span class="line">   <span class="comment">//ä½¿ç”¨StringBufferæ¥æ¥æ”¶è½¬æ¢åçš„åå…­è¿›åˆ¶æ•°æ®</span></span><br><span class="line">   <span class="type">StringBuffer</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">   <span class="type">StringBuffer</span> <span class="variable">sbLeft</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">   <span class="type">StringBuffer</span> <span class="variable">fenge</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">   <span class="type">StringBuffer</span> <span class="variable">sbRight</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">   <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; len;i ++)&#123;</span><br><span class="line">      <span class="comment">//æ¯è¿½åŠ ä¸€ä¸ªåå…­è¿›åˆ¶æ•°æ®å°±æ‹¼æ¥ä¸€ä¸ªç©ºæ ¼</span></span><br><span class="line">      sbLeft.append(byte2Hex(by[i])+<span class="string">&quot; &quot;</span>);</span><br><span class="line">      <span class="comment">//åˆ¤æ–­å¯è§å­—ç¬¦çš„èŒƒå›´</span></span><br><span class="line">      <span class="keyword">if</span>(by[i] &gt;= <span class="number">0x20</span> &amp;&amp; by[i] &lt;= <span class="number">0x7e</span>)&#123;</span><br><span class="line">         <span class="comment">//å°†äºŒè¿›åˆ¶æ•°æ®è½¬æ¢ä¸ºcharå­—ç¬¦æ‹¼æ¥åˆ°StringBufferä¸­</span></span><br><span class="line">         sbRight.append((<span class="type">char</span>)by[i]);</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">         <span class="comment">//å¦‚æœä¸åœ¨å¯è§èŒƒå›´å†…åˆ™è¿½åŠ ä¸€ä¸ª . å³å¯</span></span><br><span class="line">         sbRight.append(<span class="string">&quot;.&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">//åˆ¤æ–­æ¯ç¬¬8ä¸ªå¤šè¿½åŠ ä¸€ä¸ªç©ºæ ¼ i+1é¿å…ç¬¬ä¸€ä¸ªå°±æ»¡è¶³æ¡ä»¶</span></span><br><span class="line">      <span class="keyword">if</span>((i + <span class="number">1</span>) % <span class="number">8</span> == <span class="number">0</span>)</span><br><span class="line">         sbLeft.append(<span class="string">&quot; &quot;</span>);</span><br><span class="line">      <span class="comment">//åˆ¤æ–­æ¯16ä¸ªè¿›è¡Œæ¢è¡Œç©ºæ ¼ i+1é¿å…ç¬¬ä¸€ä¸ªå°±æ»¡è¶³æ¡ä»¶</span></span><br><span class="line">      <span class="keyword">if</span>(i % <span class="number">16</span> == <span class="number">0</span>)&#123;</span><br><span class="line">         fenge.append(<span class="string">&quot;.......&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span>((i + <span class="number">1</span>) % <span class="number">16</span> == <span class="number">0</span>)&#123;</span><br><span class="line">         sb.append(fenge).append(sbLeft).append(fenge).append(sbRight).append(<span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line">         sbLeft = <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">         sbRight = <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">         fenge = <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">//å°†æœ€åçš„æ•°æ®è¿½åŠ åˆ°SpringBufferä¸­</span></span><br><span class="line">   sb.append(fenge).append(sbLeft).append(<span class="string">&quot;  &quot;</span>).append(fenge).append(sbRight).append(<span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line">   <span class="comment">//å°†StringBufferè½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶è¿”å›</span></span><br><span class="line">   <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br><span class="line">--------------------------------Result--------------------------------</span><br><span class="line">Socket[addr=/<span class="number">0</span>:<span class="number">0</span>:<span class="number">0</span>:<span class="number">0</span>:<span class="number">0</span>:<span class="number">0</span>:<span class="number">0</span>:<span class="number">1</span>,port=<span class="number">12171</span>,localport=<span class="number">8080</span>]</span><br><span class="line">Socket[addr=/<span class="number">0</span>:<span class="number">0</span>:<span class="number">0</span>:<span class="number">0</span>:<span class="number">0</span>:<span class="number">0</span>:<span class="number">0</span>:<span class="number">1</span>,port=<span class="number">12172</span>,localport=<span class="number">8080</span>]</span><br><span class="line">......<span class="number">.47</span> <span class="number">45</span> <span class="number">54</span> <span class="number">20</span> <span class="number">2F</span> <span class="number">20</span> <span class="number">48</span> <span class="number">54</span>  <span class="number">54</span> <span class="number">50</span> <span class="number">2F</span> <span class="number">31</span> 2E <span class="number">31</span> <span class="number">0D</span> 0A  .......GET / HTTP/<span class="number">1.1</span>..</span><br><span class="line">......<span class="number">.48</span> <span class="number">6F</span> <span class="number">73</span> <span class="number">74</span> 3A <span class="number">20</span> 6C <span class="number">6F</span>  <span class="number">63</span> <span class="number">61</span> 6C <span class="number">68</span> <span class="number">6F</span> <span class="number">73</span> <span class="number">74</span> 3A  .......Host: localhost:</span><br><span class="line">......<span class="number">.38</span> <span class="number">30</span> <span class="number">38</span> <span class="number">30</span> <span class="number">0D</span> 0A <span class="number">43</span> <span class="number">6F</span>  6E 6E <span class="number">65</span> <span class="number">63</span> <span class="number">74</span> <span class="number">69</span> <span class="number">6F</span> 6E  ......<span class="number">.8080</span>..Connection</span><br><span class="line">.......3A <span class="number">20</span> 6B <span class="number">65</span> <span class="number">65</span> <span class="number">70</span> <span class="number">2D</span> <span class="number">61</span>  6C <span class="number">69</span> <span class="number">76</span> <span class="number">65</span> <span class="number">0D</span> 0A <span class="number">43</span> <span class="number">61</span>  .......: keep-alive..Ca</span><br><span class="line">......<span class="number">.63</span> <span class="number">68</span> <span class="number">65</span> <span class="number">2D</span> <span class="number">43</span> <span class="number">6F</span> 6E <span class="number">74</span>  <span class="number">72</span> <span class="number">6F</span> 6C 3A <span class="number">20</span> <span class="number">6D</span> <span class="number">61</span> <span class="number">78</span>  .......che-Control: max</span><br><span class="line">......<span class="number">.2D</span> <span class="number">61</span> <span class="number">67</span> <span class="number">65</span> <span class="number">3D</span> <span class="number">30</span> <span class="number">0D</span> 0A  <span class="number">73</span> <span class="number">65</span> <span class="number">63</span> <span class="number">2D</span> <span class="number">63</span> <span class="number">68</span> <span class="number">2D</span> <span class="number">75</span>  .......-age=<span class="number">0.</span>.sec-ch-u</span><br><span class="line">......<span class="number">.61</span> 3A <span class="number">20</span> <span class="number">22</span> <span class="number">47</span> <span class="number">6F</span> <span class="number">6F</span> <span class="number">67</span>  6C <span class="number">65</span> <span class="number">20</span> <span class="number">43</span> <span class="number">68</span> <span class="number">72</span> <span class="number">6F</span> <span class="number">6D</span>  .......a: <span class="string">&quot;Google Chrom</span></span><br><span class="line"><span class="string">.......65 22 3B 76 3D 22 31 31  33 22 2C 20 22 43 68 72  .......e&quot;</span>;v=<span class="string">&quot;113&quot;</span>, <span class="string">&quot;Chr</span></span><br><span class="line"><span class="string">.......6F 6D 69 75 6D 22 3B 76  3D 22 31 31 33 22 2C 20  .......omium&quot;</span>;v=<span class="string">&quot;113&quot;</span>, </span><br><span class="line">......<span class="number">.22</span> 4E <span class="number">6F</span> <span class="number">74</span> <span class="number">2D</span> <span class="number">41</span> 2E <span class="number">42</span>  <span class="number">72</span> <span class="number">61</span> 6E <span class="number">64</span> <span class="number">22</span> 3B <span class="number">76</span> <span class="number">3D</span>  .......<span class="string">&quot;Not-A.Brand&quot;</span>;v=</span><br><span class="line">......<span class="number">.22</span> <span class="number">32</span> <span class="number">34</span> <span class="number">22</span> <span class="number">0D</span> 0A <span class="number">73</span> <span class="number">65</span>  <span class="number">63</span> <span class="number">2D</span> <span class="number">63</span> <span class="number">68</span> <span class="number">2D</span> <span class="number">75</span> <span class="number">61</span> <span class="number">2D</span>  .......<span class="string">&quot;24&quot;</span>..sec-ch-ua-</span><br><span class="line">......<span class="number">.6D</span> <span class="number">6F</span> <span class="number">62</span> <span class="number">69</span> 6C <span class="number">65</span> 3A <span class="number">20</span>  <span class="number">3F</span> <span class="number">30</span> <span class="number">0D</span> 0A <span class="number">73</span> <span class="number">65</span> <span class="number">63</span> <span class="number">2D</span>  .......mobile: ?<span class="number">0.</span>.sec-</span><br><span class="line">......<span class="number">.63</span> <span class="number">68</span> <span class="number">2D</span> <span class="number">75</span> <span class="number">61</span> <span class="number">2D</span> <span class="number">70</span> 6C  <span class="number">61</span> <span class="number">74</span> <span class="number">66</span> <span class="number">6F</span> <span class="number">72</span> <span class="number">6D</span> 3A <span class="number">20</span>  .......ch-ua-platform: </span><br><span class="line">......<span class="number">.22</span> <span class="number">57</span> <span class="number">69</span> 6E <span class="number">64</span> <span class="number">6F</span> <span class="number">77</span> <span class="number">73</span>  <span class="number">22</span> <span class="number">0D</span> 0A <span class="number">55</span> <span class="number">70</span> <span class="number">67</span> <span class="number">72</span> <span class="number">61</span>  .......<span class="string">&quot;Windows&quot;</span>..Upgra</span><br><span class="line">......<span class="number">.64</span> <span class="number">65</span> <span class="number">2D</span> <span class="number">49</span> 6E <span class="number">73</span> <span class="number">65</span> <span class="number">63</span>  <span class="number">75</span> <span class="number">72</span> <span class="number">65</span> <span class="number">2D</span> <span class="number">52</span> <span class="number">65</span> <span class="number">71</span> <span class="number">75</span>  .......de-Insecure-Requ</span><br><span class="line">......<span class="number">.65</span> <span class="number">73</span> <span class="number">74</span> <span class="number">73</span> 3A <span class="number">20</span> <span class="number">31</span> <span class="number">0D</span>  0A <span class="number">55</span> <span class="number">73</span> <span class="number">65</span> <span class="number">72</span> <span class="number">2D</span> <span class="number">41</span> <span class="number">67</span>  .......ests: <span class="number">1.</span>.User-Ag</span><br><span class="line">......<span class="number">.65</span> 6E <span class="number">74</span> 3A <span class="number">20</span> <span class="number">4D</span> <span class="number">6F</span> 7A  <span class="number">69</span> 6C 6C <span class="number">61</span> <span class="number">2F</span> <span class="number">35</span> 2E <span class="number">30</span>  .......ent: Mozilla/<span class="number">5.0</span></span><br><span class="line">......<span class="number">.20</span> <span class="number">28</span> <span class="number">57</span> <span class="number">69</span> 6E <span class="number">64</span> <span class="number">6F</span> <span class="number">77</span>  <span class="number">73</span> <span class="number">20</span> 4E <span class="number">54</span> <span class="number">20</span> <span class="number">31</span> <span class="number">30</span> 2E  ....... (Windows NT <span class="number">10.</span></span><br><span class="line">......<span class="number">.30</span> 3B <span class="number">20</span> <span class="number">57</span> <span class="number">69</span> 6E <span class="number">36</span> <span class="number">34</span>  3B <span class="number">20</span> <span class="number">78</span> <span class="number">36</span> <span class="number">34</span> <span class="number">29</span> <span class="number">20</span> <span class="number">41</span>  ......<span class="number">.0</span>; Win64; x64) A</span><br><span class="line">......<span class="number">.70</span> <span class="number">70</span> 6C <span class="number">65</span> <span class="number">57</span> <span class="number">65</span> <span class="number">62</span> 4B  <span class="number">69</span> <span class="number">74</span> <span class="number">2F</span> <span class="number">35</span> <span class="number">33</span> <span class="number">37</span> 2E <span class="number">33</span>  .......ppleWebKit/<span class="number">537.3</span></span><br><span class="line">......<span class="number">.36</span> <span class="number">20</span> <span class="number">28</span> 4B <span class="number">48</span> <span class="number">54</span> <span class="number">4D</span> 4C  2C <span class="number">20</span> 6C <span class="number">69</span> 6B <span class="number">65</span> <span class="number">20</span> <span class="number">47</span>  ......<span class="number">.6</span> (KHTML, like G</span><br><span class="line">......<span class="number">.65</span> <span class="number">63</span> 6B <span class="number">6F</span> <span class="number">29</span> <span class="number">20</span> <span class="number">43</span> <span class="number">68</span>  <span class="number">72</span> <span class="number">6F</span> <span class="number">6D</span> <span class="number">65</span> <span class="number">2F</span> <span class="number">31</span> <span class="number">31</span> <span class="number">33</span>  .......ecko) Chrome/<span class="number">113</span></span><br><span class="line">.......2E <span class="number">30</span> 2E <span class="number">30</span> 2E <span class="number">30</span> <span class="number">20</span> <span class="number">53</span>  <span class="number">61</span> <span class="number">66</span> <span class="number">61</span> <span class="number">72</span> <span class="number">69</span> <span class="number">2F</span> <span class="number">35</span> <span class="number">33</span>  .......<span class="number">.0</span><span class="number">.0</span><span class="number">.0</span> Safari/<span class="number">53</span></span><br><span class="line">......<span class="number">.37</span> 2E <span class="number">33</span> <span class="number">36</span> <span class="number">0D</span> 0A <span class="number">41</span> <span class="number">63</span>  <span class="number">63</span> <span class="number">65</span> <span class="number">70</span> <span class="number">74</span> 3A <span class="number">20</span> <span class="number">74</span> <span class="number">65</span>  ......<span class="number">.7</span><span class="number">.36</span>..Accept: te</span><br><span class="line">......<span class="number">.78</span> <span class="number">74</span> <span class="number">2F</span> <span class="number">68</span> <span class="number">74</span> <span class="number">6D</span> 6C 2C  <span class="number">61</span> <span class="number">70</span> <span class="number">70</span> 6C <span class="number">69</span> <span class="number">63</span> <span class="number">61</span> <span class="number">74</span>  .......xt/html,applicat</span><br><span class="line">......<span class="number">.69</span> <span class="number">6F</span> 6E <span class="number">2F</span> <span class="number">78</span> <span class="number">68</span> <span class="number">74</span> <span class="number">6D</span>  6C 2B <span class="number">78</span> <span class="number">6D</span> 6C 2C <span class="number">61</span> <span class="number">70</span>  .......ion/xhtml+xml,ap</span><br><span class="line">......<span class="number">.70</span> 6C <span class="number">69</span> <span class="number">63</span> <span class="number">61</span> <span class="number">74</span> <span class="number">69</span> <span class="number">6F</span>  6E <span class="number">2F</span> <span class="number">78</span> <span class="number">6D</span> 6C 3B <span class="number">71</span> <span class="number">3D</span>  .......plication/xml;q=</span><br><span class="line">......<span class="number">.30</span> 2E <span class="number">39</span> 2C <span class="number">69</span> <span class="number">6D</span> <span class="number">61</span> <span class="number">67</span>  <span class="number">65</span> <span class="number">2F</span> <span class="number">61</span> <span class="number">76</span> <span class="number">69</span> <span class="number">66</span> 2C <span class="number">69</span>  ......<span class="number">.0</span><span class="number">.9</span>,image/avif,i</span><br><span class="line">......<span class="number">.6D</span> <span class="number">61</span> <span class="number">67</span> <span class="number">65</span> <span class="number">2F</span> <span class="number">77</span> <span class="number">65</span> <span class="number">62</span>  <span class="number">70</span> 2C <span class="number">69</span> <span class="number">6D</span> <span class="number">61</span> <span class="number">67</span> <span class="number">65</span> <span class="number">2F</span>  .......mage/webp,image/</span><br><span class="line">......<span class="number">.61</span> <span class="number">70</span> 6E <span class="number">67</span> 2C 2A <span class="number">2F</span> 2A  3B <span class="number">71</span> <span class="number">3D</span> <span class="number">30</span> 2E <span class="number">38</span> 2C <span class="number">61</span>  .......apng,*`/`*;q=<span class="number">0.8</span>,a</span><br><span class="line">......<span class="number">.70</span> <span class="number">70</span> 6C <span class="number">69</span> <span class="number">63</span> <span class="number">61</span> <span class="number">74</span> <span class="number">69</span>  <span class="number">6F</span> 6E <span class="number">2F</span> <span class="number">73</span> <span class="number">69</span> <span class="number">67</span> 6E <span class="number">65</span>  .......pplication/signe</span><br><span class="line">......<span class="number">.64</span> <span class="number">2D</span> <span class="number">65</span> <span class="number">78</span> <span class="number">63</span> <span class="number">68</span> <span class="number">61</span> 6E  <span class="number">67</span> <span class="number">65</span> 3B <span class="number">76</span> <span class="number">3D</span> <span class="number">62</span> <span class="number">33</span> 3B  .......d-exchange;v=b3;</span><br><span class="line">......<span class="number">.71</span> <span class="number">3D</span> <span class="number">30</span> 2E <span class="number">37</span> <span class="number">0D</span> 0A <span class="number">53</span>  <span class="number">65</span> <span class="number">63</span> <span class="number">2D</span> <span class="number">46</span> <span class="number">65</span> <span class="number">74</span> <span class="number">63</span> <span class="number">68</span>  .......q=<span class="number">0.7</span>..Sec-Fetch</span><br><span class="line">......<span class="number">.2D</span> <span class="number">53</span> <span class="number">69</span> <span class="number">74</span> <span class="number">65</span> 3A <span class="number">20</span> 6E  <span class="number">6F</span> 6E <span class="number">65</span> <span class="number">0D</span> 0A <span class="number">53</span> <span class="number">65</span> <span class="number">63</span>  .......-Site: none..Sec</span><br><span class="line">......<span class="number">.2D</span> <span class="number">46</span> <span class="number">65</span> <span class="number">74</span> <span class="number">63</span> <span class="number">68</span> <span class="number">2D</span> <span class="number">4D</span>  <span class="number">6F</span> <span class="number">64</span> <span class="number">65</span> 3A <span class="number">20</span> 6E <span class="number">61</span> <span class="number">76</span>  .......-Fetch-Mode: nav</span><br><span class="line">......<span class="number">.69</span> <span class="number">67</span> <span class="number">61</span> <span class="number">74</span> <span class="number">65</span> <span class="number">0D</span> 0A <span class="number">53</span>  <span class="number">65</span> <span class="number">63</span> <span class="number">2D</span> <span class="number">46</span> <span class="number">65</span> <span class="number">74</span> <span class="number">63</span> <span class="number">68</span>  .......igate..Sec-Fetch</span><br><span class="line">......<span class="number">.2D</span> <span class="number">55</span> <span class="number">73</span> <span class="number">65</span> <span class="number">72</span> 3A <span class="number">20</span> <span class="number">3F</span>  <span class="number">31</span> <span class="number">0D</span> 0A <span class="number">53</span> <span class="number">65</span> <span class="number">63</span> <span class="number">2D</span> <span class="number">46</span>  .......-User: ?<span class="number">1.</span>.Sec-F</span><br><span class="line">......<span class="number">.65</span> <span class="number">74</span> <span class="number">63</span> <span class="number">68</span> <span class="number">2D</span> <span class="number">44</span> <span class="number">65</span> <span class="number">73</span>  <span class="number">74</span> 3A <span class="number">20</span> <span class="number">64</span> <span class="number">6F</span> <span class="number">63</span> <span class="number">75</span> <span class="number">6D</span>  .......etch-Dest: docum</span><br><span class="line">......<span class="number">.65</span> 6E <span class="number">74</span> <span class="number">0D</span> 0A <span class="number">41</span> <span class="number">63</span> <span class="number">63</span>  <span class="number">65</span> <span class="number">70</span> <span class="number">74</span> <span class="number">2D</span> <span class="number">45</span> 6E <span class="number">63</span> <span class="number">6F</span>  .......ent..Accept-Enco</span><br><span class="line">......<span class="number">.64</span> <span class="number">69</span> 6E <span class="number">67</span> 3A <span class="number">20</span> <span class="number">67</span> 7A  <span class="number">69</span> <span class="number">70</span> 2C <span class="number">20</span> <span class="number">64</span> <span class="number">65</span> <span class="number">66</span> 6C  .......ding: gzip, defl</span><br><span class="line">......<span class="number">.61</span> <span class="number">74</span> <span class="number">65</span> 2C <span class="number">20</span> <span class="number">62</span> <span class="number">72</span> <span class="number">0D</span>  0A <span class="number">41</span> <span class="number">63</span> <span class="number">63</span> <span class="number">65</span> <span class="number">70</span> <span class="number">74</span> <span class="number">2D</span>  .......ate, br..Accept-</span><br><span class="line">.......4C <span class="number">61</span> 6E <span class="number">67</span> <span class="number">75</span> <span class="number">61</span> <span class="number">67</span> <span class="number">65</span>  3A <span class="number">20</span> <span class="number">65</span> 6E <span class="number">2D</span> <span class="number">55</span> <span class="number">53</span> 2C  .......Language: en-US,</span><br><span class="line">......<span class="number">.65</span> 6E 3B <span class="number">71</span> <span class="number">3D</span> <span class="number">30</span> 2E <span class="number">39</span>  2C 7A <span class="number">68</span> <span class="number">2D</span> <span class="number">43</span> 4E 3B <span class="number">71</span>  .......en;q=<span class="number">0.9</span>,zh-CN;q</span><br><span class="line">......<span class="number">.3D</span> <span class="number">30</span> 2E <span class="number">38</span> 2C 7A <span class="number">68</span> 3B  <span class="number">71</span> <span class="number">3D</span> <span class="number">30</span> 2E <span class="number">37</span> <span class="number">0D</span> 0A <span class="number">43</span>  .......=<span class="number">0.8</span>,zh;q=<span class="number">0.7</span>..C</span><br><span class="line">......<span class="number">.6F</span> <span class="number">6F</span> 6B <span class="number">69</span> <span class="number">65</span> 3A <span class="number">20</span> <span class="number">49</span>  <span class="number">64</span> <span class="number">65</span> <span class="number">61</span> <span class="number">2D</span> <span class="number">38</span> <span class="number">32</span> <span class="number">39</span> <span class="number">36</span>  .......ookie: Idea-<span class="number">8296</span></span><br><span class="line">......<span class="number">.65</span> <span class="number">62</span> <span class="number">33</span> <span class="number">31</span> <span class="number">3D</span> <span class="number">31</span> <span class="number">36</span> <span class="number">63</span>  <span class="number">35</span> <span class="number">64</span> <span class="number">63</span> <span class="number">30</span> <span class="number">37</span> <span class="number">2D</span> <span class="number">36</span> <span class="number">31</span>  .......eb31=16c5dc07-<span class="number">61</span></span><br><span class="line">......<span class="number">.35</span> <span class="number">35</span> <span class="number">2D</span> <span class="number">34</span> <span class="number">31</span> <span class="number">33</span> <span class="number">64</span> <span class="number">2D</span>  <span class="number">62</span> <span class="number">33</span> <span class="number">30</span> <span class="number">38</span> <span class="number">2D</span> <span class="number">39</span> <span class="number">30</span> <span class="number">66</span>  ......<span class="number">.55</span>-<span class="number">413d</span>-b308-<span class="number">90f</span></span><br><span class="line">......<span class="number">.35</span> <span class="number">63</span> <span class="number">38</span> <span class="number">66</span> <span class="number">62</span> <span class="number">35</span> <span class="number">35</span> <span class="number">66</span>  <span class="number">65</span> <span class="number">0D</span> 0A <span class="number">0D</span> 0A   .......5c8fb55fe....</span><br><span class="line"></span><br><span class="line">è¯»å–åˆ°çš„å­—èŠ‚æ•°æ˜¯: <span class="number">765</span></span><br><span class="line">GET / HTTP/<span class="number">1.1</span></span><br><span class="line">Host: localhost:<span class="number">8080</span></span><br><span class="line">Connection: keep-alive</span><br><span class="line">Cache-Control: max-age=<span class="number">0</span></span><br><span class="line">sec-ch-ua: <span class="string">&quot;Google Chrome&quot;</span>;v=<span class="string">&quot;113&quot;</span>, <span class="string">&quot;Chromium&quot;</span>;v=<span class="string">&quot;113&quot;</span>, <span class="string">&quot;Not-A.Brand&quot;</span>;v=<span class="string">&quot;24&quot;</span></span><br><span class="line">sec-ch-ua-mobile: ?<span class="number">0</span></span><br><span class="line">sec-ch-ua-platform: <span class="string">&quot;Windows&quot;</span></span><br><span class="line">Upgrade-Insecure-Requests: <span class="number">1</span></span><br><span class="line">User-Agent: Mozilla/<span class="number">5.0</span> (Windows NT <span class="number">10.0</span>; Win64; x64) AppleWebKit/<span class="number">537.36</span> (KHTML, like Gecko) Chrome/<span class="number">113.0</span><span class="number">.0</span><span class="number">.0</span> Safari/<span class="number">537.36</span></span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=<span class="number">0.9</span>,image/avif,image/webp,image/apng,*`/`*;q=<span class="number">0.8</span>,application/signed-exchange;v=b3;q=<span class="number">0.7</span></span><br><span class="line">Sec-Fetch-Site: none</span><br><span class="line">Sec-Fetch-Mode: navigate</span><br><span class="line">Sec-Fetch-User: ?<span class="number">1</span></span><br><span class="line">Sec-Fetch-Dest: document</span><br><span class="line">Accept-Encoding: gzip, deflate, br</span><br><span class="line">Accept-Language: en-US,en;q=<span class="number">0.9</span>,zh-CN;q=<span class="number">0.8</span>,zh;q=<span class="number">0.7</span></span><br><span class="line">Cookie: Idea-8296eb31=16c5dc07-<span class="number">6155</span>-<span class="number">413d</span>-b308-90f5c8fb55fe</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">......<span class="number">.47</span> <span class="number">45</span> <span class="number">54</span> <span class="number">20</span> <span class="number">2F</span> <span class="number">66</span> <span class="number">61</span> <span class="number">76</span>  <span class="number">69</span> <span class="number">63</span> <span class="number">6F</span> 6E 2E <span class="number">69</span> <span class="number">63</span> <span class="number">6F</span>  .......GET /favicon.ico</span><br><span class="line">......<span class="number">.20</span> <span class="number">48</span> <span class="number">54</span> <span class="number">54</span> <span class="number">50</span> <span class="number">2F</span> <span class="number">31</span> 2E  <span class="number">31</span> <span class="number">0D</span> 0A <span class="number">48</span> <span class="number">6F</span> <span class="number">73</span> <span class="number">74</span> 3A  ....... HTTP/<span class="number">1.1</span>..Host:</span><br><span class="line">......<span class="number">.20</span> 6C <span class="number">6F</span> <span class="number">63</span> <span class="number">61</span> 6C <span class="number">68</span> <span class="number">6F</span>  <span class="number">73</span> <span class="number">74</span> 3A <span class="number">38</span> <span class="number">30</span> <span class="number">38</span> <span class="number">30</span> <span class="number">0D</span>  ....... localhost:<span class="number">8080.</span></span><br><span class="line">.......0A <span class="number">43</span> <span class="number">6F</span> 6E 6E <span class="number">65</span> <span class="number">63</span> <span class="number">74</span>  <span class="number">69</span> <span class="number">6F</span> 6E 3A <span class="number">20</span> 6B <span class="number">65</span> <span class="number">65</span>  ........Connection: kee</span><br><span class="line">......<span class="number">.70</span> <span class="number">2D</span> <span class="number">61</span> 6C <span class="number">69</span> <span class="number">76</span> <span class="number">65</span> <span class="number">0D</span>  0A <span class="number">73</span> <span class="number">65</span> <span class="number">63</span> <span class="number">2D</span> <span class="number">63</span> <span class="number">68</span> <span class="number">2D</span>  .......p-alive..sec-ch-</span><br><span class="line">......<span class="number">.75</span> <span class="number">61</span> 3A <span class="number">20</span> <span class="number">22</span> <span class="number">47</span> <span class="number">6F</span> <span class="number">6F</span>  <span class="number">67</span> 6C <span class="number">65</span> <span class="number">20</span> <span class="number">43</span> <span class="number">68</span> <span class="number">72</span> <span class="number">6F</span>  .......ua: <span class="string">&quot;Google Chro</span></span><br><span class="line"><span class="string">.......6D 65 22 3B 76 3D 22 31  31 33 22 2C 20 22 43 68  .......me&quot;</span>;v=<span class="string">&quot;113&quot;</span>, <span class="string">&quot;Ch</span></span><br><span class="line"><span class="string">.......72 6F 6D 69 75 6D 22 3B  76 3D 22 31 31 33 22 2C  .......romium&quot;</span>;v=<span class="string">&quot;113&quot;</span>,</span><br><span class="line">......<span class="number">.20</span> <span class="number">22</span> 4E <span class="number">6F</span> <span class="number">74</span> <span class="number">2D</span> <span class="number">41</span> 2E  <span class="number">42</span> <span class="number">72</span> <span class="number">61</span> 6E <span class="number">64</span> <span class="number">22</span> 3B <span class="number">76</span>  ....... <span class="string">&quot;Not-A.Brand&quot;</span>;v</span><br><span class="line">......<span class="number">.3D</span> <span class="number">22</span> <span class="number">32</span> <span class="number">34</span> <span class="number">22</span> <span class="number">0D</span> 0A <span class="number">73</span>  <span class="number">65</span> <span class="number">63</span> <span class="number">2D</span> <span class="number">63</span> <span class="number">68</span> <span class="number">2D</span> <span class="number">75</span> <span class="number">61</span>  .......=<span class="string">&quot;24&quot;</span>..sec-ch-ua</span><br><span class="line">......<span class="number">.2D</span> <span class="number">6D</span> <span class="number">6F</span> <span class="number">62</span> <span class="number">69</span> 6C <span class="number">65</span> 3A  <span class="number">20</span> <span class="number">3F</span> <span class="number">30</span> <span class="number">0D</span> 0A <span class="number">55</span> <span class="number">73</span> <span class="number">65</span>  .......-mobile: ?<span class="number">0.</span>.Use</span><br><span class="line">......<span class="number">.72</span> <span class="number">2D</span> <span class="number">41</span> <span class="number">67</span> <span class="number">65</span> 6E <span class="number">74</span> 3A  <span class="number">20</span> <span class="number">4D</span> <span class="number">6F</span> 7A <span class="number">69</span> 6C 6C <span class="number">61</span>  .......r-Agent: Mozilla</span><br><span class="line">......<span class="number">.2F</span> <span class="number">35</span> 2E <span class="number">30</span> <span class="number">20</span> <span class="number">28</span> <span class="number">57</span> <span class="number">69</span>  6E <span class="number">64</span> <span class="number">6F</span> <span class="number">77</span> <span class="number">73</span> <span class="number">20</span> 4E <span class="number">54</span>  ......./<span class="number">5.0</span> (Windows NT</span><br><span class="line">......<span class="number">.20</span> <span class="number">31</span> <span class="number">30</span> 2E <span class="number">30</span> 3B <span class="number">20</span> <span class="number">57</span>  <span class="number">69</span> 6E <span class="number">36</span> <span class="number">34</span> 3B <span class="number">20</span> <span class="number">78</span> <span class="number">36</span>  ....... <span class="number">10.0</span>; Win64; x6</span><br><span class="line">......<span class="number">.34</span> <span class="number">29</span> <span class="number">20</span> <span class="number">41</span> <span class="number">70</span> <span class="number">70</span> 6C <span class="number">65</span>  <span class="number">57</span> <span class="number">65</span> <span class="number">62</span> 4B <span class="number">69</span> <span class="number">74</span> <span class="number">2F</span> <span class="number">35</span>  ......<span class="number">.4</span>) AppleWebKit/<span class="number">5</span></span><br><span class="line">......<span class="number">.33</span> <span class="number">37</span> 2E <span class="number">33</span> <span class="number">36</span> <span class="number">20</span> <span class="number">28</span> 4B  <span class="number">48</span> <span class="number">54</span> <span class="number">4D</span> 4C 2C <span class="number">20</span> 6C <span class="number">69</span>  ......<span class="number">.37</span><span class="number">.36</span> (KHTML, li</span><br><span class="line">.......6B <span class="number">65</span> <span class="number">20</span> <span class="number">47</span> <span class="number">65</span> <span class="number">63</span> 6B <span class="number">6F</span>  <span class="number">29</span> <span class="number">20</span> <span class="number">43</span> <span class="number">68</span> <span class="number">72</span> <span class="number">6F</span> <span class="number">6D</span> <span class="number">65</span>  .......ke Gecko) Chrome</span><br><span class="line">......<span class="number">.2F</span> <span class="number">31</span> <span class="number">31</span> <span class="number">33</span> 2E <span class="number">30</span> 2E <span class="number">30</span>  2E <span class="number">30</span> <span class="number">20</span> <span class="number">53</span> <span class="number">61</span> <span class="number">66</span> <span class="number">61</span> <span class="number">72</span>  ......./<span class="number">113.0</span><span class="number">.0</span><span class="number">.0</span> Safar</span><br><span class="line">......<span class="number">.69</span> <span class="number">2F</span> <span class="number">35</span> <span class="number">33</span> <span class="number">37</span> 2E <span class="number">33</span> <span class="number">36</span>  <span class="number">0D</span> 0A <span class="number">73</span> <span class="number">65</span> <span class="number">63</span> <span class="number">2D</span> <span class="number">63</span> <span class="number">68</span>  .......i/<span class="number">537.36</span>..sec-ch</span><br><span class="line">......<span class="number">.2D</span> <span class="number">75</span> <span class="number">61</span> <span class="number">2D</span> <span class="number">70</span> 6C <span class="number">61</span> <span class="number">74</span>  <span class="number">66</span> <span class="number">6F</span> <span class="number">72</span> <span class="number">6D</span> 3A <span class="number">20</span> <span class="number">22</span> <span class="number">57</span>  .......-ua-platform: <span class="string">&quot;W</span></span><br><span class="line"><span class="string">.......69 6E 64 6F 77 73 22 0D  0A 41 63 63 65 70 74 3A  .......indows&quot;</span>..Accept:</span><br><span class="line">......<span class="number">.20</span> <span class="number">69</span> <span class="number">6D</span> <span class="number">61</span> <span class="number">67</span> <span class="number">65</span> <span class="number">2F</span> <span class="number">61</span>  <span class="number">76</span> <span class="number">69</span> <span class="number">66</span> 2C <span class="number">69</span> <span class="number">6D</span> <span class="number">61</span> <span class="number">67</span>  ....... image/avif,imag</span><br><span class="line">......<span class="number">.65</span> <span class="number">2F</span> <span class="number">77</span> <span class="number">65</span> <span class="number">62</span> <span class="number">70</span> 2C <span class="number">69</span>  <span class="number">6D</span> <span class="number">61</span> <span class="number">67</span> <span class="number">65</span> <span class="number">2F</span> <span class="number">61</span> <span class="number">70</span> 6E  .......e/webp,image/apn</span><br><span class="line">......<span class="number">.67</span> 2C <span class="number">69</span> <span class="number">6D</span> <span class="number">61</span> <span class="number">67</span> <span class="number">65</span> <span class="number">2F</span>  <span class="number">73</span> <span class="number">76</span> <span class="number">67</span> 2B <span class="number">78</span> <span class="number">6D</span> 6C 2C  .......g,image/svg+xml,</span><br><span class="line">......<span class="number">.69</span> <span class="number">6D</span> <span class="number">61</span> <span class="number">67</span> <span class="number">65</span> <span class="number">2F</span> 2A 2C  2A <span class="number">2F</span> 2A 3B <span class="number">71</span> <span class="number">3D</span> <span class="number">30</span> 2E  .......image<span class="comment">/*,*/</span>*;q=<span class="number">0.</span></span><br><span class="line">......<span class="number">.38</span> <span class="number">0D</span> 0A <span class="number">53</span> <span class="number">65</span> <span class="number">63</span> <span class="number">2D</span> <span class="number">46</span>  <span class="number">65</span> <span class="number">74</span> <span class="number">63</span> <span class="number">68</span> <span class="number">2D</span> <span class="number">53</span> <span class="number">69</span> <span class="number">74</span>  ......<span class="number">.8</span>..Sec-Fetch-Sit</span><br><span class="line">......<span class="number">.65</span> 3A <span class="number">20</span> <span class="number">73</span> <span class="number">61</span> <span class="number">6D</span> <span class="number">65</span> <span class="number">2D</span>  <span class="number">6F</span> <span class="number">72</span> <span class="number">69</span> <span class="number">67</span> <span class="number">69</span> 6E <span class="number">0D</span> 0A  .......e: same-origin..</span><br><span class="line">......<span class="number">.53</span> <span class="number">65</span> <span class="number">63</span> <span class="number">2D</span> <span class="number">46</span> <span class="number">65</span> <span class="number">74</span> <span class="number">63</span>  <span class="number">68</span> <span class="number">2D</span> <span class="number">4D</span> <span class="number">6F</span> <span class="number">64</span> <span class="number">65</span> 3A <span class="number">20</span>  .......Sec-Fetch-Mode: </span><br><span class="line">.......6E <span class="number">6F</span> <span class="number">2D</span> <span class="number">63</span> <span class="number">6F</span> <span class="number">72</span> <span class="number">73</span> <span class="number">0D</span>  0A <span class="number">53</span> <span class="number">65</span> <span class="number">63</span> <span class="number">2D</span> <span class="number">46</span> <span class="number">65</span> <span class="number">74</span>  .......no-cors..Sec-Fet</span><br><span class="line">......<span class="number">.63</span> <span class="number">68</span> <span class="number">2D</span> <span class="number">44</span> <span class="number">65</span> <span class="number">73</span> <span class="number">74</span> 3A  <span class="number">20</span> <span class="number">69</span> <span class="number">6D</span> <span class="number">61</span> <span class="number">67</span> <span class="number">65</span> <span class="number">0D</span> 0A  .......ch-Dest: image..</span><br><span class="line">......<span class="number">.52</span> <span class="number">65</span> <span class="number">66</span> <span class="number">65</span> <span class="number">72</span> <span class="number">65</span> <span class="number">72</span> 3A  <span class="number">20</span> <span class="number">68</span> <span class="number">74</span> <span class="number">74</span> <span class="number">70</span> 3A <span class="number">2F</span> <span class="number">2F</span>  .......Referer: http:<span class="comment">//</span></span><br><span class="line">.......6C <span class="number">6F</span> <span class="number">63</span> <span class="number">61</span> 6C <span class="number">68</span> <span class="number">6F</span> <span class="number">73</span>  <span class="number">74</span> 3A <span class="number">38</span> <span class="number">30</span> <span class="number">38</span> <span class="number">30</span> <span class="number">2F</span> <span class="number">0D</span>  .......localhost:<span class="number">8080</span>/.</span><br><span class="line">.......0A <span class="number">41</span> <span class="number">63</span> <span class="number">63</span> <span class="number">65</span> <span class="number">70</span> <span class="number">74</span> <span class="number">2D</span>  <span class="number">45</span> 6E <span class="number">63</span> <span class="number">6F</span> <span class="number">64</span> <span class="number">69</span> 6E <span class="number">67</span>  ........Accept-Encoding</span><br><span class="line">.......3A <span class="number">20</span> <span class="number">67</span> 7A <span class="number">69</span> <span class="number">70</span> 2C <span class="number">20</span>  <span class="number">64</span> <span class="number">65</span> <span class="number">66</span> 6C <span class="number">61</span> <span class="number">74</span> <span class="number">65</span> 2C  .......: gzip, deflate,</span><br><span class="line">......<span class="number">.20</span> <span class="number">62</span> <span class="number">72</span> <span class="number">0D</span> 0A <span class="number">41</span> <span class="number">63</span> <span class="number">63</span>  <span class="number">65</span> <span class="number">70</span> <span class="number">74</span> <span class="number">2D</span> 4C <span class="number">61</span> 6E <span class="number">67</span>  ....... br..Accept-Lang</span><br><span class="line">......<span class="number">.75</span> <span class="number">61</span> <span class="number">67</span> <span class="number">65</span> 3A <span class="number">20</span> <span class="number">65</span> 6E  <span class="number">2D</span> <span class="number">55</span> <span class="number">53</span> 2C <span class="number">65</span> 6E 3B <span class="number">71</span>  .......uage: en-US,en;q</span><br><span class="line">......<span class="number">.3D</span> <span class="number">30</span> 2E <span class="number">39</span> 2C 7A <span class="number">68</span> <span class="number">2D</span>  <span class="number">43</span> 4E 3B <span class="number">71</span> <span class="number">3D</span> <span class="number">30</span> 2E <span class="number">38</span>  .......=<span class="number">0.9</span>,zh-CN;q=<span class="number">0.8</span></span><br><span class="line">.......2C 7A <span class="number">68</span> 3B <span class="number">71</span> <span class="number">3D</span> <span class="number">30</span> 2E  <span class="number">37</span> <span class="number">0D</span> 0A <span class="number">43</span> <span class="number">6F</span> <span class="number">6F</span> 6B <span class="number">69</span>  .......,zh;q=<span class="number">0.7</span>..Cooki</span><br><span class="line">......<span class="number">.65</span> 3A <span class="number">20</span> <span class="number">49</span> <span class="number">64</span> <span class="number">65</span> <span class="number">61</span> <span class="number">2D</span>  <span class="number">38</span> <span class="number">32</span> <span class="number">39</span> <span class="number">36</span> <span class="number">65</span> <span class="number">62</span> <span class="number">33</span> <span class="number">31</span>  .......e: Idea-8296eb31</span><br><span class="line">......<span class="number">.3D</span> <span class="number">31</span> <span class="number">36</span> <span class="number">63</span> <span class="number">35</span> <span class="number">64</span> <span class="number">63</span> <span class="number">30</span>  <span class="number">37</span> <span class="number">2D</span> <span class="number">36</span> <span class="number">31</span> <span class="number">35</span> <span class="number">35</span> <span class="number">2D</span> <span class="number">34</span>  .......=16c5dc07-<span class="number">6155</span>-<span class="number">4</span></span><br><span class="line">......<span class="number">.31</span> <span class="number">33</span> <span class="number">64</span> <span class="number">2D</span> <span class="number">62</span> <span class="number">33</span> <span class="number">30</span> <span class="number">38</span>  <span class="number">2D</span> <span class="number">39</span> <span class="number">30</span> <span class="number">66</span> <span class="number">35</span> <span class="number">63</span> <span class="number">38</span> <span class="number">66</span>  ......<span class="number">.13d</span>-b308-90f5c8f</span><br><span class="line">......<span class="number">.62</span> <span class="number">35</span> <span class="number">35</span> <span class="number">66</span> <span class="number">65</span> <span class="number">0D</span> 0A <span class="number">0D</span>  0A   .......b55fe....</span><br><span class="line"></span><br><span class="line">è¯»å–åˆ°çš„å­—èŠ‚æ•°æ˜¯: <span class="number">665</span></span><br><span class="line">GET /favicon.ico HTTP/<span class="number">1.1</span></span><br><span class="line">Host: localhost:<span class="number">8080</span></span><br><span class="line">Connection: keep-alive</span><br><span class="line">sec-ch-ua: <span class="string">&quot;Google Chrome&quot;</span>;v=<span class="string">&quot;113&quot;</span>, <span class="string">&quot;Chromium&quot;</span>;v=<span class="string">&quot;113&quot;</span>, <span class="string">&quot;Not-A.Brand&quot;</span>;v=<span class="string">&quot;24&quot;</span></span><br><span class="line">sec-ch-ua-mobile: ?<span class="number">0</span></span><br><span class="line">User-Agent: Mozilla/<span class="number">5.0</span> (Windows NT <span class="number">10.0</span>; Win64; x64) AppleWebKit/<span class="number">537.36</span> (KHTML, like Gecko) Chrome/<span class="number">113.0</span><span class="number">.0</span><span class="number">.0</span> Safari/<span class="number">537.36</span></span><br><span class="line">sec-ch-ua-platform: <span class="string">&quot;Windows&quot;</span></span><br><span class="line">Accept: image/avif,image/webp,image/apng,image/svg+xml,image<span class="comment">/*,*/</span>*;q=<span class="number">0.8</span></span><br><span class="line">Sec-Fetch-Site: same-origin</span><br><span class="line">Sec-Fetch-Mode: no-cors</span><br><span class="line">Sec-Fetch-Dest: image</span><br><span class="line">Referer: http:<span class="comment">//localhost:8080/</span></span><br><span class="line">Accept-Encoding: gzip, deflate, br</span><br><span class="line">Accept-Language: en-US,en;q=<span class="number">0.9</span>,zh-CN;q=<span class="number">0.8</span>,zh;q=<span class="number">0.7</span></span><br><span class="line">Cookie: Idea-8296eb31=16c5dc07-<span class="number">6155</span>-<span class="number">413d</span>-b308-90f5c8fb55fe</span><br></pre></td></tr></table></figure>
<h2 id="å›æ˜¾ä¸»é¡µå’Œfavicon"><a class="markdownIt-Anchor" href="#å›æ˜¾ä¸»é¡µå’Œfavicon">#</a> å›æ˜¾ä¸»é¡µå’Œ faviconğŸ¨</h2>
<p>ä¸»é¡µåœ¨é¡¹ç›®ç»“æ„ä¸­åˆ›å»ºä¸€ä¸ª index.html æ–‡ä»¶å’Œ icon å›¾æ ‡æ–‡ä»¶ï¼Œåœ¨ç¨‹åºä¸­è¯»å–å¹¶è§£æ</p>
<p><font style="color:red">indexï¼Œfaviconï¼Œlong.gif æ˜¯åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ä¸æ˜¯åœ¨ src ä¸‹</font>.</p>
<p><img data-src="./images/image-20230519171735050.png" alt="image-20230519171735050"></p>
<p>åˆ›å»ºå°è£…è¯·æ±‚çš„ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æŠŠè¯·æ±‚çš„å­—ç¬¦ä¸²å°è£…æˆè¯·æ±‚çš„ç±»</span></span><br><span class="line"><span class="comment"> * è¯·æ±‚çš„ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Request</span> &#123;</span><br><span class="line"><span class="comment">//    è¯·æ±‚æ–¹å¼</span></span><br><span class="line">    <span class="keyword">private</span> String method;</span><br><span class="line"><span class="comment">//    è¯·æ±‚çš„url</span></span><br><span class="line">    <span class="keyword">private</span> String uri;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getMethod</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> method;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMethod</span><span class="params">(String method)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.method = method;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUri</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> uri;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUri</span><span class="params">(String uri)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.uri = uri;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>HttpServer ç±»ä¸­å®šä¹‰è§£æè¯·æ±‚æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * è§£æè¯·æ±‚</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> msg</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> Request <span class="title function_">parseRequest</span><span class="params">(String msg)</span>&#123;</span><br><span class="line">   <span class="type">Request</span> <span class="variable">request</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Request</span>();</span><br><span class="line">   String[] split = msg.split(<span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line">   <span class="comment">//è§£æç¬¬ä¸€è¡Œ</span></span><br><span class="line">   <span class="comment">//GET /favicon.ico HTTP/1.1</span></span><br><span class="line">   String[] split0 = split[<span class="number">0</span>].split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">   request.setMethod(split0[<span class="number">0</span>]);<span class="comment">//method: GET</span></span><br><span class="line">   request.setUri(split0[<span class="number">1</span>]);<span class="comment">//uri: / æˆ–è€… /favicon.ico</span></span><br><span class="line">   <span class="keyword">return</span> request;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>main</strong>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String... args)</span> &#123;</span><br><span class="line">   <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">8080</span>);</span><br><span class="line">      System.out.println(<span class="string">&quot;æœåŠ¡å™¨å·²ç»å¯åŠ¨ï¼Œç›‘å¬ç«¯å£ä¸ºï¼š8080 ...&quot;</span>);</span><br><span class="line">      <span class="type">ExecutorService</span> <span class="variable">executorService</span> <span class="operator">=</span> Executors.newCachedThreadPool();</span><br><span class="line">      <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">         <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line">         executorService.execute(() -&gt; &#123;</span><br><span class="line">            <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">            <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">               System.out.println(socket);</span><br><span class="line">               is = socket.getInputStream();</span><br><span class="line">               os = socket.getOutputStream();</span><br><span class="line">               <span class="type">byte</span>[] by = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span> * <span class="number">1024</span>];</span><br><span class="line">               <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> is.read(by);</span><br><span class="line">               <span class="keyword">if</span> (len != -<span class="number">1</span>) &#123;</span><br><span class="line">                  <span class="type">String</span> <span class="variable">hexMsg</span> <span class="operator">=</span> bytesArr2HexStr(by,len);</span><br><span class="line">                  System.out.println(hexMsg);</span><br><span class="line">                  System.out.println(<span class="string">&quot;è¯»å–åˆ°çš„å­—èŠ‚æ•°æ˜¯: &quot;</span> + len);</span><br><span class="line">                  <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(by, <span class="number">0</span>, len);</span><br><span class="line">                  System.out.println(msg);</span><br><span class="line">                  <span class="type">Request</span> <span class="variable">request</span> <span class="operator">=</span> parseRequest(msg);</span><br><span class="line">                  <span class="comment">//å“åº”ç»™æµè§ˆå™¨éœ€è¦ä½¿ç”¨Httpåè®®</span></span><br><span class="line">                  <span class="type">String</span> <span class="variable">body</span> <span class="operator">=</span> <span class="string">&quot;&lt;h1&gt;&quot;</span> + count + <span class="string">&quot;&lt;/h1&gt;&quot;</span>+<span class="string">&quot;\r\n&quot;</span>+<span class="string">&quot;text/plain : plain plain text does not parse html tags&quot;</span>;</span><br><span class="line">                  <span class="comment">//httpåè®®/ç‰ˆæœ¬ çŠ¶æ€ç   çŠ¶æ€ åé¢çš„æ ¼å¼å¿…é¡»æ˜¯\r\nä¸èƒ½ä¹±å†™å¦åˆ™æŠ¥é”™</span></span><br><span class="line">                  <span class="type">String</span> <span class="variable">response</span> <span class="operator">=</span> <span class="string">&quot;HTTP/1.1 200 OK\r\n&quot;</span> +<span class="comment">//HTTP1.1åè®® çŠ¶æ€ç :200 æ­£ç¡® å›è½¦æ¢è¡Œ</span></span><br><span class="line">                     <span class="comment">//å‘Šè¯‰æµè§ˆå™¨æ–‡æœ¬çš„å†…å®¹å¤§å°</span></span><br><span class="line">                     <span class="string">&quot;Content-Length: &quot;</span> + body.getBytes().length + <span class="string">&quot;\r\n&quot;</span> +</span><br><span class="line">                     <span class="comment">//å‘Šè¯‰æµè§ˆå™¨æ–‡æœ¬ç±»å‹: æ™®é€šæ–‡æœ¬/plain ä¸è§£æhtmlæ ‡ç­¾ä»£ç  è®¾ç½®å­—ç¬¦é›†</span></span><br><span class="line">                     <span class="string">&quot;Content-Type: text/plain; charset-utf-8\r\n&quot;</span> +<span class="comment">//å†…å®¹ç±»å‹æ˜¯æ™®é€šæ–‡æœ¬ å›è½¦æ¢è¡Œ å­—ç¬¦é›†</span></span><br><span class="line">                     <span class="comment">//å›ºå®šå†™æ³•,å¿…é¡»è¦å†™çš„ç©ºæ ¼æ¢è¡Œ(å¿…é¡»è¦å†™ä¸€ä¸ªç©ºè¡Œ)</span></span><br><span class="line">                     <span class="string">&quot;\r\n&quot;</span> +<span class="comment">//å›è½¦æ¢è¡Œ,å¦åˆ™åé¢çš„æ•°æ®æ¥æ”¶ä¸åˆ°</span></span><br><span class="line">                     <span class="comment">//bodyå“åº”æµè§ˆå™¨å†…å®¹</span></span><br><span class="line">                     <span class="comment">//è¦è¿”å›ç»™æµè§ˆå™¨çš„æ–‡æœ¬æ­£æ–‡(å†…å®¹)</span></span><br><span class="line">                     body + <span class="string">&quot;\r\n&quot;</span>;<span class="comment">//å›è½¦æ¢è¡Œ,å¦åˆ™åé¢çš„æ•°æ®æ¥æ”¶ä¸åˆ°</span></span><br><span class="line">                  <span class="type">String</span> <span class="variable">file</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">                  <span class="comment">//åˆ¤æ–­1ï¼šè¯»å–index.htmlæ–‡ä»¶</span></span><br><span class="line">                  <span class="comment">//åˆ¤æ–­2ï¼šè¯»å–/favicon.iconå›¾æ ‡æ–‡ä»¶</span></span><br><span class="line">                  <span class="comment">//åˆ¤æ–­è¯·æ±‚è·¯å¾„æ˜¯å¦å¸¦æœ‰index.htmlï¼Œæœ‰åˆ™æ‰§è¡Œ</span></span><br><span class="line">                  <span class="comment">//è¯·æ±‚å¹¶ä¸æ˜¯ä¸€æ¬¡å…¨éƒ¨è¯·æ±‚èµ„æºè€Œæ˜¯ä¸€ä¸ªä¸€ä¸ªè¯·æ±‚æ‰€ä»¥ä½¿ç”¨if else ifå…ˆåˆ¤æ–­index.htmlç„¶åfavicon.iconå†ç„¶ålong.gif(å›¾ç‰‡)</span></span><br><span class="line">                  <span class="keyword">if</span>(<span class="comment">/*request.getUri().equals(&quot;/&quot;) || */</span>request.getUri().equals(<span class="string">&quot;/index.html&quot;</span>))&#123;</span><br><span class="line">                     <span class="comment">//è·å–è¯·æ±‚çš„uriå¹¶æˆªå–ä¸¢å¼ƒå‰é¢çš„ / </span></span><br><span class="line">                     file = request.getUri().substring(<span class="number">1</span>);</span><br><span class="line">                    <span class="comment">/**</span></span><br><span class="line"><span class="comment">                     * å¦‚æœè¯»å–indexæ–‡ä»¶åˆ™é‡æ–°èµ‹å€¼responseå˜é‡å°†é‡Œé¢çš„bodyå†…å®¹å»æ‰è¿˜æœ‰è¯»å–å¤§å°ä¹Ÿæ²¡å¿…é¡»è®¾ç½®äº†</span></span><br><span class="line"><span class="comment">                     * å¿…é¡»è®¾ç½®HTTPåè®®ä¿¡æ¯</span></span><br><span class="line"><span class="comment">                     */</span></span><br><span class="line">                     response = <span class="string">&quot;HTTP/1.1 200 OK\r\n&quot;</span> +<span class="comment">//HTTP1.1åè®® çŠ¶æ€ç :200 æ­£ç¡® å›è½¦æ¢è¡Œ</span></span><br><span class="line">                        <span class="comment">//å‘Šè¯‰æµè§ˆå™¨æ–‡æœ¬ç±»å‹: æ–‡æœ¬/html è§£æhtmlæ ‡ç­¾ä»£ç </span></span><br><span class="line">                        <span class="string">&quot;Content-Type: text/html; charset-utf-8\r\n&quot;</span> +<span class="comment">//å†…å®¹ç±»å‹æ˜¯æ™®é€šæ–‡æœ¬ å›è½¦æ¢è¡Œ å­—ç¬¦é›†</span></span><br><span class="line">                        <span class="comment">//å›ºå®šå†™æ³•,å¿…é¡»è¦å†™çš„ç©ºæ ¼æ¢è¡Œ(å¿…é¡»è¦å†™ä¸€ä¸ªç©ºè¡Œ)</span></span><br><span class="line">                        <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">                     <span class="comment">//åˆ¤æ–­æ˜¯å¦è¯·æ±‚äº†favicon.icoï¼Œè¯·æ±‚åˆ™æ‰§è¡Œ</span></span><br><span class="line">                  &#125;<span class="keyword">else</span> <span class="keyword">if</span>(request.getUri().equals(<span class="string">&quot;/favicon.ico&quot;</span>))&#123;</span><br><span class="line">                     <span class="comment">//è·å–è¯·æ±‚çš„uriå¹¶æˆªå–ä¸¢å¼ƒå‰é¢çš„ / </span></span><br><span class="line">                     file = request.getUri().substring(<span class="number">1</span>);</span><br><span class="line">                    <span class="comment">/**</span></span><br><span class="line"><span class="comment">                     * å¦‚æœè¯»å–indexæ–‡ä»¶åˆ™é‡æ–°èµ‹å€¼responseå˜é‡å°†é‡Œé¢çš„bodyå†…å®¹å»æ‰è¿˜æœ‰è¯»å–å¤§å°ä¹Ÿæ²¡å¿…é¡»è®¾ç½®äº†</span></span><br><span class="line"><span class="comment">                     * å¿…é¡»è®¾ç½®HTTPåè®®ä¿¡æ¯</span></span><br><span class="line"><span class="comment">                     */</span></span><br><span class="line">                     response = <span class="string">&quot;HTTP/1.1 200 OK\r\n&quot;</span> +<span class="comment">//HTTP1.1åè®® çŠ¶æ€ç :200 æ­£ç¡® å›è½¦æ¢è¡Œ</span></span><br><span class="line">                        <span class="comment">//å‘Šè¯‰æµè§ˆå™¨æ–‡æœ¬ç±»å‹: å›¾ç‰‡/x-icon è®¾ç½®å­—ç¬¦é›†</span></span><br><span class="line">                        <span class="string">&quot;Content-Type: image/x-icon; charset-utf-8\r\n&quot;</span> +<span class="comment">//å†…å®¹ç±»å‹æ˜¯æ™®é€šæ–‡æœ¬ å›è½¦æ¢è¡Œ å­—ç¬¦é›†</span></span><br><span class="line">                        <span class="comment">//å›ºå®šå†™æ³•,å¿…é¡»è¦å†™çš„ç©ºæ ¼æ¢è¡Œ(å¿…é¡»è¦å†™ä¸€ä¸ªç©ºè¡Œ)</span></span><br><span class="line">                        <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">                  &#125;</span><br><span class="line">                  <span class="comment">//å°†HTTPåè®®ä¿¡æ¯å†™å‡ºåˆ°æµè§ˆå™¨ä¸­(å“åº”å›å»)</span></span><br><span class="line">                  os.write(response.getBytes());</span><br><span class="line">                  <span class="comment">//åˆ¤æ–­å¦‚æœfileä¸ä¸ºç©ºï¼Œé‚£ä¹ˆè¯·æ±‚çš„å°±æ˜¯index.htmlé¡µé¢æˆ–è€…favicon.iconåˆ™æ‰§è¡Œæ–¹æ³•ä½“</span></span><br><span class="line">                  <span class="keyword">if</span>(file != <span class="literal">null</span>)&#123;</span><br><span class="line">                     <span class="comment">//æ–‡ä»¶è¾“å…¥æµè¯»å–æ–‡ä»¶</span></span><br><span class="line">                     <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file);</span><br><span class="line">                     <span class="keyword">while</span>((len = fis.read(by)) != -<span class="number">1</span>)&#123;</span><br><span class="line">                        <span class="comment">//å°†è¯»å–åˆ°çš„é¡µé¢å­—èŠ‚æ•°æ®å†™å‡ºåˆ°æµè§ˆå™¨</span></span><br><span class="line">                        os.write(by,<span class="number">0</span>,len);</span><br><span class="line">                     &#125;</span><br><span class="line">                  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                     <span class="comment">//å°†ä¸Šé¢çš„HTTPåè®®ä¿¡æ¯å’Œå“åº”çš„æ•°æ®å†™å‡ºåˆ°æµè§ˆå™¨ä¸­</span></span><br><span class="line">                     os.write(response.getBytes());</span><br><span class="line">                     count++;</span><br><span class="line">                  &#125;</span><br><span class="line">               &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                  System.out.println(<span class="string">&quot;æ²¡æœ‰è¯»å–åˆ°æ•°æ®&quot;</span>);</span><br><span class="line">               &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">               e.printStackTrace();</span><br><span class="line">            &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">               <span class="keyword">try</span>&#123;</span><br><span class="line">                  <span class="keyword">if</span>(os != <span class="literal">null</span>)&#123;</span><br><span class="line">                     os.flush();<span class="comment">//å°†æ•°æ®åˆ·å‡º</span></span><br><span class="line">                  &#125;</span><br><span class="line">                  <span class="keyword">if</span>(socket != <span class="literal">null</span>)&#123;</span><br><span class="line">                     <span class="comment">//ä¸Šä¸€æ®µå¯¹è¯å·²ç»ç»“æŸè¿›è¡Œä¸‹ä¸€æ®µå¯¹è¯</span></span><br><span class="line">                     socket.shutdownOutput();</span><br><span class="line">                     socket.close();<span class="comment">//å…³é—­å¥—æ¥å­—èµ„æº</span></span><br><span class="line">                  &#125;</span><br><span class="line">               &#125;<span class="keyword">catch</span>(IOException e)&#123;</span><br><span class="line">                  e.printStackTrace();</span><br><span class="line">               &#125;</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">   &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ•ˆæœï¼š</p>
<p><img data-src="./images/test-1684485451217-3.gif" alt="test"></p>
<p><img data-src="./images/image-20230519163754131.png" alt="image-20230519163754131"></p>
<h2 id="ä¸»é¡µä¸­æœ‰imgå›¾ç‰‡æ ‡ç­¾"><a class="markdownIt-Anchor" href="#ä¸»é¡µä¸­æœ‰imgå›¾ç‰‡æ ‡ç­¾">#</a> ä¸»é¡µä¸­æœ‰ img å›¾ç‰‡æ ‡ç­¾ğŸ’</h2>
<p>index.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>ä¸»é¡µ<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;long.gif&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;é¾™çŒ«&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åœ¨ http ä¸­å¹¶ä¸æ˜¯ä¸€æ¬¡æ€§è¯·æ±‚å…¨éƒ¨çš„ html èµ„æºçš„ img ä¼šå‘é€ä¸€æ¬¡è¯·æ¥è·å–å›¾ç‰‡èµ„æºï¼Œfavicon.icon ä¹Ÿä¼šå‘é€ä¸€æ¬¡è¯·æ±‚ã€‚</p>
<p><img data-src="./images/image-20230519164647930.png" alt="image-20230519164647930"></p>
<p><strong>ç¬¬ä¸€æ¬¡è¯·æ±‚</strong>ï¼š/index.html</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.......47 45 54 20 2F 69 6E 64  65 78 2E 68 74 6D 6C 20  .......GET /index.html </span><br><span class="line">è¯»å–åˆ°çš„å­—èŠ‚æ•°æ˜¯: 775</span><br><span class="line">GET /index.html HTTP/1.1</span><br></pre></td></tr></table></figure>
<p><strong>ç¬¬äºŒæ¬¡è¯·æ±‚</strong>ï¼š/img/long.gif</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.......47 45 54 20 2F 6C 6F 6E  67 2E 67 69 66 20 48 54  .......GET /long.gif HT </span><br><span class="line">è¯»å–åˆ°çš„å­—èŠ‚æ•°æ˜¯: 724</span><br><span class="line">GET /long.gif HTTP/1.1</span><br></pre></td></tr></table></figure>
<p><strong>ç¬¬ä¸‰æ¬¡è¯·æ±‚</strong>ï¼š/favicon.ico</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.......47 45 54 20 2F 66 61 76  69 63 6F 6E 2E 69 63 6F  .......GET /favicon.ico</span><br><span class="line">è¯»å–åˆ°çš„å­—èŠ‚æ•°æ˜¯: 675</span><br><span class="line">GET /favicon.ico HTTP/1.1</span><br></pre></td></tr></table></figure>
<p>ç¼–å†™è¯·æ±‚å›¾ç‰‡èµ„æºä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String... args)</span> &#123;</span><br><span class="line">   <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">8080</span>);</span><br><span class="line">      System.out.println(<span class="string">&quot;æœåŠ¡å™¨å·²ç»å¯åŠ¨ï¼Œç›‘å¬ç«¯å£ä¸ºï¼š8080 ...&quot;</span>);</span><br><span class="line">      <span class="type">ExecutorService</span> <span class="variable">executorService</span> <span class="operator">=</span> Executors.newCachedThreadPool();</span><br><span class="line">      <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">         <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line">         executorService.execute(() -&gt; &#123;</span><br><span class="line">            <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">            <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">               System.out.println(socket);</span><br><span class="line">               is = socket.getInputStream();</span><br><span class="line">               os = socket.getOutputStream();</span><br><span class="line">               <span class="type">byte</span>[] by = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span> * <span class="number">1024</span>];</span><br><span class="line">               <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> is.read(by);</span><br><span class="line">               <span class="keyword">if</span> (len != -<span class="number">1</span>) &#123;</span><br><span class="line">                  <span class="type">String</span> <span class="variable">hexMsg</span> <span class="operator">=</span> bytesArr2HexStr(by,len);</span><br><span class="line">                  System.out.println(hexMsg);</span><br><span class="line">                  System.out.println(<span class="string">&quot;è¯»å–åˆ°çš„å­—èŠ‚æ•°æ˜¯: &quot;</span> + len);</span><br><span class="line">                  <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(by, <span class="number">0</span>, len);</span><br><span class="line">                  System.out.println(msg);</span><br><span class="line">                  <span class="type">Request</span> <span class="variable">request</span> <span class="operator">=</span> parseRequest(msg);</span><br><span class="line">                  <span class="comment">//å“åº”ç»™æµè§ˆå™¨éœ€è¦ä½¿ç”¨Httpåè®®</span></span><br><span class="line">                  <span class="type">String</span> <span class="variable">body</span> <span class="operator">=</span> <span class="string">&quot;&lt;h1&gt;&quot;</span> + count + <span class="string">&quot;&lt;/h1&gt;&quot;</span>+<span class="string">&quot;\r\n&quot;</span>+<span class="string">&quot;text/plain : plain plain text does not parse html tags&quot;</span>;</span><br><span class="line">                  <span class="comment">//httpåè®®/ç‰ˆæœ¬ çŠ¶æ€ç   çŠ¶æ€ åé¢çš„æ ¼å¼å¿…é¡»æ˜¯\r\nä¸èƒ½ä¹±å†™å¦åˆ™æŠ¥é”™</span></span><br><span class="line">                  <span class="type">String</span> <span class="variable">response</span> <span class="operator">=</span> <span class="string">&quot;HTTP/1.1 200 OK\r\n&quot;</span> +<span class="comment">//HTTP1.1åè®® çŠ¶æ€ç :200 æ­£ç¡® å›è½¦æ¢è¡Œ</span></span><br><span class="line">                     <span class="comment">//å‘Šè¯‰æµè§ˆå™¨æ–‡æœ¬çš„å†…å®¹å¤§å°</span></span><br><span class="line">                     <span class="string">&quot;Content-Length: &quot;</span> + body.getBytes().length + <span class="string">&quot;\r\n&quot;</span> +</span><br><span class="line">                     <span class="comment">//å‘Šè¯‰æµè§ˆå™¨æ–‡æœ¬ç±»å‹: æ™®é€šæ–‡æœ¬/plain ä¸è§£æä»»ä½•ä»£ç è¯­ä¹‰</span></span><br><span class="line">                     <span class="string">&quot;Content-Type: text/plain; charset-utf-8\r\n&quot;</span> +<span class="comment">//å†…å®¹ç±»å‹æ˜¯æ™®é€šæ–‡æœ¬ å›è½¦æ¢è¡Œ å­—ç¬¦é›†</span></span><br><span class="line">                     <span class="comment">//å›ºå®šå†™æ³•,å¿…é¡»è¦å†™çš„ç©ºæ ¼æ¢è¡Œ(å¿…é¡»è¦å†™ä¸€ä¸ªç©ºè¡Œ)</span></span><br><span class="line">                     <span class="string">&quot;\r\n&quot;</span> +<span class="comment">//å›è½¦æ¢è¡Œ,å¦åˆ™åé¢çš„æ•°æ®æ¥æ”¶ä¸åˆ°</span></span><br><span class="line">                     <span class="comment">//bodyå“åº”æµè§ˆå™¨å†…å®¹</span></span><br><span class="line">                     <span class="comment">//è¦è¿”å›ç»™æµè§ˆå™¨çš„æ–‡æœ¬æ­£æ–‡(å†…å®¹)</span></span><br><span class="line">                     body + <span class="string">&quot;\r\n&quot;</span>;<span class="comment">//å›è½¦æ¢è¡Œ,å¦åˆ™åé¢çš„æ•°æ®æ¥æ”¶ä¸åˆ°</span></span><br><span class="line">                  <span class="type">String</span> <span class="variable">file</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">                  <span class="comment">//åˆ¤æ–­è¯·æ±‚çš„æ˜¯å¦æ˜¯index.htmlé¡µé¢</span></span><br><span class="line">                  <span class="keyword">if</span>(request.getUri().equals(<span class="string">&quot;/index.html&quot;</span>))&#123;</span><br><span class="line">                     <span class="comment">//fileèµ‹å€¼ä¸ºindex.htmlæ–‡ä»¶çš„è·¯å¾„</span></span><br><span class="line">                     <span class="comment">//è·å–è¯·æ±‚çš„uriå¹¶æˆªå–ä¸¢å¼ƒå‰é¢çš„ /</span></span><br><span class="line">                     file = request.getUri().substring(<span class="number">1</span>);</span><br><span class="line">                     <span class="comment">/**</span></span><br><span class="line"><span class="comment">                        * å¦‚æœè¯»å–indexæ–‡ä»¶åˆ™é‡æ–°èµ‹å€¼responseå˜é‡å°†é‡Œé¢çš„bodyå†…å®¹å»æ‰è¿˜æœ‰è¯»å–å¤§å°ä¹Ÿæ²¡å¿…é¡»è®¾ç½®äº†</span></span><br><span class="line"><span class="comment">                        * å¿…é¡»è®¾ç½®HTTPåè®®ä¿¡æ¯</span></span><br><span class="line"><span class="comment">                        */</span></span><br><span class="line">                     response = <span class="string">&quot;HTTP/1.1 200 OK\r\n&quot;</span> +<span class="comment">//HTTP1.1åè®® çŠ¶æ€ç :200 æ­£ç¡® å›è½¦æ¢è¡Œ</span></span><br><span class="line">                        <span class="comment">//å‘Šè¯‰æµè§ˆå™¨æ–‡æœ¬ç±»å‹: æ–‡æœ¬/html htmlé¡µé¢ï¼Œè§£ææ ‡ç­¾ è®¾ç½®å­—ç¬¦é›†</span></span><br><span class="line">                        <span class="string">&quot;Content-Type: text/html; charset-utf-8\r\n&quot;</span> +<span class="comment">//å†…å®¹ç±»å‹æ˜¯æ™®é€šæ–‡æœ¬ å›è½¦æ¢è¡Œ å­—ç¬¦é›†</span></span><br><span class="line">                        <span class="comment">//å›ºå®šå†™æ³•,å¿…é¡»è¦å†™çš„ç©ºæ ¼æ¢è¡Œ(å¿…é¡»è¦å†™ä¸€ä¸ªç©ºè¡Œ)</span></span><br><span class="line">                        <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">                     <span class="comment">//åˆ¤æ–­è¯·æ±‚æ˜¯å¦ä¸ºfavicon.icon</span></span><br><span class="line">                  &#125;<span class="keyword">else</span> <span class="keyword">if</span>(request.getUri().equals(<span class="string">&quot;/favicon.ico&quot;</span>))&#123;</span><br><span class="line">                     <span class="comment">//å°†fileèµ‹å€¼ä¸ºiconçš„å›¾æ ‡è·¯å¾„</span></span><br><span class="line">                     <span class="comment">//è·å–è¯·æ±‚çš„uriå¹¶æˆªå–ä¸¢å¼ƒå‰é¢çš„ /</span></span><br><span class="line">                     file = request.getUri().substring(<span class="number">1</span>);</span><br><span class="line">                     <span class="comment">/**</span></span><br><span class="line"><span class="comment">                       * å¦‚æœè¯»å–indexæ–‡ä»¶åˆ™é‡æ–°èµ‹å€¼responseå˜é‡å°†é‡Œé¢çš„bodyå†…å®¹å»æ‰è¿˜æœ‰è¯»å–å¤§å°ä¹Ÿæ²¡å¿…é¡»è®¾ç½®äº†</span></span><br><span class="line"><span class="comment">                       * å¿…é¡»è®¾ç½®HTTPåè®®ä¿¡æ¯</span></span><br><span class="line"><span class="comment">                       */</span></span><br><span class="line">                     response = <span class="string">&quot;HTTP/1.1 200 OK\r\n&quot;</span> +<span class="comment">//HTTP1.1åè®® çŠ¶æ€ç :200 æ­£ç¡® å›è½¦æ¢è¡Œ</span></span><br><span class="line">                        <span class="comment">//å‘Šè¯‰æµè§ˆå™¨æ–‡æœ¬ç±»å‹: å›¾ç‰‡ç±»å‹/x-icon è®¾ç½®å­—ç¬¦é›†</span></span><br><span class="line">                        <span class="string">&quot;Content-Type: image/x-icon; charset-utf-8\r\n&quot;</span> +<span class="comment">//å†…å®¹ç±»å‹æ˜¯æ™®é€šæ–‡æœ¬ å›è½¦æ¢è¡Œ å­—ç¬¦é›†</span></span><br><span class="line">                        <span class="comment">//å›ºå®šå†™æ³•,å¿…é¡»è¦å†™çš„ç©ºæ ¼æ¢è¡Œ(å¿…é¡»è¦å†™ä¸€ä¸ªç©ºè¡Œ)</span></span><br><span class="line">                        <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">                     <span class="comment">//åˆ¤æ–­è¯·æ±‚çš„æ–‡ä»¶åç¼€åæ˜¯å¦ä¸º.gif</span></span><br><span class="line">                  &#125;<span class="keyword">else</span> <span class="keyword">if</span>(request.getUri().endsWith(<span class="string">&quot;.gif&quot;</span>))&#123;</span><br><span class="line">                     <span class="comment">//fileèµ‹å€¼ä¸ºgifå›¾ç‰‡çš„è·¯å¾„</span></span><br><span class="line">                     <span class="comment">//è·å–è¯·æ±‚çš„uriå¹¶æˆªå–ä¸¢å¼ƒå‰é¢çš„ /</span></span><br><span class="line">                     file = request.getUri().substring(<span class="number">1</span>);</span><br><span class="line">                     <span class="comment">//HTTPè¯·æ±‚/ç‰ˆæœ¬  çŠ¶æ€ç  çŠ¶æ€</span></span><br><span class="line">                     response = <span class="string">&quot;HTTP/1.1 200 OK\r\n&quot;</span>+</span><br><span class="line">                        <span class="comment">//å‘Šè¯‰æµè§ˆå™¨è¯·æ±‚çš„ç±»å‹ï¼š å›¾ç‰‡/gifæ ¼å¼ è®¾ç½®å­—ç¬¦é›†</span></span><br><span class="line">                        <span class="string">&quot;Content-Type: image/gif; charset-utf-8\r\n&quot;</span>+</span><br><span class="line">                        <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">                  &#125;</span><br><span class="line">                  <span class="comment">//å°†HTTPåè®®ä¿¡æ¯å†™å‡ºåˆ°æµè§ˆå™¨ä¸­(å“åº”å›å»)</span></span><br><span class="line">                  os.write(response.getBytes());</span><br><span class="line">                  <span class="comment">//åˆ¤æ–­å¦‚æœfileä¸ä¸ºç©ºï¼Œé‚£ä¹ˆè¯·æ±‚çš„å°±æ˜¯index.htmlé¡µé¢åˆ™æ‰§è¡Œæ–¹æ³•ä½“</span></span><br><span class="line">                  <span class="keyword">if</span>(file != <span class="literal">null</span>)&#123;</span><br><span class="line">                     <span class="comment">//æ–‡ä»¶è¾“å…¥æµè¯»å–æ–‡ä»¶</span></span><br><span class="line">                     <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file);</span><br><span class="line">                     <span class="keyword">while</span>((len = fis.read(by)) != -<span class="number">1</span>)&#123;</span><br><span class="line">                        <span class="comment">//å°†è¯»å–åˆ°çš„é¡µé¢å­—èŠ‚æ•°æ®å†™å‡ºåˆ°æµè§ˆå™¨</span></span><br><span class="line">                        os.write(by,<span class="number">0</span>,len);</span><br><span class="line">                     &#125;</span><br><span class="line">                  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                     <span class="comment">//å°†ä¸Šé¢çš„HTTPåè®®ä¿¡æ¯å’Œå“åº”çš„æ•°æ®å†™å‡ºåˆ°æµè§ˆå™¨ä¸­</span></span><br><span class="line">                     os.write(response.getBytes());</span><br><span class="line">                     count++;</span><br><span class="line">                  &#125;</span><br><span class="line">               &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                  System.out.println(<span class="string">&quot;æ²¡æœ‰è¯»å–åˆ°æ•°æ®&quot;</span>);</span><br><span class="line">               &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">               e.printStackTrace();</span><br><span class="line">            &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">               <span class="keyword">try</span>&#123;</span><br><span class="line">                  <span class="keyword">if</span>(os != <span class="literal">null</span>)&#123;</span><br><span class="line">                     os.flush();<span class="comment">//å°†æ•°æ®åˆ·å‡º</span></span><br><span class="line">                  &#125;</span><br><span class="line">                  <span class="keyword">if</span>(socket != <span class="literal">null</span>)&#123;</span><br><span class="line">                     <span class="comment">//ä¸Šä¸€æ®µå¯¹è¯å·²ç»ç»“æŸè¿›è¡Œä¸‹ä¸€æ®µå¯¹è¯</span></span><br><span class="line">                     socket.shutdownOutput();</span><br><span class="line">                     socket.close();<span class="comment">//å…³é—­å¥—æ¥å­—èµ„æº</span></span><br><span class="line">                  &#125;</span><br><span class="line">               &#125;<span class="keyword">catch</span>(IOException e)&#123;</span><br><span class="line">                  e.printStackTrace();</span><br><span class="line">               &#125;</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">   &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ•ˆæœ</strong>ï¼š</p>
<p><img data-src="./images/image-20230519172731302.png" alt="image-20230519172731302"></p>
<p><img data-src="./images/image-20230519172852773.png" alt="image-20230519172852773"></p>
<p><img data-src="./images/image-20230519172824824.png" alt="image-20230519172824824"></p>
<h2 id="ä¸»é¡µè·³è½¬åˆ°ç™»å½•é¡µé¢"><a class="markdownIt-Anchor" href="#ä¸»é¡µè·³è½¬åˆ°ç™»å½•é¡µé¢">#</a> ä¸»é¡µè·³è½¬åˆ°ç™»å½•é¡µé¢ğŸ•‹</h2>
<p>åœ¨ index.html é¡µé¢ä¸­æ·»åŠ ä¸€ä¸ª è·³è½¬åˆ° (login.html) å¦ä¸€ä¸ªé¡µé¢çš„ a æ ‡ç­¾</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>ä¸»é¡µ<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;login.html&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_self&quot;</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;long.gif&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;é¾™çŒ«&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åœ¨<font style="color:red"><strong>é¡¹ç›®æ ¹ç›®å½•</strong></font>ä¸‹åˆ›å»ºä¸€ä¸ª login.html é¡µé¢</p>
<p><img data-src="./images/image-20230519202110050.png" alt="image-20230519202110050"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>è´¦å·ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;account&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>å¯†ç ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ç™»å½•&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç»§ç»­åœ¨åˆ¤æ–­èµ„æºè·¯å¾„çš„åé¢ç¼–å†™è·³è½¬æ—¶è¯·æ±‚å¦ä¸€ä¸ªé¡µé¢çš„ä»£ç ï¼Œå½“è¯·æ±‚ä»¥åç¼€åä¸º.html æ–‡ä»¶æ—¶åˆ™æ‰§è¡Œæ–¹æ³•ä½“ç»™ file èµ‹å€¼ login.html é€šè¿‡ substring (1); ä»ä¸‹æ ‡ 1 å¼€å§‹æˆªå–å€¼ç»“æœä¸º login.html</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(request.getUri().endsWith(<span class="string">&quot;.html&quot;</span>))&#123;</span><br><span class="line">   <span class="comment">//fileèµ‹å€¼ä¸ºè¯·æ±‚çš„åç§°åç¼€åä¸ºhtmlçš„æ–‡ä»¶åç§°å»æ‰å‰é¢çš„ /</span></span><br><span class="line">   file = request.getUri().substring(<span class="number">1</span>);<span class="comment">//login.html</span></span><br><span class="line">   <span class="comment">//è®¾ç½®HTTPåè®®</span></span><br><span class="line">   <span class="comment">//åè®®/ç‰ˆæœ¬ çŠ¶æ€ç  çŠ¶æ€</span></span><br><span class="line">   response = <span class="string">&quot;HTTP/1.1 200 OK\r\n&quot;</span>+</span><br><span class="line">      <span class="comment">//å‘Šè¯‰æµè§ˆå™¨è¯·æ±‚çš„ç±»å‹ï¼šæ–‡æœ¬/html è§£æhtmlæ ‡ç­¾ä»£ç  è®¾ç½®å­—ç¬¦é›†</span></span><br><span class="line">      <span class="string">&quot;Content-Type: text/html; charset-utf-8\r\n&quot;</span>+</span><br><span class="line">      <span class="comment">//å¿…é¡»è®¾ç½®æ¢è¡Œç©ºæ ¼</span></span><br><span class="line">      <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="è¡¨å•ç™»å½•å›æ˜¾æ–‡æœ¬"><a class="markdownIt-Anchor" href="#è¡¨å•ç™»å½•å›æ˜¾æ–‡æœ¬">#</a> è¡¨å•ç™»å½•å›æ˜¾æ–‡æœ¬ğŸ”</h2>
<p>ç¼–å†™ login.html æ–‡ä»¶ç»™ form æ ‡ç­¾åŠ ä¸Šæäº¤ä¿¡æ¯å’Œæ–¹å¼ï¼Œä½¿ç”¨ åç¼€å.do æˆ–è€….action æ¥åŒºåˆ†å…¶å®ƒæ–‡ä»¶çš„åç¼€åè·³è½¬</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å‡è®¾ è´¦å·:123 å¯†ç :admin ,å…è®¸ç™»å½• ä¸€èˆ¬é€‰æ‹©.do .action--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--æˆ‘ä»¬è¦é¿å¼€ç¨‹åºä¸­å·²ç»å†™è¿‡çš„åç¼€åå†™æ³•--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;login.do&quot;</span> <span class="attr">method</span>=<span class="string">&quot;get&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>è´¦å·ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;account&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>å¯†ç ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ç™»å½•&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹ login.html ç‚¹å‡»ç™»å½•åæäº¤çš„è·¯å¾„ä¿¡æ¯</p>
<p><strong>æäº¤ä¿¡æ¯ä¸º</strong>ï¼š<mark>/login.do?account=admin&amp;password=123</mark></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">Socket[addr=/0:0:0:0:0:0:0:1,port=8531,localport=8080]</span><br><span class="line">.......47 45 54 20 2F 6C 6F 67  69 6E 2E 64 6F 3F 61 63  .......GET /login.do?ac</span><br><span class="line">.......63 6F 75 6E 74 3D 61 64  6D 69 6E 26 70 61 73 73  .......count=admin&amp;pass</span><br><span class="line">.......77 6F 72 64 3D 31 32 33  20 48 54 54 50 2F 31 2E  .......word=123 HTTP/1.</span><br><span class="line">.......31 0D 0A 48 6F 73 74 3A  20 6C 6F 63 61 6C 68 6F  .......1..Host: localho</span><br><span class="line">.......73 74 3A 38 30 38 30 0D  0A 43 6F 6E 6E 65 63 74  .......st:8080..Connect</span><br><span class="line">.......69 6F 6E 3A 20 6B 65 65  70 2D 61 6C 69 76 65 0D  .......ion: keep-alive.</span><br><span class="line">.......0A 73 65 63 2D 63 68 2D  75 61 3A 20 22 47 6F 6F  ........sec-ch-ua: &quot;Goo</span><br><span class="line">.......67 6C 65 20 43 68 72 6F  6D 65 22 3B 76 3D 22 31  .......gle Chrome&quot;;v=&quot;1</span><br><span class="line">.......31 33 22 2C 20 22 43 68  72 6F 6D 69 75 6D 22 3B  .......13&quot;, &quot;Chromium&quot;;</span><br><span class="line">.......76 3D 22 31 31 33 22 2C  20 22 4E 6F 74 2D 41 2E  .......v=&quot;113&quot;, &quot;Not-A.</span><br><span class="line">.......42 72 61 6E 64 22 3B 76  3D 22 32 34 22 0D 0A 73  .......Brand&quot;;v=&quot;24&quot;..s</span><br><span class="line">.......65 63 2D 63 68 2D 75 61  2D 6D 6F 62 69 6C 65 3A  .......ec-ch-ua-mobile:</span><br><span class="line">.......20 3F 30 0D 0A 73 65 63  2D 63 68 2D 75 61 2D 70  ....... ?0..sec-ch-ua-p</span><br><span class="line">.......6C 61 74 66 6F 72 6D 3A  20 22 57 69 6E 64 6F 77  .......latform: &quot;Window</span><br><span class="line">.......73 22 0D 0A 55 70 67 72  61 64 65 2D 49 6E 73 65  .......s&quot;..Upgrade-Inse</span><br><span class="line">.......63 75 72 65 2D 52 65 71  75 65 73 74 73 3A 20 31  .......cure-Requests: 1</span><br><span class="line">.......0D 0A 55 73 65 72 2D 41  67 65 6E 74 3A 20 4D 6F  .........User-Agent: Mo</span><br><span class="line">.......7A 69 6C 6C 61 2F 35 2E  30 20 28 57 69 6E 64 6F  .......zilla/5.0 (Windo</span><br><span class="line">.......77 73 20 4E 54 20 31 30  2E 30 3B 20 57 69 6E 36  .......ws NT 10.0; Win6</span><br><span class="line">.......34 3B 20 78 36 34 29 20  41 70 70 6C 65 57 65 62  .......4; x64) AppleWeb</span><br><span class="line">.......4B 69 74 2F 35 33 37 2E  33 36 20 28 4B 48 54 4D  .......Kit/537.36 (KHTM</span><br><span class="line">.......4C 2C 20 6C 69 6B 65 20  47 65 63 6B 6F 29 20 43  .......L, like Gecko) C</span><br><span class="line">.......68 72 6F 6D 65 2F 31 31  33 2E 30 2E 30 2E 30 20  .......hrome/113.0.0.0 </span><br><span class="line">.......53 61 66 61 72 69 2F 35  33 37 2E 33 36 0D 0A 41  .......Safari/537.36..A</span><br><span class="line">.......63 63 65 70 74 3A 20 74  65 78 74 2F 68 74 6D 6C  .......ccept: text/html</span><br><span class="line">.......2C 61 70 70 6C 69 63 61  74 69 6F 6E 2F 78 68 74  .......,application/xht</span><br><span class="line">.......6D 6C 2B 78 6D 6C 2C 61  70 70 6C 69 63 61 74 69  .......ml+xml,applicati</span><br><span class="line">.......6F 6E 2F 78 6D 6C 3B 71  3D 30 2E 39 2C 69 6D 61  .......on/xml;q=0.9,ima</span><br><span class="line">.......67 65 2F 61 76 69 66 2C  69 6D 61 67 65 2F 77 65  .......ge/avif,image/we</span><br><span class="line">.......62 70 2C 69 6D 61 67 65  2F 61 70 6E 67 2C 2A 2F  .......bp,image/apng,*/</span><br><span class="line">.......2A 3B 71 3D 30 2E 38 2C  61 70 70 6C 69 63 61 74  .......*;q=0.8,applicat</span><br><span class="line">.......69 6F 6E 2F 73 69 67 6E  65 64 2D 65 78 63 68 61  .......ion/signed-excha</span><br><span class="line">.......6E 67 65 3B 76 3D 62 33  3B 71 3D 30 2E 37 0D 0A  .......nge;v=b3;q=0.7..</span><br><span class="line">.......53 65 63 2D 46 65 74 63  68 2D 53 69 74 65 3A 20  .......Sec-Fetch-Site: </span><br><span class="line">.......73 61 6D 65 2D 6F 72 69  67 69 6E 0D 0A 53 65 63  .......same-origin..Sec</span><br><span class="line">.......2D 46 65 74 63 68 2D 4D  6F 64 65 3A 20 6E 61 76  .......-Fetch-Mode: nav</span><br><span class="line">.......69 67 61 74 65 0D 0A 53  65 63 2D 46 65 74 63 68  .......igate..Sec-Fetch</span><br><span class="line">.......2D 55 73 65 72 3A 20 3F  31 0D 0A 53 65 63 2D 46  .......-User: ?1..Sec-F</span><br><span class="line">.......65 74 63 68 2D 44 65 73  74 3A 20 64 6F 63 75 6D  .......etch-Dest: docum</span><br><span class="line">.......65 6E 74 0D 0A 52 65 66  65 72 65 72 3A 20 68 74  .......ent..Referer: ht</span><br><span class="line">.......74 70 3A 2F 2F 6C 6F 63  61 6C 68 6F 73 74 3A 38  .......tp://localhost:8</span><br><span class="line">.......30 38 30 2F 6C 6F 67 69  6E 2E 68 74 6D 6C 0D 0A  .......080/login.html..</span><br><span class="line">.......41 63 63 65 70 74 2D 45  6E 63 6F 64 69 6E 67 3A  .......Accept-Encoding:</span><br><span class="line">.......20 67 7A 69 70 2C 20 64  65 66 6C 61 74 65 2C 20  ....... gzip, deflate, </span><br><span class="line">.......62 72 0D 0A 41 63 63 65  70 74 2D 4C 61 6E 67 75  .......br..Accept-Langu</span><br><span class="line">.......61 67 65 3A 20 65 6E 2D  55 53 2C 65 6E 3B 71 3D  .......age: en-US,en;q=</span><br><span class="line">.......30 2E 39 2C 7A 68 2D 43  4E 3B 71 3D 30 2E 38 2C  .......0.9,zh-CN;q=0.8,</span><br><span class="line">.......7A 68 3B 71 3D 30 2E 37  0D 0A 43 6F 6F 6B 69 65  .......zh;q=0.7..Cookie</span><br><span class="line">.......3A 20 49 64 65 61 2D 38  32 39 36 65 62 33 31 3D  .......: Idea-8296eb31=</span><br><span class="line">.......31 36 63 35 64 63 30 37  2D 36 31 35 35 2D 34 31  .......16c5dc07-6155-41</span><br><span class="line">.......33 64 2D 62 33 30 38 2D  39 30 66 35 63 38 66 62  .......3d-b308-90f5c8fb</span><br><span class="line">.......35 35 66 65 0D 0A 0D 0A    .......55fe....</span><br><span class="line"></span><br><span class="line">è¯»å–åˆ°çš„å­—èŠ‚æ•°æ˜¯: 824</span><br><span class="line">GET /login.do?account=admin&amp;password=123 HTTP/1.1</span><br><span class="line">Host: localhost:8080</span><br><span class="line">Connection: keep-alive</span><br><span class="line">sec-ch-ua: &quot;Google Chrome&quot;;v=&quot;113&quot;, &quot;Chromium&quot;;v=&quot;113&quot;, &quot;Not-A.Brand&quot;;v=&quot;24&quot;</span><br><span class="line">sec-ch-ua-mobile: ?0</span><br><span class="line">sec-ch-ua-platform: &quot;Windows&quot;</span><br><span class="line">Upgrade-Insecure-Requests: 1</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36</span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7</span><br><span class="line">Sec-Fetch-Site: same-origin</span><br><span class="line">Sec-Fetch-Mode: navigate</span><br><span class="line">Sec-Fetch-User: ?1</span><br><span class="line">Sec-Fetch-Dest: document</span><br><span class="line">Referer: http://localhost:8080/login.html</span><br><span class="line">Accept-Encoding: gzip, deflate, br</span><br><span class="line">Accept-Language: en-US,en;q=0.9,zh-CN;q=0.8,zh;q=0.7</span><br><span class="line">Cookie: Idea-8296eb31=16c5dc07-6155-413d-b308-90f5c8fb55fe</span><br></pre></td></tr></table></figure>
<p><strong>è§£æè¯·æ±‚</strong>ï¼š</p>
<p>åˆ‡å‰²è·¯å¾„ï¼š</p>
<ol>
<li>å°† /login.html?account=admin&amp;password=123 ä»¥ï¼Ÿè¿›è¡Œåˆ‡å‰²åˆ†ä¸ºä¸¤æ®µ</li>
<li>æ‹¿åˆ°è¯·æ±‚ uriï¼š/login.html è®¾ç½®åˆ° å°è£…è¯·æ±‚ç±»çš„ Uri æˆå‘˜å­—æ®µä¸­</li>
<li>æ‹¿åˆ° account=admin&amp;password=123ï¼Œå†è¿›è¡Œåˆ‡å‰²ä»¥ &amp; è¿›è¡Œåˆ‡å‰²åˆ†ä¸ºä¸¤æ®µ</li>
<li>æ‹¿åˆ°çš„åˆ‡å‰²åçš„æ•°æ®ä¸º account=admin å’Œ password=123ï¼Œéå† String æ•°ç»„</li>
<li>åœ¨ for ä¸­ä½¿ç”¨ indexOf (&quot;=&quot;); è·å– = çš„ä¸‹æ ‡å€¼ï¼Œå†ä½¿ç”¨ substring (0,index) è·å–å‰é¢çš„ accountï¼Œä½¿ç”¨ substring (index) è·å–åé¢çš„ adminï¼Œå¹¶ä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜å…¥ Map é›†åˆä¸­</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è§£æè¯·æ±‚</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> msg</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> Request <span class="title function_">parseRequest</span><span class="params">(String msg)</span>&#123;</span><br><span class="line">   <span class="type">Request</span> <span class="variable">request</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Request</span>();</span><br><span class="line">   String[] split = msg.split(<span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line">   <span class="comment">//è§£æç¬¬ä¸€è¡Œ</span></span><br><span class="line">   <span class="comment">//GET /favicon.ico HTTP/1.1</span></span><br><span class="line">   String[] split0 = split[<span class="number">0</span>].split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">   request.setMethod(split0[<span class="number">0</span>]);<span class="comment">//method : GET</span></span><br><span class="line">   <span class="comment">//åˆ¤æ–­è¯·æ±‚è·¯å¾„ä¸­æ˜¯å¦åŒ…å«?å·</span></span><br><span class="line">   <span class="keyword">if</span>(split0[<span class="number">1</span>].contains(<span class="string">&quot;?&quot;</span>))&#123;</span><br><span class="line">      <span class="comment">// /login.do?account=admin&amp;password=123,ä»¥ï¼Ÿå·è¿›è¡Œåˆ‡å‰²</span></span><br><span class="line">      String[] split1 =  split0[<span class="number">1</span>].split(<span class="string">&quot;[?]&quot;</span>);</span><br><span class="line">      <span class="comment">// /login.do</span></span><br><span class="line">      request.setUri(split1[<span class="number">0</span>]);</span><br><span class="line">      <span class="comment">// account=admin&amp;password=123</span></span><br><span class="line">      String[] split2 = split1[<span class="number">1</span>].split(<span class="string">&quot;[&amp;]&quot;</span>);</span><br><span class="line">      <span class="comment">/**</span></span><br><span class="line"><span class="comment">        * å¾ªç¯æ•°æ®</span></span><br><span class="line"><span class="comment">        * account=admin</span></span><br><span class="line"><span class="comment">        * password=123</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">      <span class="keyword">for</span>(String i:split2)&#123;</span><br><span class="line">         <span class="comment">//è·å–=çš„ç´¢å¼•å€¼</span></span><br><span class="line">         <span class="type">int</span> <span class="variable">idx</span> <span class="operator">=</span> i.indexOf(<span class="string">&quot;=&quot;</span>);</span><br><span class="line">         <span class="comment">//å°†account=adminå’Œpassword=123æ‹†åˆ†ä¸ºkey,valueå­˜å‚¨åˆ°Mapé›†åˆä¸­keyä¸º:å°†account,value:admin</span></span><br><span class="line">         request.getParamMap().put(i.substring(<span class="number">0</span>,idx),i.substring(idx+<span class="number">1</span>));</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      request.setUri(split0[<span class="number">1</span>]);<span class="comment">//uri : / æˆ–è€… /favicon.ico</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> request;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨å°è£…è¯·æ±‚çš„ç±»ä¸­å®šä¹‰ä¸€ä¸ªæˆå‘˜å­—æ®µï¼šMap é›†åˆç”¨äºå­˜å‚¨ç”¨æˆ·ç™»å½•æäº¤çš„ä¿¡æ¯ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æŠŠè¯·æ±‚çš„å­—ç¬¦ä¸²å°è£…æˆè¯·æ±‚çš„ç±»</span></span><br><span class="line"><span class="comment"> * è¯·æ±‚çš„ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Request</span> &#123;</span><br><span class="line"><span class="comment">//    è¯·æ±‚æ–¹å¼</span></span><br><span class="line">    <span class="keyword">private</span> String method;</span><br><span class="line"><span class="comment">//    è¯·æ±‚çš„url</span></span><br><span class="line">    <span class="keyword">private</span> String uri;</span><br><span class="line"><span class="comment">//    ä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜å‚¨ç”¨æˆ·æäº¤è´¦å·å’Œå¯†ç çš„ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">private</span> Map&lt;String,String&gt; paramMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();<span class="comment">//å­˜æ”¾å‚æ•° ä¾‹å¦‚ï¼šaccount=admin&amp;password=123</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getMethod</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> method;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMethod</span><span class="params">(String method)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.method = method;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUri</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> uri;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUri</span><span class="params">(String uri)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.uri = uri;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Map&lt;String, String&gt; <span class="title function_">getParamMap</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> paramMap;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setParamMap</span><span class="params">(Map&lt;String, String&gt; paramMap)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.paramMap = paramMap;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ HttpServer ç±»ä¸­çš„ main æ–¹æ³•ä¸­ç»§ç»­ç¼–å†™è¯·æ±‚å¤„ç†ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(request.getUri().equals(<span class="string">&quot;/login.do&quot;</span>))&#123;</span><br><span class="line">   <span class="comment">//é€šè¿‡keyè·å–value è·å–è´¦å·</span></span><br><span class="line">   <span class="type">String</span> <span class="variable">account</span> <span class="operator">=</span> request.getParamMap().get(<span class="string">&quot;account&quot;</span>);</span><br><span class="line">   <span class="comment">//é€šè¿‡keyè·å–value è·å–å¯†ç </span></span><br><span class="line">   <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> request.getParamMap().get(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">   <span class="comment">//åè®®/ç‰ˆæœ¬ çŠ¶æ€ç  çŠ¶æ€ ç©ºæ ¼æ¢è¡Œ</span></span><br><span class="line">   response = <span class="string">&quot;HTTP/1.1 200 OK\r\n&quot;</span>+</span><br><span class="line">      <span class="comment">//å‘Šè¯‰æµè§ˆå™¨è¯·æ±‚ç±»å‹: æ–‡æœ¬/html è§£æhtmlæ ‡ç­¾ä»£ç  è®¾ç½®å­—ç¬¦é›†</span></span><br><span class="line">      <span class="string">&quot;Content-Type: text/html; charset-utf-8\r\n&quot;</span>+</span><br><span class="line">      <span class="comment">//ç©ºæ ¼æ¢è¡Œ</span></span><br><span class="line">      <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">   os.write(response.getBytes());</span><br><span class="line">   <span class="comment">//åˆ¤æ–­è´¦å·å’Œå¯†ç æ˜¯å¦æ˜¯æˆ‘ä»¬æœŸæœ›çš„</span></span><br><span class="line">   <span class="keyword">if</span>(<span class="string">&quot;admin&quot;</span>.equals(account) &amp;&amp; <span class="string">&quot;123&quot;</span>.equals(password))&#123;</span><br><span class="line">      os.write(<span class="string">&quot;&lt;h1&gt;Login successful&lt;h1&gt;&quot;</span>.getBytes());</span><br><span class="line">   &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      os.write(<span class="string">&quot;&lt;h1&gt;Login failed&lt;h1&gt;&quot;</span>.getBytes());</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">//ç»“æŸæ–¹æ³•</span></span><br><span class="line">   <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img data-src="./images/image-20230519220412571.png" alt="image-20230519220412571"></p>
<p><img data-src="./images/image-20230519220957706.png" alt="image-20230519220957706"></p>
<h2 id="è½¬å‘å’Œé‡å®šå‘ï¸"><a class="markdownIt-Anchor" href="#è½¬å‘å’Œé‡å®šå‘ï¸">#</a> è½¬å‘å’Œé‡å®šå‘âš¡ï¸</h2>
<p>å½“æˆ‘ä»¬ç‚¹å‡»ç™»å½•ï¼Œç™»å½•æˆåŠŸååœ°å€æ ä¸ä¼šå‘ç”Ÿå˜åŒ–è¿™ç§æƒ…å†µæ˜¯ä¸åˆé€‚çš„ï¼Œå› ä¸ºå½“æˆ‘ä»¬ç‚¹å‡»åˆ·æ–°çš„æ—¶å€™éƒ½æ˜¯åœ¨è¯·æ±‚é‚£ä¸ª Uriã€‚</p>
<p>æ¸…ç©ºæ§åˆ¶å°ã€‚</p>
<img data-src="./images/image-20230519221531747.png" alt="image-20230519221531747" style="zoom: 50%;" />
<p>åˆ·æ–°è¯·æ±‚é¡µé¢ï¼š</p>
<p><img data-src="./images/image-20230519221702959.png" alt="image-20230519221702959"></p>
<p>æŸ¥çœ‹æ§åˆ¶å°è¯·æ±‚ä¿¡æ¯ï¼š</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.......47 45 54 20 2F 6C 6F 67  69 6E 2E 64 6F 3F 61 63  .......GET /login.do?ac</span><br><span class="line">è¯»å–åˆ°çš„å­—èŠ‚æ•°æ˜¯: 850</span><br><span class="line">GET /login.do?account=admin&amp;password=123 HTTP/1.1</span><br></pre></td></tr></table></figure>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.......47 45 54 20 2F 6C 6F 6E  67 2E 67 69 66 20 48 54  .......GET /long.gif HT</span><br><span class="line">è¯»å–åˆ°çš„å­—èŠ‚æ•°æ˜¯: 697</span><br><span class="line">GET /long.gif HTTP/1.1</span><br></pre></td></tr></table></figure>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.......47 45 54 20 2F 66 61 76  69 63 6F 6E 2E 69 63 6F  .......GET /favicon.ico</span><br><span class="line">è¯»å–åˆ°çš„å­—èŠ‚æ•°æ˜¯: 700</span><br><span class="line">GET /favicon.ico HTTP/1.1</span><br></pre></td></tr></table></figure>
<h3 id="httpå“åº”ä»£ç ï¸"><a class="markdownIt-Anchor" href="#httpå“åº”ä»£ç ï¸">#</a> HTTP å“åº”ä»£ç âš¡ï¸</h3>
<p><mark>302 Found</mark></p>
<p>HTTP 302 Found é‡å®šå‘çŠ¶æ€ç è¡¨åè¯·æ±‚çš„èµ„æºè¢«æš‚æ—¶çš„ç§»åŠ¨åˆ°äº†ç”± <code>Location</code>  å¤´éƒ¨æŒ‡å®šçš„ URL ä¸Šã€‚æµè§ˆå™¨ä¼šé‡å®šå‘åˆ°è¿™ä¸ª URLï¼Œä½†æ˜¯æœç´¢å¼•æ“ä¸ä¼šå¯¹è¯¥èµ„æºçš„é“¾æ¥è¿›è¡Œæ›´æ–° (In SEO-speak,it is said that the link-juic is not sent to the new URL)ã€‚</p>
<p><strong>çŠ¶æ€</strong>ï¼š</p>
<blockquote>
<p>302 Found</p>
</blockquote>
<p><mark>Location</mark></p>
<p><code>Location</code>  é¦–éƒ¨æŒ‡å®šçš„æ˜¯éœ€è¦å°†é¡µé¢é‡å®šå‘è‡³çš„åœ°å€ï¼Œä¸€èˆ¬åœ¨å“åº”ç ä¸º 3xx çš„å“åº”ä¸­æ‰ä¼šæœ‰æ„ä¹‰ã€‚</p>
<p>å‘é€æ–°è¯·æ±‚ï¼Œè·å– <code>Location</code>  æŒ‡å‘çš„æ–°é¡µé¢æ‰€é‡‡ç”¨çš„æ–¹æ³•ä¸åˆå§‹è¯·æ±‚ä½¿ç”¨çš„æ–¹æ³•ä»¥åŠé‡å®šå‘çš„ç±»å‹ç›¸å…³ï¼›</p>
<ul>
<li>303 (See Also) å§‹ç»ˆå¼•è‡´è¯·æ±‚ä½¿ç”¨ <code>GET</code>  æ–¹æ³•ï¼Œè€Œ 307 (Temporary Redirect) å’Œ 308 (Permanent Redirect) åˆ™ä¸è½¬å˜åˆå§‹è¯·æ±‚ä¸­çš„æ‰€ä½¿ç”¨çš„æ–¹æ³•ï¼›</li>
<li>301 (Permanent Redirect) å’Œ 302 (Found) åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ä¸ä¼šè½¬å˜åˆå§‹è¯·æ±‚ä¸­çš„æ–¹æ³•ï¼Œä¸è¿‡ä¸€äº›æ¯”è¾ƒæ—©çš„ç”¨æˆ·ä»£ç†å¯èƒ½ä¼šå¼•å‘æ–¹æ³•çš„å˜æ›´ (æ‰€ä»¥ä½ åŸºæœ¬ä¸Šä¸çŸ¥é“è¿™ä¸€ç‚¹)ã€‚</li>
</ul>
<p>çŠ¶æ€ç ä¸ºä¸Šè¿°ä¹‹ä¸€çš„æ‰€æœ‰ç›¸åº”éƒ½ä¼šå¸¦æœ‰ä¸€ä¸ª <code>Location</code>  é¦–éƒ¨ã€‚</p>
<p>é™¤äº†é‡å®šå‘ç›¸åº”ä¹‹å¤–ï¼ŒçŠ¶æ€ç ä¸º 201 (Created) çš„æ¶ˆæ¯ä¹Ÿä¼šå¸¦æœ‰ <code>Location</code>  é¦–éƒ¨ï¼Œå®ƒæŒ‡å‘çš„æ˜¯æ–°åˆ›å»ºçš„èµ„æºçš„åœ°å€ã€‚</p>
<p><strong>è¯­æ³•</strong>ï¼š</p>
<blockquote>
<p>Location: <url></p>
</blockquote>
<p>ä¿®æ”¹ç™»å½•è¯·æ±‚ login.do çš„å¤„ç†æ–¹å¼:</p>
<p>å½“ if åˆ¤æ–­ç™»å½•æˆåŠŸåå“åº”ä¸€ä¸ª 302 Found çš„çŠ¶æ€ç  (é‡å®šå‘) è®©æµè§ˆå™¨ä¸»åŠ¨ç”³è¯·ä¸€æ¬¡è¯·æ±‚ åˆ° index.html é¡µé¢</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ¤æ–­è¯·æ±‚è·¯å¾„æ˜¯å¦ä¸º /login.do</span></span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(request.getUri().equals(<span class="string">&quot;/login.do&quot;</span>))&#123;</span><br><span class="line">   <span class="comment">//é€šè¿‡keyè·å–value è·å–è´¦å·</span></span><br><span class="line">   <span class="type">String</span> <span class="variable">account</span> <span class="operator">=</span> request.getParamMap().get(<span class="string">&quot;account&quot;</span>);</span><br><span class="line">   <span class="comment">//é€šè¿‡keyè·å–value è·å–å¯†ç </span></span><br><span class="line">   <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> request.getParamMap().get(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">   <span class="comment">//åè®®/ç‰ˆæœ¬ çŠ¶æ€ç  çŠ¶æ€ ç©ºæ ¼æ¢è¡Œ</span></span><br><span class="line">   response = <span class="string">&quot;HTTP/1.1 200 OK\r\n&quot;</span>+</span><br><span class="line">      <span class="comment">//å‘Šè¯‰æµè§ˆå™¨è¯·æ±‚ç±»å‹: æ–‡æœ¬/html è§£æhtmlæ ‡ç­¾ä»£ç  è®¾ç½®å­—ç¬¦é›†</span></span><br><span class="line">      <span class="string">&quot;Content-Type: text/html; charset-utf-8\r\n&quot;</span>+</span><br><span class="line">      <span class="comment">//ç©ºæ ¼æ¢è¡Œ</span></span><br><span class="line">      <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">   <span class="comment">//åˆ¤æ–­è´¦å·å’Œå¯†ç æ˜¯å¦æ˜¯æˆ‘ä»¬æœŸæœ›çš„</span></span><br><span class="line">   <span class="keyword">if</span>(<span class="string">&quot;admin&quot;</span>.equals(account) &amp;&amp; <span class="string">&quot;123&quot;</span>.equals(password))&#123;</span><br><span class="line">      <span class="comment">//å¦‚æœæ»¡è¶³æ¡ä»¶ä¹Ÿå°±æ˜¯ç™»å½•æˆåŠŸè·³è½¬åˆ°ä¸»é¡µindex.html</span></span><br><span class="line">      <span class="comment">//é‡å®šå‘çŠ¶æ€ç </span></span><br><span class="line">      response = <span class="string">&quot;HTTP/1.1 302 Found\r\n&quot;</span>+</span><br><span class="line">         <span class="comment">//æˆåŠŸ,é‡å®šå‘åˆ°,index.html</span></span><br><span class="line">         <span class="comment">//è®©æµè§ˆå™¨ä¸»åŠ¨ç”³è¯·ä¸€æ¬¡é¡µé¢</span></span><br><span class="line">         <span class="string">&quot;Location: index.html\r\n&quot;</span>+</span><br><span class="line">         <span class="comment">//ç©ºæ ¼æ¢è¡Œ</span></span><br><span class="line">         <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">   &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="comment">//å¦‚æœä¸æ»¡è¶³æ¡ä»¶ä¹Ÿå°±æ˜¯ç™»å½•å¤±è´¥è·³è½¬åˆ°å½“å‰é¡µé¢(ç™»å½•é¡µé¢)login.html</span></span><br><span class="line">      <span class="comment">//ç™»å½•å¤±è´¥è½¬å‘åˆ°login.htmlé¡µé¢</span></span><br><span class="line">      file = <span class="string">&quot;login.html&quot;</span>;<span class="comment">//æœåŠ¡å™¨å†…éƒ¨è¯»å–ä¸€ä¸ªæ–‡ä»¶,è¿”å›ç»™æµè§ˆå™¨</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ•ˆæœ</strong>ï¼š</p>
<p><img data-src="./images/test-1684546004575-1.gif" alt="test"></p>
<p>è¯·æ±‚çš„ä¿¡æ¯ï¼š</p>
<p>è¯·æ±‚ /login.do åˆ° login.html é¡µé¢ä¸­ï¼Œç¬¬ä¸€æ¬¡è¯·æ±‚è´¦å·å’Œå¯†ç éƒ½æ˜¯ null æ‰€ä»¥èµ° else å°† file èµ‹å€¼ä¸º login.html</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.......47 45 54 20 2F 6C 6F 67  69 6E 2E 64 6F 20 48 54  .......GET /login.do HT</span><br><span class="line">è¯»å–åˆ°çš„å­—èŠ‚æ•°æ˜¯: 773</span><br><span class="line">GET /login.do HTTP/1.1</span><br></pre></td></tr></table></figure>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.......47 45 54 20 2F 66 61 76  69 63 6F 6E 2E 69 63 6F  .......GET /favicon.ico</span><br><span class="line">è¯»å–åˆ°çš„å­—èŠ‚æ•°æ˜¯: 673</span><br><span class="line">GET /favicon.ico HTTP/1.1</span><br></pre></td></tr></table></figure>
<p>ç™»å½•é”™è¯¯çš„è¯·æ±‚è¯»å– login.html é¡µé¢äºŒè¿›åˆ¶æ•°æ®å±•ç¤ºé¡µé¢ï¼šæ­¤æ—¶åœ°å€æ ä¸å‘ç”Ÿæ”¹å˜ï¼ŒæœåŠ¡å™¨å¤„ç†</p>
<p><img data-src="./images/image-20230520094259782.png" alt="image-20230520094259782"></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.......47 45 54 20 2F 6C 6F 67  69 6E 2E 64 6F 3F 61 63  .......GET /login.do?ac</span><br><span class="line">è¯»å–åˆ°çš„å­—èŠ‚æ•°æ˜¯: 823</span><br><span class="line">GET /login.do?account=admin&amp;password=1234 HTTP/1.1</span><br></pre></td></tr></table></figure>
<p>ç™»å½•æˆåŠŸè¯·æ±‚ HTTP åè®®çŠ¶æ€ç ä¸º 302 Found é‡å®šå‘åˆ° Locationï¼šindex.html æµè§ˆå™¨ä¸»åŠ¨ç”³è¯· index.html é¡µé¢</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.......47 45 54 20 2F 6C 6F 67  69 6E 2E 64 6F 3F 61 63  .......GET /login.do?ac</span><br><span class="line">è¯»å–åˆ°çš„å­—èŠ‚æ•°æ˜¯: 850</span><br><span class="line">GET /login.do?account=admin&amp;password=123 HTTP/1.1</span><br></pre></td></tr></table></figure>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.......47 45 54 20 2F 69 6E 64  65 78 2E 68 74 6D 6C 20  .......GET /index.html </span><br><span class="line">è¯»å–åˆ°çš„å­—èŠ‚æ•°æ˜¯: 825</span><br><span class="line">GET /index.html HTTP/1.1</span><br></pre></td></tr></table></figure>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.......47 45 54 20 2F 6C 6F 6E  67 2E 67 69 66 20 48 54  .......GET /long.gif HT</span><br><span class="line">è¯»å–åˆ°çš„å­—èŠ‚æ•°æ˜¯: 672</span><br><span class="line">GET /long.gif HTTP/1.1</span><br></pre></td></tr></table></figure>
<h2 id="ä½¿ç”¨postæ–¹å¼æäº¤è¡¨å•ï¸"><a class="markdownIt-Anchor" href="#ä½¿ç”¨postæ–¹å¼æäº¤è¡¨å•ï¸">#</a> ä½¿ç”¨ POST æ–¹å¼æäº¤è¡¨å•â˜”ï¸</h2>
<p>å°† login.html é¡µé¢çš„è¯·æ±‚æ–¹å¼æ”¹ä¸º method = â€œpostâ€</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å‡è®¾ è´¦å·:123 å¯†ç :admin ,å…è®¸ç™»å½• ä¸€èˆ¬é€‰æ‹©.do .action--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--æˆ‘ä»¬è¦é¿å¼€ç¨‹åºä¸­å·²ç»å†™è¿‡çš„åç¼€åå†™æ³•--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;login.do&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>è´¦å·ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;account&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>å¯†ç ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ç™»å½•&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹ç™»å½•åçš„è¯·æ±‚ç»“æœï¼š</p>
<p>ç™»å½•ååœ°å€æ ä¸ä¼šæ˜¾ç¤ºè´¦å·å’Œå¯†ç ï¼Œè´¦å·å¯†ç åœ¨è¯·æ±‚ä½“ä¸­æ˜¾ç¤º</p>
<p><img data-src="./images/image-20230520101235364.png" alt="image-20230520101235364"></p>
<p>åœ¨æœ€åä¸€è¡Œ (<mark>è¯·æ±‚ä½“</mark>) ä¸­æ˜¾ç¤º è´¦å·å’Œå¯†ç ä¿¡æ¯ï¼š</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">.......50 4F 53 54 20 2F 6C 6F  67 69 6E 2E 64 6F 20 48  .......POST /login.do H</span><br><span class="line">.......54 54 50 2F 31 2E 31 0D  0A 48 6F 73 74 3A 20 31  .......TTP/1.1..Host: 1</span><br><span class="line">.......32 37 2E 30 2E 30 2E 31  3A 38 30 38 30 0D 0A 55  .......27.0.0.1:8080..U</span><br><span class="line">.......73 65 72 2D 41 67 65 6E  74 3A 20 4D 6F 7A 69 6C  .......ser-Agent: Mozil</span><br><span class="line">.......6C 61 2F 35 2E 30 20 28  57 69 6E 64 6F 77 73 20  .......la/5.0 (Windows </span><br><span class="line">.......4E 54 20 31 30 2E 30 3B  20 57 69 6E 36 34 3B 20  .......NT 10.0; Win64; </span><br><span class="line">.......78 36 34 3B 20 72 76 3A  31 30 39 2E 30 29 20 47  .......x64; rv:109.0) G</span><br><span class="line">.......65 63 6B 6F 2F 32 30 31  30 30 31 30 31 20 46 69  .......ecko/20100101 Fi</span><br><span class="line">.......72 65 66 6F 78 2F 31 31  33 2E 30 0D 0A 41 63 63  .......refox/113.0..Acc</span><br><span class="line">.......65 70 74 3A 20 74 65 78  74 2F 68 74 6D 6C 2C 61  .......ept: text/html,a</span><br><span class="line">.......70 70 6C 69 63 61 74 69  6F 6E 2F 78 68 74 6D 6C  .......pplication/xhtml</span><br><span class="line">.......2B 78 6D 6C 2C 61 70 70  6C 69 63 61 74 69 6F 6E  .......+xml,application</span><br><span class="line">.......2F 78 6D 6C 3B 71 3D 30  2E 39 2C 69 6D 61 67 65  ......./xml;q=0.9,image</span><br><span class="line">.......2F 61 76 69 66 2C 69 6D  61 67 65 2F 77 65 62 70  ......./avif,image/webp</span><br><span class="line">.......2C 2A 2F 2A 3B 71 3D 30  2E 38 0D 0A 41 63 63 65  .......,*/*;q=0.8..Acce</span><br><span class="line">.......70 74 2D 4C 61 6E 67 75  61 67 65 3A 20 7A 68 2D  .......pt-Language: zh-</span><br><span class="line">.......43 4E 2C 7A 68 3B 71 3D  30 2E 38 2C 7A 68 2D 54  .......CN,zh;q=0.8,zh-T</span><br><span class="line">.......57 3B 71 3D 30 2E 37 2C  7A 68 2D 48 4B 3B 71 3D  .......W;q=0.7,zh-HK;q=</span><br><span class="line">.......30 2E 35 2C 65 6E 2D 55  53 3B 71 3D 30 2E 33 2C  .......0.5,en-US;q=0.3,</span><br><span class="line">.......65 6E 3B 71 3D 30 2E 32  0D 0A 41 63 63 65 70 74  .......en;q=0.2..Accept</span><br><span class="line">.......2D 45 6E 63 6F 64 69 6E  67 3A 20 67 7A 69 70 2C  .......-Encoding: gzip,</span><br><span class="line">.......20 64 65 66 6C 61 74 65  2C 20 62 72 0D 0A 43 6F  ....... deflate, br..Co</span><br><span class="line">.......6E 74 65 6E 74 2D 54 79  70 65 3A 20 61 70 70 6C  .......ntent-Type: appl</span><br><span class="line">.......69 63 61 74 69 6F 6E 2F  78 2D 77 77 77 2D 66 6F  .......ication/x-www-fo</span><br><span class="line">.......72 6D 2D 75 72 6C 65 6E  63 6F 64 65 64 0D 0A 43  .......rm-urlencoded..C</span><br><span class="line">.......6F 6E 74 65 6E 74 2D 4C  65 6E 67 74 68 3A 20 32  .......ontent-Length: 2</span><br><span class="line">.......36 0D 0A 4F 72 69 67 69  6E 3A 20 68 74 74 70 3A  .......6..Origin: http:</span><br><span class="line">.......2F 2F 31 32 37 2E 30 2E  30 2E 31 3A 38 30 38 30  .......//127.0.0.1:8080</span><br><span class="line">.......0D 0A 43 6F 6E 6E 65 63  74 69 6F 6E 3A 20 6B 65  .........Connection: ke</span><br><span class="line">.......65 70 2D 61 6C 69 76 65  0D 0A 52 65 66 65 72 65  .......ep-alive..Refere</span><br><span class="line">.......72 3A 20 68 74 74 70 3A  2F 2F 31 32 37 2E 30 2E  .......r: http://127.0.</span><br><span class="line">.......30 2E 31 3A 38 30 38 30  2F 6C 6F 67 69 6E 2E 64  .......0.1:8080/login.d</span><br><span class="line">.......6F 0D 0A 55 70 67 72 61  64 65 2D 49 6E 73 65 63  .......o..Upgrade-Insec</span><br><span class="line">.......75 72 65 2D 52 65 71 75  65 73 74 73 3A 20 31 0D  .......ure-Requests: 1.</span><br><span class="line">.......0A 53 65 63 2D 46 65 74  63 68 2D 44 65 73 74 3A  ........Sec-Fetch-Dest:</span><br><span class="line">.......20 64 6F 63 75 6D 65 6E  74 0D 0A 53 65 63 2D 46  ....... document..Sec-F</span><br><span class="line">.......65 74 63 68 2D 4D 6F 64  65 3A 20 6E 61 76 69 67  .......etch-Mode: navig</span><br><span class="line">.......61 74 65 0D 0A 53 65 63  2D 46 65 74 63 68 2D 53  .......ate..Sec-Fetch-S</span><br><span class="line">.......69 74 65 3A 20 73 61 6D  65 2D 6F 72 69 67 69 6E  .......ite: same-origin</span><br><span class="line">.......0D 0A 53 65 63 2D 46 65  74 63 68 2D 55 73 65 72  .........Sec-Fetch-User</span><br><span class="line">.......3A 20 3F 31 0D 0A 50 72  61 67 6D 61 3A 20 6E 6F  .......: ?1..Pragma: no</span><br><span class="line">.......2D 63 61 63 68 65 0D 0A  43 61 63 68 65 2D 43 6F  .......-cache..Cache-Co</span><br><span class="line">.......6E 74 72 6F 6C 3A 20 6E  6F 2D 63 61 63 68 65 0D  .......ntrol: no-cache.</span><br><span class="line">.......0A 0D 0A 61 63 63 6F 75  6E 74 3D 61 64 6D 69 6E  ..........account=admin</span><br><span class="line">.......26 70 61 73 73 77 6F 72  64 3D 31 32 33   .......&amp;password=123</span><br><span class="line"></span><br><span class="line">è¯»å–åˆ°çš„å­—èŠ‚æ•°æ˜¯: 717</span><br><span class="line">POST /login.do HTTP/1.1</span><br><span class="line">Host: 127.0.0.1:8080</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/113.0</span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8</span><br><span class="line">Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2</span><br><span class="line">Accept-Encoding: gzip, deflate, br</span><br><span class="line">Content-Type: application/x-www-form-urlencoded</span><br><span class="line">Content-Length: 26</span><br><span class="line">Origin: http://127.0.0.1:8080</span><br><span class="line">Connection: keep-alive</span><br><span class="line">Referer: http://127.0.0.1:8080/login.do</span><br><span class="line">Upgrade-Insecure-Requests: 1</span><br><span class="line">Sec-Fetch-Dest: document</span><br><span class="line">Sec-Fetch-Mode: navigate</span><br><span class="line">Sec-Fetch-Site: same-origin</span><br><span class="line">Sec-Fetch-User: ?1</span><br><span class="line">Pragma: no-cache</span><br><span class="line">Cache-Control: no-cache</span><br><span class="line"></span><br><span class="line">account=admin&amp;password=123</span><br></pre></td></tr></table></figure>
<p>ç™»å½•æˆåŠŸåæ²¡æœ‰é‡å®šå‘é¡µé¢æ˜¯å› ä¸ºå¹¶æ²¡æœ‰è§£æåˆ°è´¦å·å’Œå¯†ç åŸæ¥çš„è§£ææ–¹å¼æ˜¯ get æ–¹å¼çš„ post æ–¹å¼è§£æä¸åˆ°ã€‚</p>
<p>æ€è·¯ï¼š</p>
<blockquote>
<p>æ— è®ºæœ‰æ²¡æœ‰è¯·æ±‚ä½“ï¼Œè¯·æ±‚å¤´ä¸è¯·æ±‚ä½“ä¹‹é—´éƒ½è¦å¸¦æœ‰ä¸€ä¸ª &quot;\r\n\r\n&quot; ï¼Œå…ˆé€šè¿‡ indexOf è·å–åˆ° &quot;\r\n\r\n&quot; çš„ä¸‹æ ‡ä½ç½®ï¼Œç„¶åé€šè¿‡ substring (index1+4) è·å– &quot;\r\n\r\n&quot;ï¼Œä¹‹åçš„å­—ç¬¦ä¸²ï¼Œå†åˆ¤æ–­å­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å« &quot;=&quot;ï¼Œ<mark>å› ä¸º æ— è®ºæœ‰æ²¡æœ‰è¯·æ±‚ä½“ï¼Œè¯·æ±‚å¤´ä¸è¯·æ±‚ä½“ä¹‹é—´éƒ½è¦å¸¦æœ‰ä¸€ä¸ª &quot;\r\n\r\n&quot;</mark>ï¼Œæ‰€ä»¥åœ¨è¯·æ±‚ index.html çš„æ—¶å€™æ²¡æœ‰ account=admin&amp;password=123ï¼Œå› æ­¤åé¢çš„ä»£ç æ“ä½œå°±ä¼šæŠ¥é”™ ArrayIndexOutOfBoundsExceptionï¼Œæ‰€ä»¥è¦åˆ¤æ–­&quot;=â€œæ¥åˆ¤æ–­åé¢æ˜¯å¦æœ‰ account=admin&amp;password=123 æ•°æ®ï¼Œç„¶åé€šè¿‡â€&amp;â€œå°†â€\r\n\r\n&quot;ä¹‹åçš„å­—ç¬¦ä¸²è¿›è¡Œåˆ‡å‰²åˆ†ä¸ºä¸¤æ®µï¼Œaccount=admin å’Œ password=123ï¼Œå¾ªç¯åˆ‡å‰²åçš„æ•°æ®ï¼Œé€šè¿‡ indexOf (&quot;=&quot;) è·å–&quot;=â€œçš„ä¸‹æ ‡ä½ç½®ï¼Œåœ¨é€šè¿‡ request.getParamMap ().put (i.substring (0,index1),i.substring (index1+1));ï¼Œä» 0 å¼€å§‹åˆ°â€=â€œçš„å‰ä½ç½®çš„å­—ç¬¦ä¸²ä¹Ÿå°±æ˜¯ account å’Œä»â€=&quot; ä¸‹æ ‡ä½ç½® + 1 çš„ä½ç½®å¼€å§‹åˆ°æœ«å°¾ä¹Ÿå°±æ˜¯ adminï¼Œä»¥ key,value çš„å½¢å¼å­˜å‚¨åˆ° Map é›†åˆä¸­ã€‚</p>
</blockquote>
<p><img data-src="./images/image-20230520101847481.png" alt="image-20230520101847481"></p>
<p><img data-src="./images/image-20230520101923595.png" alt="image-20230520101923595"></p>
<p>ç¼–å†™è§£ææ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * è§£æè¯·æ±‚</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> msg</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> Request <span class="title function_">parseRequest</span><span class="params">(String msg)</span>&#123;</span><br><span class="line">   <span class="type">Request</span> <span class="variable">request</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Request</span>();</span><br><span class="line">   String[] split = msg.split(<span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line">   <span class="comment">//è§£æç¬¬ä¸€è¡Œ</span></span><br><span class="line">   <span class="comment">//GET /favicon.ico HTTP/1.1</span></span><br><span class="line">   String[] split0 = split[<span class="number">0</span>].split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">   request.setMethod(split0[<span class="number">0</span>]);<span class="comment">//method : GET</span></span><br><span class="line">   <span class="comment">//åˆ¤æ–­è¯·æ±‚è·¯å¾„ä¸­æ˜¯å¦åŒ…å«?å·</span></span><br><span class="line">   <span class="keyword">if</span>(split0[<span class="number">1</span>].contains(<span class="string">&quot;?&quot;</span>))&#123;</span><br><span class="line">      <span class="comment">// /login.do?account=admin&amp;password=123,ä»¥ï¼Ÿå·è¿›è¡Œåˆ‡å‰²</span></span><br><span class="line">      String[] split1 =  split0[<span class="number">1</span>].split(<span class="string">&quot;[?]&quot;</span>);</span><br><span class="line">      <span class="comment">// /login.do</span></span><br><span class="line">      request.setUri(split1[<span class="number">0</span>]);</span><br><span class="line">      <span class="comment">// account=admin&amp;password=123</span></span><br><span class="line">      String[] split2 = split1[<span class="number">1</span>].split(<span class="string">&quot;[&amp;]&quot;</span>);</span><br><span class="line">      <span class="keyword">for</span>(String i:split2)&#123;</span><br><span class="line">         <span class="type">int</span> <span class="variable">idx</span> <span class="operator">=</span> i.indexOf(<span class="string">&quot;=&quot;</span>);</span><br><span class="line">         request.getParamMap().put(i.substring(<span class="number">0</span>,idx),i.substring(idx+<span class="number">1</span>));</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      request.setUri(split0[<span class="number">1</span>]);<span class="comment">//uri : / æˆ–è€… /favicon.ico</span></span><br><span class="line">      <span class="comment">//è·å–è¯·æ±‚å¤´ä¸è¯·æ±‚ä½“ä¹‹é—´çš„ä½ç½®</span></span><br><span class="line">      <span class="type">int</span> <span class="variable">idx1</span> <span class="operator">=</span> msg.indexOf(<span class="string">&quot;\r\n\r\n&quot;</span>);</span><br><span class="line">      <span class="comment">//æˆªå–è¯·æ±‚å¤´ä¸è¯·æ±‚ä½“ä¹‹åå­—ç¬¦ä¸² m = account=admin&amp;password=123</span></span><br><span class="line">      <span class="type">String</span> <span class="variable">m</span> <span class="operator">=</span> msg.substring(idx1+<span class="number">4</span>);</span><br><span class="line">      <span class="comment">//åˆ¤æ–­mæˆªå–çš„å­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«= , å› ä¸ºå³ä½¿æ²¡æœ‰è¯·æ±‚ä½“ä¹Ÿä¼šæœ‰å®ƒä»¬ä¹‹é—´çš„ç©ºæ ¼æ¢è¡Œç©ºæ ¼æ¢è¡Œå­˜åœ¨,åˆ¤æ–­=æ˜¯åˆ¤æ–­æ˜¯å¦å­˜åœ¨åé¢account=admin&amp;password=123çš„æ•°æ®</span></span><br><span class="line">      <span class="keyword">if</span>(m.contains(<span class="string">&quot;=&quot;</span>))&#123;</span><br><span class="line">         <span class="comment">//åˆ¤æ–­æ˜¯å¦æœ‰è¯·æ±‚å¤´ä¸è¯·æ±‚ä½“ä¹‹é—´çš„ç©ºæ ¼</span></span><br><span class="line">         <span class="keyword">if</span>(idx1 != -<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="comment">//å°†account=admin&amp;password=123 ä¹‹é—´ä»¥&amp;è¿›è¡Œåˆ‡å‰²</span></span><br><span class="line">            String[] spli = m.split(<span class="string">&quot;[&amp;]&quot;</span>);</span><br><span class="line">            <span class="comment">//å¾ªç¯åˆ‡å‰²åçš„æ•°æ®</span></span><br><span class="line">            <span class="keyword">for</span>(String i:spli)&#123;</span><br><span class="line">               <span class="comment">//è·å–=çš„ä½ç½®ä¸‹æ ‡</span></span><br><span class="line">               <span class="type">int</span> <span class="variable">index1</span> <span class="operator">=</span> i.indexOf(<span class="string">&quot;=&quot;</span>);</span><br><span class="line">               <span class="comment">//ä»¥é”®å€¼å¯¹çš„å½¢å¼è·å–=åˆ†éš”å¼€çš„æ•°æ®å­˜å‚¨åˆ°mapé›†åˆä¸­</span></span><br><span class="line">               request.getParamMap().put(i.substring(<span class="number">0</span>,index1),i.substring(index1+<span class="number">1</span>));</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> request;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å®Œæ•´ä»£ç ï¼šMyHttpServer</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> web;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutorService;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Executors;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyHttpServer</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">char</span>[] arr = &#123;<span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;4&#x27;</span>,<span class="string">&#x27;5&#x27;</span>,<span class="string">&#x27;6&#x27;</span>,<span class="string">&#x27;7&#x27;</span>,<span class="string">&#x27;8&#x27;</span>,<span class="string">&#x27;9&#x27;</span>,<span class="string">&#x27;A&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;D&#x27;</span>,<span class="string">&#x27;E&#x27;</span>,<span class="string">&#x27;F&#x27;</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String... args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">8080</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;æœåŠ¡å™¨å·²ç»å¯åŠ¨ï¼Œç›‘å¬ç«¯å£ä¸ºï¼š8080 ...&quot;</span>);</span><br><span class="line">            <span class="type">ExecutorService</span> <span class="variable">executorService</span> <span class="operator">=</span> Executors.newCachedThreadPool();</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line">                executorService.execute(() -&gt; &#123;</span><br><span class="line">                    <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">                    <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        System.out.println(socket);</span><br><span class="line">                        is = socket.getInputStream();</span><br><span class="line">                        os = socket.getOutputStream();</span><br><span class="line">                        <span class="type">byte</span>[] by = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span> * <span class="number">1024</span>];</span><br><span class="line">                        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> is.read(by);</span><br><span class="line">                        <span class="keyword">if</span> (len != -<span class="number">1</span>) &#123;</span><br><span class="line">                            <span class="type">String</span> <span class="variable">hexMsg</span> <span class="operator">=</span> bytesArr2HexStr(by,len);</span><br><span class="line">                            System.out.println(hexMsg);</span><br><span class="line">                            System.out.println(<span class="string">&quot;è¯»å–åˆ°çš„å­—èŠ‚æ•°æ˜¯: &quot;</span> + len);</span><br><span class="line">                            <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(by, <span class="number">0</span>, len);</span><br><span class="line">                            System.out.println(msg);</span><br><span class="line">                            <span class="type">Request</span> <span class="variable">request</span> <span class="operator">=</span> parseRequest(msg);</span><br><span class="line">                            <span class="comment">//å“åº”ç»™æµè§ˆå™¨éœ€è¦ä½¿ç”¨Httpåè®®</span></span><br><span class="line">                            <span class="type">String</span> <span class="variable">body</span> <span class="operator">=</span> <span class="string">&quot;&lt;h1&gt;&quot;</span> + count + <span class="string">&quot;&lt;/h1&gt;&quot;</span>+<span class="string">&quot;\r\n&quot;</span>+<span class="string">&quot;text/plain : plain plain text does not parse html tags&quot;</span>;</span><br><span class="line">                            <span class="comment">//httpåè®®/ç‰ˆæœ¬ çŠ¶æ€ç   çŠ¶æ€ åé¢çš„æ ¼å¼å¿…é¡»æ˜¯\r\nä¸èƒ½ä¹±å†™å¦åˆ™æŠ¥é”™</span></span><br><span class="line">                            <span class="type">String</span> <span class="variable">response</span> <span class="operator">=</span> <span class="string">&quot;HTTP/1.1 200 OK\r\n&quot;</span> +<span class="comment">//HTTP1.1åè®® çŠ¶æ€ç :200 æ­£ç¡® å›è½¦æ¢è¡Œ</span></span><br><span class="line">                                    <span class="comment">//å‘Šè¯‰æµè§ˆå™¨æ–‡æœ¬çš„å†…å®¹å¤§å°</span></span><br><span class="line">                                    <span class="string">&quot;Content-Length: &quot;</span> + body.getBytes().length + <span class="string">&quot;\r\n&quot;</span> +</span><br><span class="line">                                    <span class="comment">//å‘Šè¯‰æµè§ˆå™¨æ–‡æœ¬ç±»å‹: æ™®é€šæ–‡æœ¬/plain ä¸è§£æä»»ä½•ä»£ç è¯­ä¹‰</span></span><br><span class="line">                                    <span class="string">&quot;Content-Type: text/plain; charset-utf-8\r\n&quot;</span> +<span class="comment">//å†…å®¹ç±»å‹æ˜¯æ™®é€šæ–‡æœ¬ å›è½¦æ¢è¡Œ å­—ç¬¦é›†</span></span><br><span class="line">                                    <span class="comment">//å›ºå®šå†™æ³•,å¿…é¡»è¦å†™çš„ç©ºæ ¼æ¢è¡Œ(å¿…é¡»è¦å†™ä¸€ä¸ªç©ºè¡Œ)</span></span><br><span class="line">                                    <span class="string">&quot;\r\n&quot;</span> +<span class="comment">//å›è½¦æ¢è¡Œ,å¦åˆ™åé¢çš„æ•°æ®æ¥æ”¶ä¸åˆ°</span></span><br><span class="line">                                    <span class="comment">//bodyå“åº”æµè§ˆå™¨å†…å®¹</span></span><br><span class="line">                                    <span class="comment">//è¦è¿”å›ç»™æµè§ˆå™¨çš„æ–‡æœ¬æ­£æ–‡(å†…å®¹)</span></span><br><span class="line">                                    body + <span class="string">&quot;\r\n&quot;</span>;<span class="comment">//å›è½¦æ¢è¡Œ,å¦åˆ™åé¢çš„æ•°æ®æ¥æ”¶ä¸åˆ°</span></span><br><span class="line">                            <span class="type">String</span> <span class="variable">file</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">									 <span class="comment">//åˆ¤æ–­è¯·æ±‚çš„æ˜¯å¦æ˜¯index.htmlé¡µé¢</span></span><br><span class="line">                            <span class="keyword">if</span>(request.getUri().equals(<span class="string">&quot;/index.html&quot;</span>))&#123;</span><br><span class="line">									 <span class="comment">//fileèµ‹å€¼ä¸ºindex.htmlæ–‡ä»¶çš„è·¯å¾„</span></span><br><span class="line">                                <span class="comment">//è·å–è¯·æ±‚çš„uriå¹¶æˆªå–ä¸¢å¼ƒå‰é¢çš„ /</span></span><br><span class="line">                                file = request.getUri().substring(<span class="number">1</span>);</span><br><span class="line">                                <span class="comment">/**</span></span><br><span class="line"><span class="comment">                                 * å¦‚æœè¯»å–indexæ–‡ä»¶åˆ™é‡æ–°èµ‹å€¼responseå˜é‡å°†é‡Œé¢çš„bodyå†…å®¹å»æ‰è¿˜æœ‰è¯»å–å¤§å°ä¹Ÿæ²¡å¿…é¡»è®¾ç½®äº†</span></span><br><span class="line"><span class="comment">                                 * å¿…é¡»è®¾ç½®HTTPåè®®ä¿¡æ¯</span></span><br><span class="line"><span class="comment">                                 */</span></span><br><span class="line">                                response = <span class="string">&quot;HTTP/1.1 200 OK\r\n&quot;</span> +<span class="comment">//HTTP1.1åè®® çŠ¶æ€ç :200 æ­£ç¡® å›è½¦æ¢è¡Œ</span></span><br><span class="line">                                        <span class="comment">//å‘Šè¯‰æµè§ˆå™¨æ–‡æœ¬ç±»å‹: æ–‡æœ¬/html htmlé¡µé¢ï¼Œè§£ææ ‡ç­¾ è®¾ç½®å­—ç¬¦é›†</span></span><br><span class="line">                                        <span class="string">&quot;Content-Type: text/html; charset-utf-8\r\n&quot;</span> 														+<span class="comment">//å†…å®¹ç±»å‹æ˜¯æ™®é€šæ–‡æœ¬ å›è½¦æ¢è¡Œ å­—ç¬¦é›†</span></span><br><span class="line">                                        <span class="comment">//å›ºå®šå†™æ³•,å¿…é¡»è¦å†™çš„ç©ºæ ¼æ¢è¡Œ(å¿…é¡»è¦å†™ä¸€ä¸ªç©ºè¡Œ)</span></span><br><span class="line">                                        <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">										 <span class="comment">//åˆ¤æ–­è¯·æ±‚æ˜¯å¦ä¸ºfavicon.icon</span></span><br><span class="line">                            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(request.getUri().equals(<span class="string">&quot;/favicon.ico&quot;</span>))&#123;</span><br><span class="line">										 <span class="comment">//å°†fileèµ‹å€¼ä¸ºiconçš„å›¾æ ‡è·¯å¾„</span></span><br><span class="line">                                <span class="comment">//è·å–è¯·æ±‚çš„uriå¹¶æˆªå–ä¸¢å¼ƒå‰é¢çš„ /</span></span><br><span class="line">                                file = request.getUri().substring(<span class="number">1</span>);</span><br><span class="line">                                <span class="comment">/**</span></span><br><span class="line"><span class="comment">                                 * å¦‚æœè¯»å–indexæ–‡ä»¶åˆ™é‡æ–°èµ‹å€¼responseå˜é‡å°†é‡Œé¢çš„bodyå†…å®¹å»æ‰è¿˜æœ‰è¯»å–å¤§å°ä¹Ÿæ²¡å¿…é¡»è®¾ç½®äº†</span></span><br><span class="line"><span class="comment">                                 * å¿…é¡»è®¾ç½®HTTPåè®®ä¿¡æ¯</span></span><br><span class="line"><span class="comment">                                 */</span></span><br><span class="line">                                response = <span class="string">&quot;HTTP/1.1 200 OK\r\n&quot;</span> +<span class="comment">//HTTP1.1åè®® çŠ¶æ€ç :200 æ­£ç¡® å›è½¦æ¢è¡Œ</span></span><br><span class="line">                                        <span class="comment">//å‘Šè¯‰æµè§ˆå™¨æ–‡æœ¬ç±»å‹: å›¾ç‰‡ç±»å‹/x-icon è®¾ç½®å­—ç¬¦é›†</span></span><br><span class="line">                                        <span class="string">&quot;Content-Type: image/x-icon; charset-utf-														 8\r\n&quot;</span> +<span class="comment">//å†…å®¹ç±»å‹æ˜¯æ™®é€šæ–‡æœ¬ å›è½¦æ¢è¡Œ å­—ç¬¦é›†</span></span><br><span class="line">                                        <span class="comment">//å›ºå®šå†™æ³•,å¿…é¡»è¦å†™çš„ç©ºæ ¼æ¢è¡Œ(å¿…é¡»è¦å†™ä¸€ä¸ªç©ºè¡Œ)</span></span><br><span class="line">                                        <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">										  <span class="comment">//åˆ¤æ–­è¯·æ±‚çš„æ–‡ä»¶åç¼€åæ˜¯å¦ä¸º.gif</span></span><br><span class="line">                            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(request.getUri().endsWith(<span class="string">&quot;.gif&quot;</span>))&#123;</span><br><span class="line">										  <span class="comment">//fileèµ‹å€¼ä¸ºgifå›¾ç‰‡çš„è·¯å¾„</span></span><br><span class="line">                                <span class="comment">//è·å–è¯·æ±‚çš„uriå¹¶æˆªå–ä¸¢å¼ƒå‰é¢çš„ /</span></span><br><span class="line">                                file = request.getUri().substring(<span class="number">1</span>);</span><br><span class="line">										  <span class="comment">//HTTPè¯·æ±‚/ç‰ˆæœ¬  çŠ¶æ€ç  çŠ¶æ€</span></span><br><span class="line">                                response = <span class="string">&quot;HTTP/1.1 200 OK\r\n&quot;</span>+</span><br><span class="line">										  <span class="comment">//å‘Šè¯‰æµè§ˆå™¨è¯·æ±‚çš„ç±»å‹ï¼š å›¾ç‰‡/gifæ ¼å¼ è®¾ç½®å­—ç¬¦é›†</span></span><br><span class="line">                                        <span class="string">&quot;Content-Type: image/gif; charset-utf-8\r\n&quot;</span>+</span><br><span class="line">                                        <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">                            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(request.getUri().endsWith(<span class="string">&quot;.html&quot;</span>))&#123;</span><br><span class="line">											<span class="comment">//fileèµ‹å€¼ä¸ºè¯·æ±‚çš„åç§°åç¼€åä¸ºhtmlçš„æ–‡ä»¶åç§°å»æ‰å‰é¢çš„ /</span></span><br><span class="line">                                file = request.getUri().substring(<span class="number">1</span>);</span><br><span class="line">											<span class="comment">//è®¾ç½®HTTPåè®®</span></span><br><span class="line">											<span class="comment">//åè®®/ç‰ˆæœ¬ çŠ¶æ€ç  çŠ¶æ€</span></span><br><span class="line">                                response = <span class="string">&quot;HTTP/1.1 200 OK\r\n&quot;</span>+</span><br><span class="line">											<span class="comment">//å‘Šè¯‰æµè§ˆå™¨è¯·æ±‚çš„ç±»å‹ï¼šæ–‡æœ¬/html è§£æhtmlæ ‡ç­¾ä»£ç  è®¾ç½®å­—ç¬¦é›†</span></span><br><span class="line">                                        <span class="string">&quot;Content-Type: text/html; charset-utf-8\r\n&quot;</span>+</span><br><span class="line">											<span class="comment">//å¿…é¡»è®¾ç½®æ¢è¡Œç©ºæ ¼</span></span><br><span class="line">                                        <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">											<span class="comment">//åˆ¤æ–­è¯·æ±‚è·¯å¾„æ˜¯å¦ä¸º /login.do</span></span><br><span class="line">                            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(request.getUri().equals(<span class="string">&quot;/login.do&quot;</span>))&#123;</span><br><span class="line">											<span class="comment">//é€šè¿‡keyè·å–value è·å–è´¦å·</span></span><br><span class="line">                                <span class="type">String</span> <span class="variable">account</span> <span class="operator">=</span> request.getParamMap().get(<span class="string">&quot;account&quot;</span>);</span><br><span class="line">											<span class="comment">//é€šè¿‡keyè·å–value è·å–å¯†ç </span></span><br><span class="line">                                <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> request.getParamMap().get(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">											<span class="comment">//åè®®/ç‰ˆæœ¬ çŠ¶æ€ç  çŠ¶æ€ ç©ºæ ¼æ¢è¡Œ</span></span><br><span class="line">                                response = <span class="string">&quot;HTTP/1.1 200 OK\r\n&quot;</span>+</span><br><span class="line">											<span class="comment">//å‘Šè¯‰æµè§ˆå™¨è¯·æ±‚ç±»å‹: æ–‡æœ¬/html è§£æhtmlæ ‡ç­¾ä»£ç  è®¾ç½®å­—ç¬¦é›†</span></span><br><span class="line">                                        <span class="string">&quot;Content-Type: text/html; charset-utf-8\r\n&quot;</span>+</span><br><span class="line">											<span class="comment">//ç©ºæ ¼æ¢è¡Œ</span></span><br><span class="line">                                        <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">											<span class="comment">//åˆ¤æ–­è´¦å·å’Œå¯†ç æ˜¯å¦æ˜¯æˆ‘ä»¬æœŸæœ›çš„</span></span><br><span class="line">                                <span class="keyword">if</span>(<span class="string">&quot;admin&quot;</span>.equals(account) &amp;&amp; <span class="string">&quot;123&quot;</span>.equals(password))&#123;</span><br><span class="line">											<span class="comment">//å¦‚æœæ»¡è¶³æ¡ä»¶ä¹Ÿå°±æ˜¯ç™»å½•æˆåŠŸè·³è½¬åˆ°ä¸»é¡µindex.html</span></span><br><span class="line">                                                <span class="comment">//é‡å®šå‘çŠ¶æ€ç </span></span><br><span class="line">                                    response = <span class="string">&quot;HTTP/1.1 302 Found\r\n&quot;</span>+</span><br><span class="line">                                            <span class="comment">//æˆåŠŸ,é‡å®šå‘åˆ°,index.html</span></span><br><span class="line">											<span class="comment">//è®©æµè§ˆå™¨ä¸»åŠ¨ç”³è¯·ä¸€æ¬¡é¡µé¢</span></span><br><span class="line">                                            <span class="string">&quot;Location: index.html\r\n&quot;</span>+</span><br><span class="line">											<span class="comment">//ç©ºæ ¼æ¢è¡Œ</span></span><br><span class="line">                                            <span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line">                                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">											<span class="comment">//å¦‚æœä¸æ»¡è¶³æ¡ä»¶ä¹Ÿå°±æ˜¯ç™»å½•å¤±è´¥è·³è½¬åˆ°å½“å‰é¡µé¢(ç™»å½•é¡µé¢)login.html</span></span><br><span class="line">											<span class="comment">//ç™»å½•å¤±è´¥è½¬å‘åˆ°login.htmlé¡µé¢</span></span><br><span class="line">                                    file = <span class="string">&quot;login.html&quot;</span>;<span class="comment">//æœåŠ¡å™¨å†…éƒ¨è¯»å–ä¸€ä¸ªæ–‡ä»¶,è¿”å›ç»™æµè§ˆå™¨</span></span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;</span><br><span class="line">									 <span class="comment">//å°†HTTPåè®®ä¿¡æ¯å†™å‡ºåˆ°æµè§ˆå™¨ä¸­(å“åº”å›å»)</span></span><br><span class="line">                            os.write(response.getBytes());</span><br><span class="line">									 <span class="comment">//åˆ¤æ–­å¦‚æœfileä¸ä¸ºç©ºï¼Œé‚£ä¹ˆè¯·æ±‚çš„å°±æ˜¯index.htmlé¡µé¢åˆ™æ‰§è¡Œæ–¹æ³•ä½“</span></span><br><span class="line">                            <span class="keyword">if</span>(file != <span class="literal">null</span>)&#123;</span><br><span class="line">									 <span class="comment">//æ–‡ä»¶è¾“å…¥æµè¯»å–æ–‡ä»¶</span></span><br><span class="line">                                <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file);</span><br><span class="line">                                <span class="keyword">while</span>((len = fis.read(by)) != -<span class="number">1</span>)&#123;</span><br><span class="line">									 <span class="comment">//å°†è¯»å–åˆ°çš„é¡µé¢å­—èŠ‚æ•°æ®å†™å‡ºåˆ°æµè§ˆå™¨</span></span><br><span class="line">                                    os.write(by,<span class="number">0</span>,len);</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                                <span class="comment">//å°†ä¸Šé¢çš„HTTPåè®®ä¿¡æ¯å’Œå“åº”çš„æ•°æ®å†™å‡ºåˆ°æµè§ˆå™¨ä¸­</span></span><br><span class="line">                                os.write(response.getBytes());</span><br><span class="line">                                count++;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            System.out.println(<span class="string">&quot;æ²¡æœ‰è¯»å–åˆ°æ•°æ®&quot;</span>);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">                        <span class="keyword">try</span>&#123;</span><br><span class="line">                            <span class="keyword">if</span>(os != <span class="literal">null</span>)&#123;</span><br><span class="line">                                os.flush();<span class="comment">//å°†æ•°æ®åˆ·å‡º</span></span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">if</span>(socket != <span class="literal">null</span>)&#123;</span><br><span class="line">                                <span class="comment">//ä¸Šä¸€æ®µå¯¹è¯å·²ç»ç»“æŸè¿›è¡Œä¸‹ä¸€æ®µå¯¹è¯</span></span><br><span class="line">                                socket.shutdownOutput();</span><br><span class="line">                                socket.close();<span class="comment">//å…³é—­å¥—æ¥å­—èµ„æº</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;<span class="keyword">catch</span>(IOException e)&#123;</span><br><span class="line">                            e.printStackTrace();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è§£æè¯·æ±‚</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> msg</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Request <span class="title function_">parseRequest</span><span class="params">(String msg)</span>&#123;</span><br><span class="line">        <span class="type">Request</span> <span class="variable">request</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Request</span>();</span><br><span class="line">        String[] split = msg.split(<span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line">		  <span class="comment">//è§£æç¬¬ä¸€è¡Œ</span></span><br><span class="line">		  <span class="comment">//GET /favicon.ico HTTP/1.1</span></span><br><span class="line">        String[] split0 = split[<span class="number">0</span>].split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">        request.setMethod(split0[<span class="number">0</span>]);<span class="comment">//method : GET</span></span><br><span class="line">        <span class="comment">//åˆ¤æ–­è¯·æ±‚è·¯å¾„ä¸­æ˜¯å¦åŒ…å«?å·</span></span><br><span class="line">        <span class="keyword">if</span>(split0[<span class="number">1</span>].contains(<span class="string">&quot;?&quot;</span>))&#123;</span><br><span class="line">            <span class="comment">// /login.do?account=admin&amp;password=123,ä»¥ï¼Ÿå·è¿›è¡Œåˆ‡å‰²</span></span><br><span class="line">            String[] split1 =  split0[<span class="number">1</span>].split(<span class="string">&quot;[?]&quot;</span>);</span><br><span class="line">            <span class="comment">// /login.do</span></span><br><span class="line">            request.setUri(split1[<span class="number">0</span>]);</span><br><span class="line">            <span class="comment">// account=admin&amp;password=123</span></span><br><span class="line">            String[] split2 = split1[<span class="number">1</span>].split(<span class="string">&quot;[&amp;]&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span>(String i:split2)&#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">idx</span> <span class="operator">=</span> i.indexOf(<span class="string">&quot;=&quot;</span>);</span><br><span class="line">                request.getParamMap().put(i.substring(<span class="number">0</span>,idx),i.substring(idx+<span class="number">1</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            request.setUri(split0[<span class="number">1</span>]);<span class="comment">//uri : / æˆ–è€… /favicon.ico</span></span><br><span class="line">				<span class="comment">//è·å–è¯·æ±‚å¤´ä¸è¯·æ±‚ä½“ä¹‹é—´çš„ä½ç½®</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">idx1</span> <span class="operator">=</span> msg.indexOf(<span class="string">&quot;\r\n\r\n&quot;</span>);</span><br><span class="line">				<span class="comment">//æˆªå–è¯·æ±‚å¤´ä¸è¯·æ±‚ä½“ä¹‹åå­—ç¬¦ä¸² m = account=admin&amp;password=123</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">m</span> <span class="operator">=</span> msg.substring(idx1+<span class="number">4</span>);</span><br><span class="line">				<span class="comment">//åˆ¤æ–­mæˆªå–çš„å­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«= , å› ä¸ºå³ä½¿æ²¡æœ‰è¯·æ±‚ä½“ä¹Ÿä¼šæœ‰å®ƒä»¬ä¹‹é—´çš„ç©ºæ ¼æ¢è¡Œç©ºæ ¼æ¢è¡Œå­˜åœ¨,åˆ¤æ–­=æ˜¯åˆ¤æ–­æ˜¯å¦å­˜åœ¨åé¢account=admin&amp;password=123çš„æ•°æ®</span></span><br><span class="line">            <span class="keyword">if</span>(m.contains(<span class="string">&quot;=&quot;</span>))&#123;</span><br><span class="line">				<span class="comment">//åˆ¤æ–­æ˜¯å¦æœ‰è¯·æ±‚å¤´ä¸è¯·æ±‚ä½“ä¹‹é—´çš„ç©ºæ ¼</span></span><br><span class="line">                <span class="keyword">if</span>(idx1 != -<span class="number">1</span>)&#123;</span><br><span class="line">				<span class="comment">//å°†account=admin&amp;password=123 ä¹‹é—´ä»¥&amp;è¿›è¡Œåˆ‡å‰²</span></span><br><span class="line">                    String[] spli = m.split(<span class="string">&quot;[&amp;]&quot;</span>);</span><br><span class="line">				<span class="comment">//å¾ªç¯åˆ‡å‰²åçš„æ•°æ®</span></span><br><span class="line">                    <span class="keyword">for</span>(String i:spli)&#123;</span><br><span class="line">				<span class="comment">//è·å–=çš„ä½ç½®ä¸‹æ ‡</span></span><br><span class="line">                        <span class="type">int</span> <span class="variable">index1</span> <span class="operator">=</span> i.indexOf(<span class="string">&quot;=&quot;</span>);</span><br><span class="line">				<span class="comment">//ä»¥é”®å€¼å¯¹çš„å½¢å¼è·å–=åˆ†éš”å¼€çš„æ•°æ®å­˜å‚¨åˆ°mapé›†åˆä¸­</span></span><br><span class="line">                        request.getParamMap().put(i.substring(<span class="number">0</span>,index1),i.substring(index1+<span class="number">1</span>));</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> request;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å°†ä¼ å…¥çš„æ•´ä¸ªäºŒè¿›åˆ¶æ•°æ®å…¨éƒ¨è½¬æ¢ä¸ºåå…­è¿›åˆ¶çš„æ•°æ®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> by æ¥æ”¶å­—èŠ‚æ•°ç»„</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> len æ•°æ®çš„å¤§å°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String <span class="title function_">bytesArr2HexStr</span><span class="params">(<span class="type">byte</span>[] by,<span class="type">int</span> len)</span>&#123;</span><br><span class="line">		  <span class="comment">//ä½¿ç”¨StringBufferæ¥æ¥æ”¶è½¬æ¢åçš„åå…­è¿›åˆ¶æ•°æ®</span></span><br><span class="line">        <span class="type">StringBuffer</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">        <span class="type">StringBuffer</span> <span class="variable">sbLeft</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">        <span class="type">StringBuffer</span> <span class="variable">fenge</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">        <span class="type">StringBuffer</span> <span class="variable">sbRight</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; len;i ++)&#123;</span><br><span class="line">				<span class="comment">//æ¯è¿½åŠ ä¸€ä¸ªåå…­è¿›åˆ¶æ•°æ®å°±æ‹¼æ¥ä¸€ä¸ªç©ºæ ¼</span></span><br><span class="line">            sbLeft.append(byte2Hex(by[i])+<span class="string">&quot; &quot;</span>);</span><br><span class="line">				<span class="comment">//åˆ¤æ–­å¯è§å­—ç¬¦çš„èŒƒå›´</span></span><br><span class="line">            <span class="keyword">if</span>(by[i] &gt;= <span class="number">0x20</span> &amp;&amp; by[i] &lt;= <span class="number">0x7e</span>)&#123;</span><br><span class="line">				<span class="comment">//å°†äºŒè¿›åˆ¶æ•°æ®è½¬æ¢ä¸ºcharå­—ç¬¦æ‹¼æ¥åˆ°StringBufferä¸­</span></span><br><span class="line">                sbRight.append((<span class="type">char</span>)by[i]);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				<span class="comment">//å¦‚æœä¸åœ¨å¯è§èŒƒå›´å†…åˆ™è¿½åŠ ä¸€ä¸ª . å³å¯</span></span><br><span class="line">                sbRight.append(<span class="string">&quot;.&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">				<span class="comment">//åˆ¤æ–­æ¯ç¬¬8ä¸ªå¤šè¿½åŠ ä¸€ä¸ªç©ºæ ¼ i+1é¿å…ç¬¬ä¸€ä¸ªå°±æ»¡è¶³æ¡ä»¶</span></span><br><span class="line">            <span class="keyword">if</span>((i + <span class="number">1</span>) % <span class="number">8</span> == <span class="number">0</span>)</span><br><span class="line">                sbLeft.append(<span class="string">&quot; &quot;</span>);</span><br><span class="line">				<span class="comment">//åˆ¤æ–­æ¯16ä¸ªè¿›è¡Œæ¢è¡Œç©ºæ ¼ i+1é¿å…ç¬¬ä¸€ä¸ªå°±æ»¡è¶³æ¡ä»¶</span></span><br><span class="line">            <span class="keyword">if</span>(i % <span class="number">16</span> == <span class="number">0</span>)&#123;</span><br><span class="line">                fenge.append(<span class="string">&quot;.......&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>((i + <span class="number">1</span>) % <span class="number">16</span> == <span class="number">0</span>)&#123;</span><br><span class="line">                sb.append(fenge).append(sbLeft).append(fenge).append(sbRight).append(<span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line">                sbLeft = <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">                sbRight = <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">                fenge = <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        sb.append(fenge).append(sbLeft).append(<span class="string">&quot;  &quot;</span>).append(fenge).append(sbRight).append(<span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line">		<span class="comment">//å°†StringBufferè½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶è¿”å›</span></span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 3a -&gt; &quot;3A&quot;</span></span><br><span class="line"><span class="comment">     * a5 -&gt; &quot;A5&quot;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> bt</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String <span class="title function_">byte2Hex</span><span class="params">(<span class="type">byte</span> bt)</span>&#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 00111111</span></span><br><span class="line"><span class="comment">         * &amp;</span></span><br><span class="line"><span class="comment">         * 00001111</span></span><br><span class="line"><span class="comment">         * æ“ä½œ:</span></span><br><span class="line"><span class="comment">         * 00001111</span></span><br><span class="line"><span class="comment">         * ç»“æœï¼š15 å¯¹åº”ç»“æœ: F</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">lo</span> <span class="operator">=</span> bt &amp; <span class="number">0b00001111</span>;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 00111111</span></span><br><span class="line"><span class="comment">         * &amp;</span></span><br><span class="line"><span class="comment">         * 11110000</span></span><br><span class="line"><span class="comment">         * æ“ä½œ:</span></span><br><span class="line"><span class="comment">         * 00110000</span></span><br><span class="line"><span class="comment">         * ç»“æœ:</span></span><br><span class="line"><span class="comment">         * 48</span></span><br><span class="line"><span class="comment">         * &gt;&gt; 4</span></span><br><span class="line"><span class="comment">         * ç»“æœ:</span></span><br><span class="line"><span class="comment">         * 24 12 6 3</span></span><br><span class="line"><span class="comment">         * æœ€ç»ˆç»“æœ:</span></span><br><span class="line"><span class="comment">         * 3 å¯¹åº”ç»“æœ 3</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">hi</span> <span class="operator">=</span> (bt &amp; <span class="number">0b11110000</span>) &gt;&gt; <span class="number">4</span>;</span><br><span class="line">        <span class="type">char</span> <span class="variable">clo</span> <span class="operator">=</span> arr[lo];</span><br><span class="line">        <span class="type">char</span> <span class="variable">chi</span> <span class="operator">=</span> arr[hi];</span><br><span class="line">        <span class="keyword">return</span> chi + <span class="string">&quot;&quot;</span> + clo;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

  </div>

   <footer>

    <div class="meta">
  <span class="item">
    <span class="icon">
      <i class="ic i-calendar-check"></i>
    </span>
    <span class="text">æ›´æ–°äº</span>
    <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-12-31 10:13:40" itemprop="dateModified" datetime="2023-12-31T10:13:40+08:00">2023-12-31</time>
  </span>
</div>

      
<div class="reward">
  <button><i class="ic i-heartbeat"></i> èµèµ</button>
  <p>è¯·æˆ‘å–[èŒ¶]~(ï¿£â–½ï¿£)~*</p>
  <div id="qr">
      
      <div>
        <img data-src="/images/wechatpay.png" alt="Dkx å¾®ä¿¡æ”¯ä»˜">
        <p>å¾®ä¿¡æ”¯ä»˜</p>
      </div>
      
      <div>
        <img data-src="/images/alipay.png" alt="Dkx æ”¯ä»˜å®">
        <p>æ”¯ä»˜å®</p>
      </div>
      
      <div>
        <img data-src="/images/paypal.png" alt="Dkx è´å®">
        <p>è´å®</p>
      </div>
  </div>
</div>

      

<div id="copyright">
<ul>
  <li class="author">
    <strong>æœ¬æ–‡ä½œè€…ï¼š </strong>Dkx <i class="ic i-at"><em>@</em></i>Dkx ã® Java å°çª
  </li>
  <li class="link">
    <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
    <a href="https://pigpigletsgo.github.io/2023/12/30/computer-science/java/%E7%BA%AFJava%E7%BC%96%E5%86%99%E4%BB%BF%E7%9C%9FHttp%E6%9C%8D%E5%8A%A1%E5%99%A8/" title="çº¯ java ä»¿å†™ http æœåŠ¡å™¨">https://pigpigletsgo.github.io/2023/12/30/computer-science/java/çº¯Javaç¼–å†™ä»¿çœŸHttpæœåŠ¡å™¨/</a>
  </li>
  <li class="license">
    <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬ç«™æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
  </li>
</ul>
</div>

  </footer>

</article>

  </div>
  

<div class="post-nav">
    <div class="item left">
      

  <a href="/2023/12/30/computer-science/java/data-structures-and-algorithms/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;img.timelessq.com&#x2F;images&#x2F;2022&#x2F;07&#x2F;26&#x2F;5651daf17bf5de77514e658264d7cccc.jpg" title="æ•°æ®ç»“æ„ä¸ç®—æ³•">
  <span class="type">ä¸Šä¸€ç¯‡</span>
  <span class="category"><i class="ic i-flag"></i> Java</span>
  <h3>æ•°æ®ç»“æ„ä¸ç®—æ³•</h3>
  </a>

    </div>
    <div class="item right">
      

  <a href="/2023/12/30/computer-science/web/HTML5+CSS3/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;img.timelessq.com&#x2F;images&#x2F;2022&#x2F;07&#x2F;26&#x2F;560306a4274d1fc26eb475dd52237387.jpg" title="HTML5+CSS3">
  <span class="type">ä¸‹ä¸€ç¯‡</span>
  <span class="category"><i class="ic i-flag"></i> web</span>
  <h3>HTML5+CSS3</h3>
  </a>

    </div>
</div>

  
  <div class="wrap" id="comments"></div>


        </div>
        <div id="sidebar">
          

<div class="inner">

  <div class="panels">
    <div class="inner">
      <div class="contents panel pjax" data-title="æ–‡ç« ç›®å½•">
          <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82"><span class="toc-number">1.</span> <span class="toc-text"> è¯·æ±‚ğŸŒ—</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%93%8D%E5%BA%94"><span class="toc-number">2.</span> <span class="toc-text"> å“åº”ğŸ˜‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E4%BF%A1%E6%81%AF%E5%8D%81%E5%85%AD%E8%BF%9B%E5%88%B6%E6%98%BE%E7%A4%BA%EF%B8%8F"><span class="toc-number">3.</span> <span class="toc-text"> è¯·æ±‚ä¿¡æ¯åå…­è¿›åˆ¶æ˜¾ç¤ºâš¡ï¸</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%86%E5%A4%9A%E4%B8%AA%E4%BA%8C%E8%BF%9B%E5%88%B6%E8%BD%AC%E5%8D%81%E5%85%AD%E8%BF%9B%E5%88%B6%E7%9A%84%E6%95%B0%E6%8D%AE%E6%8B%BC%E6%8E%A5%E6%89%93%E5%8D%B0%EF%B8%8F"><span class="toc-number">3.1.</span> <span class="toc-text"> å°†å¤šä¸ªäºŒè¿›åˆ¶è½¬åå…­è¿›åˆ¶çš„æ•°æ®æ‹¼æ¥æ‰“å°â˜¢ï¸</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E5%A4%B4%E4%BF%A1%E6%81%AFascii%E7%A0%81%E6%98%BE%E7%A4%BA"><span class="toc-number">4.</span> <span class="toc-text"> è¯·æ±‚å¤´ä¿¡æ¯ ASCII ç æ˜¾ç¤ºğŸŒ“</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9E%E6%98%BE%E4%B8%BB%E9%A1%B5%E5%92%8Cfavicon"><span class="toc-number">5.</span> <span class="toc-text"> å›æ˜¾ä¸»é¡µå’Œ faviconğŸ¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BB%E9%A1%B5%E4%B8%AD%E6%9C%89img%E5%9B%BE%E7%89%87%E6%A0%87%E7%AD%BE"><span class="toc-number">6.</span> <span class="toc-text"> ä¸»é¡µä¸­æœ‰ img å›¾ç‰‡æ ‡ç­¾ğŸ’</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BB%E9%A1%B5%E8%B7%B3%E8%BD%AC%E5%88%B0%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2"><span class="toc-number">7.</span> <span class="toc-text"> ä¸»é¡µè·³è½¬åˆ°ç™»å½•é¡µé¢ğŸ•‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95%E7%99%BB%E5%BD%95%E5%9B%9E%E6%98%BE%E6%96%87%E6%9C%AC"><span class="toc-number">8.</span> <span class="toc-text"> è¡¨å•ç™»å½•å›æ˜¾æ–‡æœ¬ğŸ”</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BD%AC%E5%8F%91%E5%92%8C%E9%87%8D%E5%AE%9A%E5%90%91%EF%B8%8F"><span class="toc-number">9.</span> <span class="toc-text"> è½¬å‘å’Œé‡å®šå‘âš¡ï¸</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#http%E5%93%8D%E5%BA%94%E4%BB%A3%E7%A0%81%EF%B8%8F"><span class="toc-number">9.1.</span> <span class="toc-text"> HTTP å“åº”ä»£ç âš¡ï¸</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8post%E6%96%B9%E5%BC%8F%E6%8F%90%E4%BA%A4%E8%A1%A8%E5%8D%95%EF%B8%8F"><span class="toc-number">10.</span> <span class="toc-text"> ä½¿ç”¨ POST æ–¹å¼æäº¤è¡¨å•â˜”ï¸</span></a></li></ol>
      </div>
      <div class="related panel pjax" data-title="ç³»åˆ—æ–‡ç« ">
        <ul>
          <li class="active"><a href="/2023/12/30/computer-science/java/%E7%BA%AFJava%E7%BC%96%E5%86%99%E4%BB%BF%E7%9C%9FHttp%E6%9C%8D%E5%8A%A1%E5%99%A8/" rel="bookmark" title="çº¯javaä»¿å†™httpæœåŠ¡å™¨">çº¯javaä»¿å†™httpæœåŠ¡å™¨</a></li>
        </ul>
      </div>
      <div class="overview panel" data-title="ç«™ç‚¹æ¦‚è§ˆ">
        <div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="image" itemprop="image" alt="Dkx"
      data-src="/images/avatar.jpg">
  <p class="name" itemprop="name">Dkx</p>
  <div class="description" itemprop="description">æ¬¢è¿æ¥æˆ‘çš„åšå®¢ç©ºé—´</div>
</div>

<nav class="state">
    <div class="item posts">
      <a href="/archives/">
        <span class="count">7</span>
        <span class="name">æ–‡ç« </span>
      </a>
    </div>
    <div class="item categories">
      <a href="/categories/">
        <span class="count">10</span>
        <span class="name">åˆ†ç±»</span>
      </a>
    </div>
</nav>

<div class="social">
      <span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL1BpZ1BpZ0xldHNHbw==" title="https:&#x2F;&#x2F;github.com&#x2F;PigPigLetsGo"><i class="ic i-github"></i></span>
      <span class="exturl item twitter" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS9Ea3gxMjE5" title="https:&#x2F;&#x2F;twitter.com&#x2F;Dkx1219"><i class="ic i-twitter"></i></span>
      <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS96dWktaG91LXllLWJlaS1sdWUtc2hh" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;zui-hou-ye-bei-lue-sha"><i class="ic i-zhihu"></i></span>
      <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTU3NjUxMDQ1OQ==" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;576510459"><i class="ic i-cloud-music"></i></span>
      <span class="exturl item weibo" data-url="aHR0cHM6Ly93d3cud2VpYm8uY29tL3UvNTk5OTU0OTg0MQ==" title="https:&#x2F;&#x2F;www.weibo.com&#x2F;u&#x2F;5999549841"><i class="ic i-weibo"></i></span>
      <span class="exturl item facebook" data-url="aHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3Byb2ZpbGUucGhwP2lkPTEwMDA5NDA4Nzc0ODIwMQ==" title="https:&#x2F;&#x2F;www.facebook.com&#x2F;profile.php?id&#x3D;100094087748201"><i class="ic i-facebook"></i></span>
      <span class="exturl item youtube" data-url="aHR0cHM6Ly93d3cueW91dHViZS5jb20vQERreC12djdsbQ==" title="https:&#x2F;&#x2F;www.youtube.com&#x2F;@Dkx-vv7lm"><i class="ic i-youtube"></i></span>
      <span class="exturl item instagram" data-url="aHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS9kb3Vka3g/aWdzaD1PR1E1WkRjMk9EazJaQSUzRCUzRCZ1dG1fc291cmNlPXFy" title="https:&#x2F;&#x2F;www.instagram.com&#x2F;doudkx?igsh&#x3D;OGQ5ZDc2ODk2ZA%3D%3D&amp;utm_source&#x3D;qr"><i class="ic i-instagram"></i></span>
      <span class="exturl item telegram" data-url="aHR0cHM6Ly90Lm1lL2RvdTAxMDg=" title="https:&#x2F;&#x2F;t.me&#x2F;dou0108"><i class="ic i-twitter"></i></span>
</div>

<ul class="menu">
  
    
  <li class="item">
    <a href="/" rel="section"><i class="ic i-home"></i>é¦–é¡µ</a>
  </li>

        
  <li class="item dropdown">
      <a href="javascript:void(0);"><i class="ic i-feather"></i>æ–‡ç« </a>
    <ul class="submenu">

        
  <li class="item">
    <a href="/archives/" rel="section"><i class="ic i-list-alt"></i>å½’æ¡£</a>
  </li>

        
  <li class="item">
    <a href="/categories/" rel="section"><i class="ic i-th"></i>åˆ†ç±»</a>
  </li>

        
  <li class="item">
    <a href="/tags/" rel="section"><i class="ic i-tags"></i>æ ‡ç­¾</a>
  </li>

  </ul>
    
  <li class="item">
    <a href="/friends/" rel="section"><i class="ic i-heart"></i>friends</a>
  </li>

    
  <li class="item">
    <a href="/links/" rel="section"><i class="ic i-magic"></i>links</a>
  </li>


</ul>

      </div>
    </div>
  </div>

  <ul id="quick">
    <li class="prev pjax">
        <a href="/2023/12/30/computer-science/java/data-structures-and-algorithms/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/" rel="prev" title="ä¸Šä¸€ç¯‡"><i class="ic i-chevron-left"></i></a>
    </li>
    <li class="up"><i class="ic i-arrow-up"></i></li>
    <li class="down"><i class="ic i-arrow-down"></i></li>
    <li class="next pjax">
        <a href="/2023/12/30/computer-science/web/HTML5+CSS3/" rel="next" title="ä¸‹ä¸€ç¯‡"><i class="ic i-chevron-right"></i></a>
    </li>
    <li class="percent"></li>
  </ul>
</div>


        </div>
        <div class="dimmer"></div>
      </div>
    </main>
    <footer id="footer">
      <div class="inner">
        <div class="widgets">
          
<div class="rpost pjax">
  <h2>éšæœºæ–‡ç« </h2>
  <ul>
      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/void/" title="åˆ†ç±»äº void">void</a>
<i class="ic i-angle-right"></i>
<a href="/categories/void/Reality/" title="åˆ†ç±»äº Reality">Reality</a>
<i class="ic i-angle-right"></i>
<a href="/categories/void/Reality/movie/" title="åˆ†ç±»äº movie">movie</a>
</div>

    <span><a href="/2023/12/30/void/movie/Reality/%E5%8A%A0%E8%8F%B2%E7%8C%AB%E7%94%B5%E5%BD%B1/" title="åŠ è²çŒ«-ç”µå½±">åŠ è²çŒ«-ç”µå½±</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/void/" title="åˆ†ç±»äº void">void</a>
<i class="ic i-angle-right"></i>
<a href="/categories/void/animation/" title="åˆ†ç±»äº animation">animation</a>
<i class="ic i-angle-right"></i>
<a href="/categories/void/animation/movie/" title="åˆ†ç±»äº movie">movie</a>
</div>

    <span><a href="/2023/12/31/void/movie/animation/%E5%86%B0%E6%B2%B3%E4%B8%96%E7%BA%AA/" title="å†°æ²³ä¸–çºª">å†°æ²³ä¸–çºª</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/computer-science/" title="åˆ†ç±»äº è®¡ç®—æœºå­¦ç§‘">è®¡ç®—æœºå­¦ç§‘</a>
<i class="ic i-angle-right"></i>
<a href="/categories/computer-science/data-structures-and-algorithms/" title="åˆ†ç±»äº æ•°æ®ç»“æ„ä¸ç®—æ³•">æ•°æ®ç»“æ„ä¸ç®—æ³•</a>
<i class="ic i-angle-right"></i>
<a href="/categories/computer-science/data-structures-and-algorithms/java/" title="åˆ†ç±»äº Java">Java</a>
</div>

    <span><a href="/2023/12/30/computer-science/java/data-structures-and-algorithms/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/" title="æ•°æ®ç»“æ„ä¸ç®—æ³•">æ•°æ®ç»“æ„ä¸ç®—æ³•</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/void/" title="åˆ†ç±»äº void">void</a>
<i class="ic i-angle-right"></i>
<a href="/categories/void/animation/" title="åˆ†ç±»äº animation">animation</a>
<i class="ic i-angle-right"></i>
<a href="/categories/void/animation/movie/" title="åˆ†ç±»äº movie">movie</a>
</div>

    <span><a href="/2023/12/30/void/movie/animation/%E7%90%A6%E5%AE%AB%E5%A5%87%E9%AA%8F-%E5%8D%83%E4%B8%8E%E5%8D%83%E5%AF%BB/" title="ç¦å®«å¥‡éª-åƒä¸åƒå¯»">ç¦å®«å¥‡éª-åƒä¸åƒå¯»</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/computer-science/" title="åˆ†ç±»äº è®¡ç®—æœºå­¦ç§‘">è®¡ç®—æœºå­¦ç§‘</a>
<i class="ic i-angle-right"></i>
<a href="/categories/computer-science/data-structures-and-algorithms/" title="åˆ†ç±»äº æ•°æ®ç»“æ„ä¸ç®—æ³•">æ•°æ®ç»“æ„ä¸ç®—æ³•</a>
<i class="ic i-angle-right"></i>
<a href="/categories/computer-science/data-structures-and-algorithms/java/" title="åˆ†ç±»äº Java">Java</a>
</div>

    <span><a href="/2023/12/30/computer-science/java/data-structures-and-algorithms/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE-%E8%AF%A6%E7%BB%86/" title="äºŒåˆ†æŸ¥æ‰¾[è¯¦ç»†]">äºŒåˆ†æŸ¥æ‰¾[è¯¦ç»†]</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/web/" title="åˆ†ç±»äº web">web</a>
</div>

    <span><a href="/2023/12/30/computer-science/web/HTML5+CSS3/" title="HTML5+CSS3">HTML5+CSS3</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/computer-science/" title="åˆ†ç±»äº è®¡ç®—æœºå­¦ç§‘">è®¡ç®—æœºå­¦ç§‘</a>
<i class="ic i-angle-right"></i>
<a href="/categories/computer-science/java/" title="åˆ†ç±»äº Java">Java</a>
</div>

    <span><a href="/2023/12/30/computer-science/java/%E7%BA%AFJava%E7%BC%96%E5%86%99%E4%BB%BF%E7%9C%9FHttp%E6%9C%8D%E5%8A%A1%E5%99%A8/" title="çº¯javaä»¿å†™httpæœåŠ¡å™¨">çº¯javaä»¿å†™httpæœåŠ¡å™¨</a></span>
  </li>

  </ul>
</div>

        </div>
        <div class="status">
  <div class="copyright">
    
    &copy; 2010 â€“ 
    <span itemprop="copyrightYear">2023</span>
    <span class="with-love">
      <i class="ic i-sakura rotate"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Dkx @ Douçš„ä¸ªäººåšå®¢</span>
  </div>
  <div class="count">
    <span class="post-meta-item-icon">
      <i class="ic i-chart-area"></i>
    </span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">392k å­—</span>

    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="ic i-coffee"></i>
    </span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">5:56</span>
  </div>
  <div class="powered-by">
    åŸºäº <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span>
  </div>
</div>

      </div>
    </footer>
  </div>
<script data-config type="text/javascript">
  var LOCAL = {
    path: '2023/12/30/computer-science/java/çº¯Javaç¼–å†™ä»¿çœŸHttpæœåŠ¡å™¨/',
    favicon: {
      show: "ï¼ˆâ—Â´3ï½€â—ï¼‰ã‚„ã‚Œã‚„ã‚Œã ãœ",
      hide: "(Â´Ğ”ï½€)å¤§å¤‰ã ï¼"
    },
    search : {
      placeholder: "æ–‡ç« æœç´¢",
      empty: "å…³äº ã€Œ ${query} ã€ï¼Œä»€ä¹ˆä¹Ÿæ²¡æœåˆ°",
      stats: "${time} ms å†…æ‰¾åˆ° ${hits} æ¡ç»“æœ"
    },
    valine: true,fancybox: true,
    copyright: 'å¤åˆ¶æˆåŠŸï¼Œè½¬è½½è¯·éµå®ˆ <i class="ic i-creative-commons"></i>BY-NC-SA åè®®ã€‚',
    ignores : [
      function(uri) {
        return uri.includes('#');
      },
      function(uri) {
        return new RegExp(LOCAL.path+"$").test(uri);
      }
    ]
  };
</script>

<script src="https://cdn.polyfill.io/v2/polyfill.js"></script>

<script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script>

<script src="/js/app.js?v=0.2.5"></script>




</body>
</html>
